"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[30026],{57528(e,t,o){function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}o.d(t,{A:()=>r})},2395(e,t,o){o.d(t,{L0:()=>h,Ot:()=>f,W4:()=>a,uV:()=>p});var r=o(6326),n=o(42553),s=o(46053),i=(o(81806),o(76460),o(47249),o(6409)),u=o(87990);let a=class extends n.o{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,r.Cg)([(0,s.MZ)({type:Number})],a.prototype,"nodesPerPage",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],a.prototype,"rootIndex",void 0),(0,r.Cg)([(0,s.MZ)({type:String})],a.prototype,"lodSelectionMetricType",void 0),a=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],a);let l=class extends n.o{constructor(){super(...arguments),this.factor=1}};(0,r.Cg)([(0,s.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],l.prototype,"id",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],l.prototype,"factor",void 0),l=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],l);let c=class extends n.o{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,r.Cg)([(0,s.MZ)({type:[Number]})],c.prototype,"baseColorFactor",void 0),(0,r.Cg)([(0,s.MZ)({type:l})],c.prototype,"baseColorTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:l})],c.prototype,"metallicRoughnessTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],c.prototype,"metallicFactor",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],c.prototype,"roughnessFactor",void 0),c=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],c);let p=class extends n.o{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,r.Cg)([(0,i.e)({opaque:"opaque",mask:"mask",blend:"blend"})],p.prototype,"alphaMode",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],p.prototype,"alphaCutoff",void 0),(0,r.Cg)([(0,s.MZ)({type:Boolean})],p.prototype,"doubleSided",void 0),(0,r.Cg)([(0,i.e)({none:"none",back:"back",front:"front"})],p.prototype,"cullFace",void 0),(0,r.Cg)([(0,s.MZ)({type:l})],p.prototype,"normalTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:l})],p.prototype,"occlusionTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:l})],p.prototype,"emissiveTexture",void 0),(0,r.Cg)([(0,s.MZ)({type:[Number]})],p.prototype,"emissiveFactor",void 0),(0,r.Cg)([(0,s.MZ)({type:c})],p.prototype,"pbrMetallicRoughness",void 0),p=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],p);let d=class extends n.o{};(0,r.Cg)([(0,s.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:"".concat(t.index)}}})],d.prototype,"name",void 0),(0,r.Cg)([(0,i.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],d.prototype,"format",void 0),d=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],d);let f=class extends n.o{constructor(){super(...arguments),this.atlas=!1}};(0,r.Cg)([(0,s.MZ)({type:[d]})],f.prototype,"formats",void 0),(0,r.Cg)([(0,s.MZ)({type:Boolean})],f.prototype,"atlas",void 0),f=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],f);let y=class extends n.o{};(0,r.Cg)([(0,i.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],y.prototype,"type",void 0),(0,r.Cg)([(0,s.MZ)({type:Number})],y.prototype,"component",void 0),y=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],y);let v=class extends n.o{};(0,r.Cg)([(0,i.e)({draco:"draco"})],v.prototype,"encoding",void 0),(0,r.Cg)([(0,s.MZ)({type:[String]})],v.prototype,"attributes",void 0),v=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],v);let g=class extends n.o{constructor(){super(...arguments),this.offset=0}};(0,r.Cg)([(0,s.MZ)({type:Number})],g.prototype,"offset",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"position",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"normal",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"uv0",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"color",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"uvRegion",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"featureId",void 0),(0,r.Cg)([(0,s.MZ)({type:y})],g.prototype,"faceRange",void 0),(0,r.Cg)([(0,s.MZ)({type:v})],g.prototype,"compressedAttributes",void 0),g=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],g);let h=class extends n.o{};(0,r.Cg)([(0,i.e)({triangle:"triangle"})],h.prototype,"topology",void 0),(0,r.Cg)([(0,s.MZ)()],h.prototype,"geometryBuffers",void 0),h=(0,r.Cg)([(0,u.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],h)},16981(e,t,o){o.d(t,{$:()=>r,P:()=>n});const r={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},n={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1,supportsTypeWildcard:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryPivot:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:r,query:{maxRecordCount:0,maxRecordCountFactor:0,maxUniqueIDCount:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCentroidOnDegeneratedQuantizedGeometry:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPaginationOnAggregatedQueries:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},96854(e,t,o){o.d(t,{A:()=>i,Y:()=>u});var r=o(34154),n=o(53430),s=o(76386);async function i(e,t,o,s){var i,u,a;const l=new Array(t.length),c=new Map,p=new Map,d=(0,n.hL)(e.fieldsIndex,o.outFields),f=!0===(null===(i=e.capabilities)||void 0===i||null===(i=i.operations)||void 0===i?void 0:i.supportsQuery)&&null!=e.queryFeatures,y=null!==(u=null===s||void 0===s?void 0:s.hasRequiredFields)&&void 0!==u?u:n.Kl;for(let r=0;r<t.length;r++){const e=t[r];if(f&&!e.isAggregate){if(o.returnGeometry||!y(e,d)){const t=e.getObjectId();if(null!=t){c.set(t,{graphic:e,index:r});continue}const o=e.getGlobalId();if(null!=o){p.set(o,{graphic:e,index:r});continue}}l[r]=e}else l[r]=e}if(!f||!e.queryFeatures||0===c.size&&0===p.size)return l.filter(Boolean);const v=[],g=(e,t)=>{var o;t&&(null!==(o=e.outFields)&&void 0!==o||(e.outFields=[]),e.outFields.includes(t)||e.outFields.push(t))};if(c.size>0){var h,m;const t=o.clone();g(t,e.objectIdField),"uniqueIdFields"in e&&null!==(h=e.uniqueIdFields)&&void 0!==h&&h.length&&(null!==(m=t.outFields)&&void 0!==m||(t.outFields=[]),t.outFields.push(...e.uniqueIdFields)),t.objectIds=Array.from(c.keys()),v.push({type:"object-id",query:t,map:c})}const x="globalIdField"in e?e.globalIdField:null;if(null!=x&&p.size>0){const e=o.clone();g(e,x);const t=Array.from(p.keys());e.where=(0,r.mA)(o.where,"".concat(x," IN (").concat(t.map(e=>"'".concat(e,"'")).join(","),")")),v.push({type:"global-id",query:e,map:p})}const b=null!==(a=null===s||void 0===s?void 0:s.updateSourceAttributes)&&void 0!==a&&a;for(const{type:r,query:n,map:w}of v)try{const t=await e.queryFeatures(n,s);for(const e of t.features){const t="object-id"===r?e.getObjectId():e.getGlobalId();if(null==t)continue;const o=w.get(t);if(!o)continue;const{graphic:n,index:s}=o;if(b&&e.attributes){var C;null!==(C=n.attributes)&&void 0!==C||(n.attributes={});for(const t of d)t in e.attributes&&(n.attributes[t]=e.attributes[t])}const{geometry:i,origin:u}=n;e.geometry||(e.geometry=i),e.origin=u,l[s]=e}}catch(A){}return l.filter(Boolean)}async function u(e){var t;if(null!==(t=e.expressionInfos)&&void 0!==t&&t.length||Array.isArray(e.content)&&e.content.some(e=>"expression"===e.type))return(0,s.l)()}},75913(e,t,o){o.d(t,{wH:()=>g,MA:()=>f,E5:()=>y,m0:()=>m});var r=o(89379),n=o(50076),s=o(53084),i=o(76460),u=o(78393);var a=o(87041);const l=()=>i.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function c(e,t,o){let r="",s=0;for(;s<o;){const i=e[t+s];if(i<128)r+=String.fromCharCode(i),s++;else if(i>=192&&i<224){if(s+1>=o)throw new n.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const u=(31&i)<<6|63&e[t+s+1];r+=String.fromCharCode(u),s+=2}else if(i>=224&&i<240){if(s+2>=o)throw new n.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(15&i)<<12|(63&e[t+s+1])<<6|63&e[t+s+2];r+=String.fromCharCode(u),s+=3}else{if(!(i>=240&&i<248))throw new n.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(s+3>=o)throw new n.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(7&i)<<18|(63&e[t+s+1])<<12|(63&e[t+s+2])<<6|63&e[t+s+3];if(u>=65536){const e=55296+(u-65536>>10),t=56320+(1023&u);r+=String.fromCharCode(e,t)}else r+=String.fromCharCode(u);s+=4}}}return r}function p(e,t){const o={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let n=0;n<t.length;n++){const s=t[n],i=s.valueType||s.type,u=b[i];o.fields[s.property]=u(e,r),r+=x[i].BYTES_PER_ELEMENT}return o.byteCount=r,o}function d(e,t,o){const r=[];let s,i,u=0;for(i=0;i<e;i+=1){if(s=t[i],s>0){if(r.push(c(o,u,s-1)),0!==o[u+s-1])throw new n.A("string-array-error","Invalid string array: missing null termination.")}else r.push(null);u+=s}return r}function f(e,t){return new(0,x[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function y(e,t){if(!e)return null;const o=e[t];return(0,u.IY)(e)?o===u.PI?null:o:(0,u._G)(e)?o===u.h2?null:o:o!=o?null:o}function v(e,t,o){if(t!==e&&l().error("Invalid ".concat(o," buffer size\n expected: ").concat(e,", actual: ").concat(t,")")),t<e)throw new n.A("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function g(e,t){const o=p(e,t&&t.header);let n=o.byteCount;const s={isDraco:!1,header:o,byteOffset:o.byteCount,byteCount:0,vertexAttributes:{}},i=o.fields,u=null!=i.vertexCount?i.vertexCount:i.count;for(const c of t.ordering){if(!t.vertexAttributes[c])continue;const e=(0,r.A)((0,r.A)({},t.vertexAttributes[c]),{},{byteOffset:n,count:u}),o=h[c]||"_"+c;s.vertexAttributes[o]=e,n+=A(e.valueType)*e.valuesPerElement*u}const a=i.faceCount;if(t.faces&&a){s.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const o=(0,r.A)((0,r.A)({},t.faces[e]),{},{byteOffset:n,count:a});s.faces[e]=o,n+=A(o.valueType)*o.valuesPerElement*a}}const l=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&l){s.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const o=(0,r.A)((0,r.A)({},t.featureAttributes[e]),{},{byteOffset:n,count:l});s.featureAttributes[e]=o,n+=("UInt64"===o.valueType?8:A(o.valueType))*o.valuesPerElement*l}}return v(n,e.byteLength,"geometry"),s.byteCount=n-s.byteOffset,s}const h={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function m(e,t,o){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("lepcc-rgb"===e.encoding)return r?(0,a.mb)(t):function(e){return Array.isArray(e)?e.length<u.y9?e:new Uint8Array(e):e.length<u.y9?Array.from(e):e}((0,a.mb)(t));if("lepcc-intensity"===e.encoding)return r?(0,a.Ax)(t):function(e){return Array.isArray(e)?e.length<u.y9?e:new Uint16Array(e):e.length<u.y9?Array.from(e):e}((0,a.Ax)(t));if(null!=e.encoding&&""!==e.encoding)throw new n.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(l().warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(l().warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");const i=function(e,t,o){const r=null!=t.header?p(e,t.header):{byteOffset:0,byteCount:0,fields:{count:o}},i={header:r,byteOffset:r.byteCount,byteCount:0,entries:Object.create(null)};let u=r.byteCount;for(let c=0;c<t.ordering.length;c++){var a,l;const e=t.ordering[c],o=(0,s.o8)(t[e]);if(o.count=null!==(a=r.fields.count)&&void 0!==a?a:0,"String"===o.valueType){if(o.byteOffset=u,o.byteCount=r.fields[e+"ByteCount"],"UTF-8"!==o.encoding)throw new n.A("unsupported-encoding","Unsupported String encoding.",{encoding:o.encoding});if(o.timeEncoding&&"ECMA_ISO8601"!==o.timeEncoding)throw new n.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:o.timeEncoding})}else{if(!C(o.valueType))throw new n.A("unsupported-value-type","Unsupported binary valueType",{valueType:o.valueType});{const e=A(o.valueType);u+=u%e!==0?e-u%e:0,o.byteOffset=u,o.byteCount=e*o.valuesPerElement*o.count}}u+=null!==(l=o.byteCount)&&void 0!==l?l:0,i.entries[e]=o}return i.byteCount=u-i.byteOffset,i}(t,e,o);v(i.byteOffset+i.byteCount,t.byteLength,"attribute");const c=i.entries.attributeValues||i.entries.objectIds;if(c){if("String"===c.valueType){const e=i.entries.attributeByteCounts,o=f(t,e),r=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,c);return c.timeEncoding?function(e,t,o){return d(e,t,o).map(e=>{const t=e?Date.parse(e):null;return null==t||Number.isNaN(t)?null:t})}(e.count,o,r):d(e.count,o,r)}return r?f(t,c):function(e,t){const o=f(e,t);if(o.length>=u.y9)return o;const r=new Array;return o.forEach((e,t)=>r.push(y(o,t))),r}(t,c)}throw new n.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const x={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},b={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function C(e){return x.hasOwnProperty(e)}function A(e){return C(e)?x[e].BYTES_PER_ELEMENT:0}},11736(e,t,o){o.d(t,{s1:()=>p});var r=o(89379),n=o(3825),s=(o(18690),o(50076),o(81806),o(34761),o(13191)),i=(o(20664),o(9392)),u=(o(56611),o(13312),o(14487),o(2413)),a=(o(78315),o(96854),o(97015),o(75913));o(34111),o(5809);var l=o(7342),c=(o(51990),o(59231));o(42717),o(90992);(0,u.vt)();async function p(e,t,o,s,i,u,l,c){const p=[];for(const r of t)if(r&&i.includes(r.name)){const t="".concat(e,"/nodes/").concat(o,"/attributes/").concat(r.key,"/0");p.push({url:t,storageInfo:r})}const d=await Promise.allSettled(p.map(e=>(0,n.A)(e.url,{responseType:"array-buffer",query:(0,r.A)((0,r.A)({},l),{},{token:u}),signal:null===c||void 0===c?void 0:c.signal}).then(t=>(0,a.m0)(e.storageInfo,t.data)))),f=[];for(const r of s){const e={};for(let t=0;t<d.length;t++){const o=d[t];if("fulfilled"===o.status){const n=o.value;e[p[t].storageInfo.name]=(0,a.E5)(n,r)}}f.push(e)}return f}(0,l.CC)({color:[0,0,0,0],opacity:0});(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,u.vt)(),(0,u.vt)(),new c.ab,(0,i.vt)(),new Array(72),(0,s.vt)()},87041(e,t,o){o.d(t,{Ax:()=>H,Me:()=>U,mb:()=>k});var r=o(50076);const n=!0,s=0,i=10,u=10,a=12,l=16;function c(e,t,o){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,o+s,i)),version:t.getUint16(o+u,n),checksum:t.getUint32(o+a,n)}}const p=0,d=4,f=8,y=16,v=24,g=32,h=40,m=48,x=56,b=64,C=72,A=80,w=84,I=88;function T(e,t){return{sizeLo:e.getUint32(t+p,n),sizeHi:e.getUint32(t+d,n),minX:e.getFloat64(t+f,n),minY:e.getFloat64(t+y,n),minZ:e.getFloat64(t+v,n),maxX:e.getFloat64(t+g,n),maxY:e.getFloat64(t+h,n),maxZ:e.getFloat64(t+m,n),errorX:e.getFloat64(t+x,n),errorY:e.getFloat64(t+b,n),errorZ:e.getFloat64(t+C,n),count:e.getUint32(t+A,n),reserved:e.getUint32(t+w,n)}}function U(e){const t=new DataView(e,0);let o=0;const{identifier:n,version:s}=c(e,t,o);if(o+=l,"LEPCC     "!==n)throw new r.A("lepcc-decode-error","Bad identifier");if(s>1)throw new r.A("lepcc-decode-error","Unknown version");const i=T(t,o);if(o+=I,i.sizeHi*2**32+i.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const u=new Float64Array(3*i.count),a=[],p=[],d=[],f=[];if(o=M(e,o,a),o=M(e,o,p),o=M(e,o,d),o=M(e,o,f),o!==e.byteLength)throw new r.A("lepcc-decode-error","Bad length");let y=0,v=0;for(let r=0;r<a.length;r++){v+=a[r];let e=0;for(let t=0;t<p[r];t++){e+=d[y];const t=f[y];u[3*y]=Math.min(i.maxX,i.minX+2*i.errorX*e),u[3*y+1]=Math.min(i.maxY,i.minY+2*i.errorY*v),u[3*y+2]=Math.min(i.maxZ,i.minZ+2*i.errorZ*t),y++}}return{errorX:i.errorX,errorY:i.errorY,errorZ:i.errorZ,result:u}}function M(e,t,o){const r=[];t=S(e,t,r);const n=[];for(let s=0;s<r.length;s++){n.length=0,t=S(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[s])}return t}function S(e,t,o){const s=new DataView(e,t),i=s.getUint8(0),u=31&i,a=!!(32&i),l=(192&i)>>6;let c=0;if(0===l)c=s.getUint32(1,n),t+=5;else if(1===l)c=s.getUint16(1,n),t+=3;else{if(2!==l)throw new r.A("lepcc-decode-error","Bad count type");c=s.getUint8(1),t+=2}if(a)throw new r.A("lepcc-decode-error","LUT not implemented");const p=Math.ceil(c*u/8),d=new Uint8Array(e,t,p);let f=0,y=0,v=0;const g=-1>>>32-u;for(let r=0;r<c;r++){for(;y<u;)f|=d[v]<<y,y+=8,v+=1;o[r]=f&g,f>>>=u,y-=u,y+u>32&&(f|=d[v-1]>>8-y)}return t+v}const F=0,z=4,_=8,B=12,D=14,E=15,L=16;function R(e,t){return{sizeLo:e.getUint32(t+F,n),sizeHi:e.getUint32(t+z,n),count:e.getUint32(t+_,n),colorMapCount:e.getUint16(t+B,n),lookupMethod:e.getUint8(t+D),compressionMethod:e.getUint8(t+E)}}function k(e){const t=new DataView(e,0);let o=0;const{identifier:n,version:s}=c(e,t,o);if(o+=l,"ClusterRGB"!==n)throw new r.A("lepcc-decode-error","Bad identifier");if(s>1)throw new r.A("lepcc-decode-error","Unknown version");const i=R(t,o);if(o+=L,i.sizeHi*2**32+i.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");if((2===i.lookupMethod||1===i.lookupMethod)&&0===i.compressionMethod){if(3*i.colorMapCount+i.count+o!==e.byteLength||i.colorMapCount>256)throw new r.A("lepcc-decode-error","Bad count");const t=new Uint8Array(e,o,3*i.colorMapCount),n=new Uint8Array(e,o+3*i.colorMapCount,i.count),s=new Uint8Array(3*i.count);for(let e=0;e<i.count;e++){const o=n[e];s[3*e]=t[3*o],s[3*e+1]=t[3*o+1],s[3*e+2]=t[3*o+2]}return s}if(0===i.lookupMethod&&0===i.compressionMethod){if(3*i.count+o!==e.byteLength||0!==i.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");return new Uint8Array(e,o).slice()}if(i.lookupMethod<=2&&1===i.compressionMethod){if(o+3!==e.byteLength||1!==i.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");const n=t.getUint8(o),s=t.getUint8(o+1),u=t.getUint8(o+2),a=new Uint8Array(3*i.count);for(let e=0;e<i.count;e++)a[3*e]=n,a[3*e+1]=s,a[3*e+2]=u;return a}throw new r.A("lepcc-decode-error","Bad method "+i.lookupMethod+","+i.compressionMethod)}const O=0,P=4,Z=8,q=12,G=14,N=15,V=16;function j(e,t){return{sizeLo:e.getUint32(t+O,n),sizeHi:e.getUint32(t+P,n),count:e.getUint32(t+Z,n),scaleFactor:e.getUint16(t+q,n),bitsPerPoint:e.getUint8(t+G),reserved:e.getUint8(t+N)}}function H(e){const t=new DataView(e,0);let o=0;const{identifier:n,version:s}=c(e,t,o);if(o+=l,"Intensity "!==n)throw new r.A("lepcc-decode-error","Bad identifier");if(s>1)throw new r.A("lepcc-decode-error","Unknown version");const i=j(t,o);if(o+=V,i.sizeHi*2**32+i.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const u=new Uint16Array(i.count);if(8===i.bitsPerPoint){if(i.count+o!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const t=new Uint8Array(e,o,i.count);for(let e=0;e<i.count;e++)u[e]=t[e]*i.scaleFactor}else if(16===i.bitsPerPoint){if(2*i.count+o!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const t=new Uint16Array(e,o,i.count);for(let e=0;e<i.count;e++)u[e]=t[e]*i.scaleFactor}else{const t=[];if(S(e,o,t)!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");for(let e=0;e<i.count;e++)u[e]=t[e]*i.scaleFactor}return u}},7342(e,t,o){o.d(t,{Cc:()=>a,CC:()=>l,RF:()=>u});var r=o(89379),n=o(69539),s=(o(81806),o(76931)),i=o(55855);function u(e){return e&&e.enabled&&(function(e){return"extrude"===e.type}(e)||function(e){return"fill"===e.type}(e))&&null!=e.edges}function a(e,t){return function(e,t){if(null==e)return null;const o=null!=e.color?(0,i.ci)(n.A.toUnitRGBA(e.color)):(0,i.fA)(0,0,0,0),u=(0,s.Lz)(e.size),a=(0,s.Lz)(e.extensionLength);switch(e.type){case"solid":return l((0,r.A)({color:o,size:u,extensionLength:a},t));case"sketch":return function(e){return(0,r.A)((0,r.A)((0,r.A)({},p),e),{},{type:1})}((0,r.A)({color:o,size:u,extensionLength:a},t));default:return}}(function(e){return e&&e.enabled&&e.edges||null}(e),t)}function l(e){return(0,r.A)((0,r.A)((0,r.A)({},c),e),{},{type:0})}const c={color:(0,i.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1},p={color:(0,i.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1}},51990(e,t,o){o.d(t,{K_:()=>r});o(15941);function r(e,t){for(let o=0;o<4;o++)e[o]=n(t[o]);return e}function n(e){return isNaN(e)?255:e*(254/255)}},34981(e,t,o){function r(e){return 4===e||5===e||6===e||7===e||8===e}function n(e){return p(e)||3===e}function s(e){return 9===e||10===e}function i(e){return u(e)||s(e)}function u(e){return 0===e}function a(e){return u(e)||f(e)}function l(e){return a(e)||10===e}function c(e){return a(e)||s(e)}function p(e){return c(e)||d(e)}function d(e){return 2===e}function f(e){return 1===e}function y(e){return d(e)||r(e)}o.d(t,{Bf:()=>r,CL:()=>s,Dz:()=>y,LG:()=>f,Mb:()=>c,QG:()=>l,RN:()=>a,T2:()=>p,_o:()=>u,eh:()=>d,i3:()=>i,iq:()=>n})},97808(e,t,o){o.d(t,{U:()=>l});var r,n,s,i=o(57528),u=o(4212),a=o(86955);function l(e,t){switch(t.textureCoordinateType){case 1:return e.attributes.add("uv0","vec2"),e.varyings.add("vuv0","vec2"),void e.vertex.code.add((0,a.H)(r||(r=(0,i.A)(["void forwardTextureCoordinates() { vuv0 = uv0; }"]))));case 2:return e.attributes.add("uv0","vec2"),e.attributes.add("uvRegion","vec4"),e.varyings.add("vuv0","vec2"),e.varyings.add("vuvRegion","vec4"),void e.vertex.code.add((0,a.H)(n||(n=(0,i.A)(["void forwardTextureCoordinates() {\nvuv0 = uv0;\nvuvRegion = uvRegion;\n}"]))));default:(0,u.Xb)(t.textureCoordinateType);case 0:return void e.vertex.code.add((0,a.H)(s||(s=(0,i.A)(["void forwardTextureCoordinates() {}"]))));case 3:return}}},95352(e,t,o){o.d(t,{r:()=>l});var r,n,s=o(57528),i=o(97808),u=o(86955);function a(e){e.fragment.code.add((0,u.H)(r||(r=(0,s.A)(["vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\nfloat maxdUV = 0.125;\nvec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nvec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nreturn textureGrad(tex, uvAtlas, dUVdx, dUVdy);\n}"]))))}function l(e,t){const{textureCoordinateType:o}=t;if(0===o||3===o)return;e.include(i.U,t);const r=2===o;r&&e.include(a),e.fragment.code.add((0,u.H)(n||(n=(0,s.A)(["\n    vec4 textureLookup(sampler2D tex, vec2 uv) {\n      return ",";\n    }\n  "])),r?"textureAtlasLookup(tex, uv, vuvRegion)":"texture(tex, uv)"))}},42717(e,t,o){o.d(t,{NL:()=>v});var r,n=o(57528),s=o(34981),i=o(95352),u=o(94759),a=o(72468),l=o(5517),c=o(19771),p=o(21390),d=o(86955),f=o(27374),y=o(70367);o(75803);function v(e,t){if(!(0,s.RN)(t.output))return;e.fragment.include(u.C);const{emissionSource:o,hasEmissiveTextureTransform:v,bindType:g}=t,h=3===o||4===o||5===o;h&&(e.include(i.r,t),e.fragment.uniforms.add(1===g?new y.N("texEmission",e=>e.textureEmissive):new f.o("texEmission",e=>e.textureEmissive)));const m=2===o||h;m&&e.fragment.uniforms.add(1===g?new l.t("emissiveBaseColor",e=>e.emissiveBaseColor):new a.W("emissiveBaseColor",e=>e.emissiveBaseColor));const x=0!==o;x&&7!==o&&6!==o&&4!==o&&5!==o&&e.fragment.uniforms.add(1===g?new p.m("emissiveStrength",e=>e.emissiveStrength):new c.J("emissiveStrength",e=>e.emissiveStrength));const b=7===o,C=5===o,A=1===o||6===o||b;e.fragment.code.add((0,d.H)(r||(r=(0,n.A)(["\n    vec4 getEmissions(vec3 symbolColor) {\n      vec4 emissions = ",";\n      ","\n      ","\n      return emissions;\n    }\n  "])),m?C?"emissiveSource == 0 ? vec4(emissiveBaseColor, 1.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(emissiveBaseColor, 1.0)":A?b?"emissiveSource == 0 ? vec4(0.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(linearizeGamma(symbolColor), 1.0)":"vec4(0.0)",(0,d.If)(h,"".concat((0,d.If)(C,"if(emissiveSource == 0) {\n              vec4 emissiveFromTex = textureLookup(texEmission, ".concat(v?"emissiveUV":"vuv0",");\n              emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);\n           }"),"vec4 emissiveFromTex = textureLookup(texEmission, ".concat(v?"emissiveUV":"vuv0",");\n           emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);")),"\n        emissions.w = emissions.rgb == vec3(0.0) ? 0.0: emissions.w;")),(0,d.If)(x,"emissions.rgb *= emissiveStrength * ".concat(d.H.float(1),";"))))}},94759(e,t,o){o.d(t,{C:()=>u});var r,n=o(57528),s=o(99746),i=o(86955);function u(e){e.code.add((0,i.H)(r||(r=(0,n.A)(["\n    const float GAMMA = ",";\n    const float INV_GAMMA = ",";\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  "])),i.H.float(s.Tf),i.H.float(1/s.Tf)))}},72468(e,t,o){o.d(t,{W:()=>n});var r=o(87003);class n extends r.n{constructor(e,t,o){super(e,"vec3",2,(r,n,s,i)=>r.setUniform3fv(e,t(n,s,i),o))}}},5517(e,t,o){o.d(t,{t:()=>n});var r=o(87003);class n extends r.n{constructor(e,t,o){super(e,"vec3",1,(r,n,s)=>r.setUniform3fv(e,t(n,s),o))}}},19771(e,t,o){o.d(t,{J:()=>n});var r=o(87003);class n extends r.n{constructor(e,t,o){super(e,"float",2,(r,n,s)=>r.setUniform1f(e,t(n,s),o))}}},21390(e,t,o){o.d(t,{m:()=>n});var r=o(87003);class n extends r.n{constructor(e,t,o){super(e,"float",1,(r,n,s)=>r.setUniform1f(e,t(n,s),o))}}},27374(e,t,o){o.d(t,{o:()=>n});var r=o(87003);class n extends r.n{constructor(e,t){super(e,"sampler2D",2,(o,r,n)=>o.bindTexture(e,t(r,n)))}}},70367(e,t,o){o.d(t,{N:()=>n});var r=o(87003);class n extends r.n{constructor(e,t){super(e,"sampler2D",1,(o,r,n)=>o.bindTexture(e,t(r,n)))}}},86955(e,t,o){o.d(t,{H:()=>r,If:()=>n});const r=function(e){let t="";for(let o=0;o<(arguments.length<=1?0:arguments.length-1);o++)t+=e[o]+(o+1<1||arguments.length<=o+1?void 0:arguments[o+1]);return t+=e[e.length-1],t};function n(e,t){return e?t:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}r.int=e=>Math.round(e).toString(),r.float=e=>e.toPrecision(8)},59696(e,t,o){o.d(t,{A:()=>r});class r{constructor(e){this._material=e.material,this._techniques=e.techniques,this._output=e.output}dispose(){}get _stippleTextures(){var e;return null===(e=this._techniques.context)||void 0===e?void 0:e.stippleTextures}get _markerTextures(){var e;return null===(e=this._techniques.context)||void 0===e?void 0:e.markerTextures}getTechnique(e,t){return this._techniques.get(e,this._material.getConfiguration(this._output,t))}ensureResources(e){return 2}}},75803(e,t,o){o.d(t,{NV:()=>l,m8:()=>u});var r=o(30726),n=o(50346),s=o(59696),i=o(31432);class u extends s.A{constructor(e){super(e),this._numLoading=0,this._disposed=!1,this._textures=e.textures,this.updateTexture(e.textureId),this._acquire(e.normalTextureId,e=>this._textureNormal=e),this._acquire(e.emissiveTextureId,e=>this._textureEmissive=e),this._acquire(e.occlusionTextureId,e=>this._textureOcclusion=e),this._acquire(e.metallicRoughnessTextureId,e=>this._textureMetallicRoughness=e)}dispose(){super.dispose(),this._texture=(0,r.Gz)(this._texture),this._textureNormal=(0,r.Gz)(this._textureNormal),this._textureEmissive=(0,r.Gz)(this._textureEmissive),this._textureOcclusion=(0,r.Gz)(this._textureOcclusion),this._textureMetallicRoughness=(0,r.Gz)(this._textureMetallicRoughness),this._disposed=!0}ensureResources(e){return 0===this._numLoading?2:1}get textureBindParameters(){var e,t,o,r,n,s,i,u,a,c;return new l(null!==(e=null===(t=this._texture)||void 0===t?void 0:t.glTexture)&&void 0!==e?e:null,null!==(o=null===(r=this._textureNormal)||void 0===r?void 0:r.glTexture)&&void 0!==o?o:null,null!==(n=null===(s=this._textureEmissive)||void 0===s?void 0:s.glTexture)&&void 0!==n?n:null,null!==(i=null===(u=this._textureOcclusion)||void 0===u?void 0:u.glTexture)&&void 0!==i?i:null,null!==(a=null===(c=this._textureMetallicRoughness)||void 0===c?void 0:c.glTexture)&&void 0!==a?a:null)}updateTexture(e){null!=this._texture&&e===this._texture.id||(this._texture=(0,r.Gz)(this._texture),this._acquire(e,e=>this._texture=e))}_acquire(e,t){if(null==e)return void t(null);const o=this._textures.acquire(e);if((0,n.$X)(o))return++this._numLoading,void o.then(e=>{if(this._disposed)return(0,r.Gz)(e),void t(null);t(e)}).finally(()=>--this._numLoading);t(o)}}class a extends i.Y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.textureEmissive=e}}class l extends a{constructor(e,t,o,r,n,s,i){super(o),this.texture=e,this.textureNormal=t,this.textureOcclusion=r,this.textureMetallicRoughness=n,this.scale=s,this.normalTextureTransformMatrix=i}}},2257(e,t,o){o.d(t,{D8:()=>s,TO:()=>n,d0:()=>i});var r=o(53430);async function n(e){var t,o;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.popupTemplate;if(null==n)return[];const s=await n.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:i}=n,{objectIdField:u,typeIdField:a,globalIdField:l,relationships:c}=e;if(s.includes("*"))return["*"];const p=i?(0,r.eX)(e):[],d=(0,r.DB)(e.fieldsIndex,[...s,...p]);return a&&d.push(a),d&&u&&null!==(t=e.fieldsIndex)&&void 0!==t&&t.has(u)&&!d.includes(u)&&d.push(u),d&&l&&null!==(o=e.fieldsIndex)&&void 0!==o&&o.has(l)&&!d.includes(l)&&d.push(l),null!==c&&void 0!==c&&c.forEach(t=>{var o;const{keyField:r}=t;d&&r&&(null===(o=e.fieldsIndex)||void 0===o?void 0:o.has(r))&&!d.includes(r)&&d.push(r)}),d}function s(e,t){return e&&"object"==typeof e?null!==t&&void 0!==t&&t.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function i(e,t){return null!=s(e,{defaultPopupTemplateEnabled:t})}},31432(e,t,o){o.d(t,{Y:()=>r});const r=class{};new r},87003(e,t,o){o.d(t,{n:()=>r});o(81806);class r{constructor(e,t,o,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this.name=e,this.type=t,this.arraySize=n,this.bind={0:null,1:null,2:null},r)switch(o){case void 0:break;case 0:this.bind[0]=r;break;case 1:this.bind[1]=r;break;case 2:this.bind[2]=r}}equals(e){return this.type===e.type&&this.name===e.name&&this.arraySize===e.arraySize}}}}]);
//# sourceMappingURL=30026.fb48ae40.chunk.js.map