"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[26607,48988,52629],{76279(e,t,r){r.d(t,{$X:()=>A,B2:()=>l,Gy:()=>k,IE:()=>i,P5:()=>N,Q1:()=>o,QE:()=>O,SW:()=>P,Tr:()=>S,VV:()=>n,wp:()=>w});r(19902);function n(e){var t,r;return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,null!==(t=e.extent.zmin)&&void 0!==t?t:0,null!==(r=e.extent.mmin)&&void 0!==r?r:0]:[0,0,0,0]}:null}function o(e){var t,r,n,o,i,l,s,a;if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:c,scale:u,translate:f}=e,p=null!==(t=u[0])&&void 0!==t?t:1,v=null!==(r=u[1])&&void 0!==r?r:1;return{originPosition:"lowerLeft",scale:[p,"lowerLeft"===c?v:-v,null!==(n=u[2])&&void 0!==n?n:1,null!==(o=u[3])&&void 0!==o?o:1],translate:[null!==(i=f[0])&&void 0!==i?i:0,null!==(l=f[1])&&void 0!==l?l:0,null!==(s=f[2])&&void 0!==s?s:0,null!==(a=f[3])&&void 0!==a?a:0]}}function i(e,t){let{scale:r,translate:n}=e;return Math.round((t-n[0])/r[0])}function l(e,t){let{scale:r,translate:n}=e;return Math.round((t-n[1])/r[1])}function s(e,t){let{scale:r,translate:n}=e;return Math.round(((null!==t&&void 0!==t?t:0)-n[2])/r[2])}function a(e,t){let{scale:r,translate:n}=e;return t?Math.round((t-n[3])/r[3]):0}function c(e,t){return e&&t?v:e&&!t?f:!e&&t?p:u}const u=(e,t)=>{const r=[];if(!t.length)return null;const n=t[0];let o=i(e,n[0]),s=l(e,n[1]);r.push([o,s]);for(let a=1;a<t.length;a++){const[n,c]=t[a],u=i(e,n),f=l(e,c);u===o&&f===s||r.push([u-o,f-s]),o=u,s=f}return r},f=(e,t)=>{const r=[];if(!t.length)return null;const n=t[0];let o=i(e,n[0]),a=l(e,n[1]),c=s(e,n[2]);r.push([o,a,c]);for(let u=1;u<t.length;u++){const[n,f,p]=t[u],v=i(e,n),d=l(e,f),h=s(e,p);v===o&&d===a&&h===c||r.push([v-o,d-a,h]),o=v,a=d,c=h}return r},p=(e,t)=>{const r=[];if(!t.length)return null;const n=t[0];let o=i(e,n[0]),s=l(e,n[1]),c=a(e,n[2]);r.push([o,s,c]);for(let u=1;u<t.length;u++){const[n,f,p]=t[u],v=i(e,n),d=l(e,f),h=a(e,p);v===o&&d===s&&h===c||r.push([v-o,d-s,h]),o=v,s=d,c=h}return r},v=(e,t)=>{const r=[];if(!t.length)return null;const n=t[0];let o=i(e,n[0]),c=l(e,n[1]),u=s(e,n[2]),f=a(e,n[3]);r.push([o,c,u,f]);for(let p=1;p<t.length;p++){const[n,v,d,h]=t[p],m=i(e,n),y=l(e,v),g=s(e,d),M=a(e,h);m===o&&y===c&&g===u&&M===f||r.push([m-o,y-c,g,M]),o=m,c=y,u=g,f=M}return r};function d(e,t){let{scale:r,translate:n}=e;return t*r[0]+n[0]}function h(e,t){let{scale:r,translate:n}=e;return t*r[1]+n[1]}function m(e,t){let{scale:r,translate:n}=e;return(null!==t&&void 0!==t?t:0)*r[2]+n[2]}function y(e,t){let{scale:r,translate:n}=e;return t?t*r[3]+n[3]:0}function g(e,t){return e&&t?x:e&&!t?b:!e&&t?C:M}const M=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let o=d(e,n[0]),i=h(e,n[1]);r[0]=[o,i];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[e,n]=t[u];o+=a*e,i+=c*n,r[u]=[o,i]}return r},b=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let o=d(e,n[0]),i=h(e,n[1]);r[0]=[o,i,m(e,n[2])];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[n,l,s]=t[u];o+=a*n,i+=c*l,r[u]=[o,i,m(e,s)]}return r},C=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let o=d(e,n[0]),i=h(e,n[1]);r[0]=[o,i,y(e,n[2])];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[n,l,s]=t[u];o+=a*n,i+=c*l,r[u]=[o,i,y(e,s)]}return r},x=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let o=d(e,n[0]),i=h(e,n[1]);r[0]=[o,i,m(e,n[2]),y(e,n[3])];const{scale:l,originPosition:s}=e,a=l[0],c="lowerLeft"===s?l[1]:-l[1];for(let u=1;u<t.length;u++){const[n,l,s,f]=t[u];o+=a*n,i+=c*l,r[u]=[o,i,m(e,s),y(e,f)]}return r};function I(e,t,r){const n=new Array(r.length);for(let o=0;o<r.length;o++)n[o]=t(e,r[o]);return n}function k(e,t,r){const n=o(e);return t.x=i(n,r.x),t.y=l(n,r.y),null!=r.z&&(t.z=s(n,r.z)),null!=r.m&&(t.m=a(n,r.m)),t}function w(e,t,r){var n,i;const l=function(e,t,r,n){const o=[],i=c(r,n);for(let l=0;l<t.length;l++){const r=i(e,t[l]);r&&r.length>=3&&o.push(r)}return o.length?o:null}(o(e),r.rings,r.hasZ,r.hasM);return l?(t.rings=l,t.hasZ=null!==(n=r.hasZ)&&void 0!==n&&n,t.hasM=null!==(i=r.hasM)&&void 0!==i&&i,t):null}function O(e,t,r){var n,i;const l=function(e,t,r,n){const o=[],i=c(r,n);for(let l=0;l<t.length;l++){const r=i(e,t[l]);r&&r.length>=2&&o.push(r)}return o.length?o:null}(o(e),r.paths,r.hasZ,r.hasM);return l?(t.paths=l,t.hasZ=null!==(n=r.hasZ)&&void 0!==n&&n,t.hasM=null!==(i=r.hasM)&&void 0!==i&&i,t):null}function P(e,t,r){var n,i;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(n=null===r||void 0===r?void 0:r.hasZ)&&void 0!==n&&n,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(i=null===r||void 0===r?void 0:r.hasM)&&void 0!==i&&i;if(null!=r){const n=o(e);t.points=g(l,s)(n,r.points),t.hasZ=l,t.hasM=s}return t}function S(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!=(null===r||void 0===r?void 0:r.z),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!=(null===r||void 0===r?void 0:r.m);if(null==r)return t;const l=o(e);return t.x=d(l,r.x),t.y=h(l,r.y),n&&(t.z=m(l,r.z)),i&&(t.m=y(l,r.m)),t}function A(e,t,r){var n,i;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(n=null===r||void 0===r?void 0:r.hasZ)&&void 0!==n&&n,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(i=null===r||void 0===r?void 0:r.hasM)&&void 0!==i&&i;if(null!=r){const n=o(e);t.rings=I(n,g(l,s),r.rings),t.hasZ=l,t.hasM=s}return t}function N(e,t,r){var n,i;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!==(n=null===r||void 0===r?void 0:r.hasZ)&&void 0!==n&&n,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(i=null===r||void 0===r?void 0:r.hasM)&&void 0!==i&&i;if(null!=r){const n=o(e);t.paths=I(n,g(l,s),r.paths),t.hasZ=l,t.hasM=s}return t}},48988(e,t,r){r.d(t,{OverrideHelper:()=>f});var n=r(69539),o=r(59784),i=r(53084),l=r(1900),s=r(81456),a=r(97763),c=r(52629);const u=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:n,a:o}=e;return[t,r,n,255*o]};class f{static findApplicableOverrides(e,t,r){if(e&&t){if(e.primitiveName){let n=!1;for(const t of r)if(t.primitiveName===e.primitiveName){n=!0;break}if(!n)for(const o of t)o.primitiveName===e.primitiveName&&r.push(o)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const n of e.effects)f.findApplicableOverrides(n,t,r);if(e.symbolLayers)for(const n of e.symbolLayers)f.findApplicableOverrides(n,t,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const n of e.effects)f.findApplicableOverrides(n,t,r);if(e.markerPlacement&&f.findApplicableOverrides(e.markerPlacement,t,r),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const n of e.markerGraphics)f.findApplicableOverrides(n,t,r),f.findApplicableOverrides(n.symbol,t,r)}else"CIMCharacterMarker"===e.type?f.findApplicableOverrides(e.symbol,t,r):"CIMHatchFill"===e.type?f.findApplicableOverrides(e.lineSymbol,t,r):"CIMPictureMarker"===e.type&&f.findApplicableOverrides(e.animatedSymbolProperties,t,r)}}}static findEffectOverrides(e,t){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&(0,a.FH)(e),!t||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const r=(0,a.rB)(e),n=e.primitiveName,o=[];for(const i of t)i.primitiveName===n&&o.push((0,a.rB)(i));return{type:"cim-effect-param",effect:r,overrides:(0,a.pk)(o)}}static async resolveSymbolOverrides(e,t,r,n,o,s,c){if(null===e||void 0===e||!e.symbol)return null;let{symbol:u,primitiveOverrides:p}=e;const v=!!p;if(!v&&!n)return u;u=(0,i.o8)(u),p=(0,i.o8)(p);let d=!0;if(t||(t={attributes:{}},d=!1),v){if(d||(p=p.filter(e=>{var t;return!(null!==(t=e.valueExpressionInfo)&&void 0!==t&&t.expression.includes("$feature"))})),c||(p=p.filter(e=>{var t;return!(null!==(t=e.valueExpressionInfo)&&void 0!==t&&t.expression.includes("$view"))})),p.length>0){const e=(0,a.O2)(t.attributes),n={spatialReference:r,fields:e,geometryType:o};await f.createRenderExpressions(p,n),f.evaluateOverrides(p,t,null!==o&&void 0!==o?o:"esriGeometryPoint",s,c,new l.A(e))}f.applyOverrides(u,p)}return n&&f.applyDictionaryTextOverrides(u,t,n,null),u}static async createRenderExpressions(e,t){const r=[];for(const n of e){const e=n.valueExpressionInfo;if(!e||f._expressionToRenderExpression.has(e.expression))continue;const o=(0,s.Ad)(e.expression,t.spatialReference);r.push(o),o.then(t=>f._expressionToRenderExpression.set(e.expression,t))}r.length>0&&await Promise.all(r)}static evaluateOverrides(e,t,r,n,i,l){const s={$view:{scale:null===i||void 0===i?void 0:i.scale}};for(const a of e){a.value&&"object"==typeof a.value&&(0,o.IB)(a.value)&&("Color"===a.propertyName||"StrokeColor"===a.propertyName)&&(a.value=u(a.value));const e=a.valueExpressionInfo;if(!e)continue;const i=f._expressionToRenderExpression.get(e.expression);i&&(a.value=(0,c.default)(i,t,s,r,l,n))}}static applyDictionaryTextOverrides(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Normal";if(null!==e&&void 0!==e&&e.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const i=e.symbolLayers;if(!i)return;for(const l of i)l&&"CIMVectorMarker"===l.type&&f.applyDictionaryTextOverrides(l,t,r,n,"CIMTextSymbol"===e.type?e.textCase:o)}break;case"CIMVectorMarker":{const o=e.markerGraphics;if(!o)return;for(const e of o)e&&f.applyDictionaryTextOverrides(e,t,r,n)}break;case"CIMMarkerGraphic":{const i=e.textString;if(i&&i.includes("[")){const l=(0,a.gQ)(i,r);e.textString=(0,a.FM)(t,l,n,o)}}}}static applyOverrides(e,t,r,n){if(e.primitiveName)for(const o of t)if(o.primitiveName===e.primitiveName){const t=(0,a.YF)(o.propertyName);if(n&&n.push({cim:e,nocapPropertyName:t,value:e[t]}),r){let t=!1;for(const n of r)n.primitiveName===e.primitiveName&&(t=!0);t||r.push(o)}null!=o.value&&(e[t]=o.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const o of e.effects)f.applyOverrides(o,t,r,n);if(e.symbolLayers)for(const o of e.symbolLayers)f.applyOverrides(o,t,r,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const o of e.effects)f.applyOverrides(o,t,r,n);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const o of e.markerGraphics)f.applyOverrides(o,t,r,n),f.applyOverrides(o.symbol,t,r,n)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const r of e)void 0!==r.value&&(t+="".concat(r.primitiveName).concat(r.propertyName).concat(JSON.stringify(r.value)));return t}static toValue(e,t){if("DashTemplate"===e)return t.split(" ").map(e=>Number(e));if("Color"===e){const e=new n.A(t).toRgba();return e[3]*=255,e}return t}}f._expressionToRenderExpression=new Map},52629(e,t,r){r.d(t,{default:()=>s});var n=r(89379),o=r(50076),i=r(76460),l=r(76279);function s(e,t,r,n,o,l){if(null==e)return null;const s=e.references("geometry")&&l?c(t,n,l):t,a=e.repurposeFeature(s,o);try{return e.evaluate(a,r)}catch(u){return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",u),null}}const a=new Map;function c(e,t,r){const{transform:s,hasZ:c,hasM:u}=r;a.has(t)||a.set(t,function(e){const t={};switch(e){case"esriGeometryPoint":return(e,r,n,o)=>(0,l.Tr)(r,t,e,n,o);case"esriGeometryPolygon":return(e,r,n,o)=>(0,l.$X)(r,t,e,n,o);case"esriGeometryPolyline":return(e,r,n,o)=>(0,l.P5)(r,t,e,n,o);case"esriGeometryMultipoint":return(e,r,n,o)=>(0,l.SW)(r,t,e,n,o);default:return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new o.A("mapview-arcade","Unable to handle geometryType: ".concat(e))),e=>e}}(t));const f=a.get(t)(e.geometry,s,c,u);return(0,n.A)((0,n.A)({},e),{},{geometry:f})}}}]);
//# sourceMappingURL=26607.60743f22.chunk.js.map