{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/geometry/support/quantizationUtils.js","../node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/chunks/quat.js","../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js","../node_modules/@arcgis/core/views/support/Scheduler.js","../node_modules/@arcgis/core/core/byteSizeEstimations.js","../node_modules/@arcgis/core/layers/support/PromiseQueue.js","../node_modules/@arcgis/core/views/draw/support/drawUtils.js","../node_modules/@arcgis/core/views/support/debugFlags.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js","../node_modules/@arcgis/core/views/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js"],"names":["t","e","data","type","symbol","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","miterLimit","width","color","l","o","style","size","outline","i","E","_visualElementGraphics","regularVertices","activeVertex","activeFillSymbol","_visualElementSymbols","r","activeLineSymbol","c","regularVerticesSymbol","h","activeVertexSymbol","u","fill","s","a","this","view","y","manipulators","geometryType","v","drawingMode","mode","hasZ","defaultZ","snapToSceneEnabled","snapToScene","drawSurface","d","hasM","snappingManager","snappingVisualizer","p","internalGraphicsLayer","n","g","x","spatialReference","drawOperation","geometry","attributes","displayOrder","add","graphics","sort","_","remove","clone","paths","length","splice","G","points","m","prototype","readOnly","constructOnly","nonNullable","originPosition","scale","tolerance","translate","extent","xmin","ymax","Math","round","I","push","z","T","M","Array","L","O","S","N","rings","U","ymin","xmax","zmin","zmax","mmin","mmax","q","b","B","V","C","F","j","uid","visible","objectId","centroid","exceededTransferLimit","features","fields","objectIdFieldName","globalIdFieldName","geometryProperties","geohashFieldName","transform","w","vertexAttributes","position","J","events","on","action","screenStart","start","screenEnd","screenPoint","pointerType","execute","cos","sin","sqrt","mapStart","mapEnd","getOriginPoint","move","equals","origin","notifyGeometryChanged","f","offset","centerAt","geographic","translationX","translationY","translationZ","map","filter","forEach","R","Map","set","clonePositional","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","D","screenDeltaX","screenDeltaY","toScreen","height","A","acos","P","k","PI","W","X","Y","Z","H","K","Q","$","st","at","ot","Object","freeze","__proto__","identity","setAxisAngle","getAxisAngle","multiply","rotateX","rotateY","rotateZ","calculateW","abs","slerp","random","invert","conjugate","fromMat3","fromEuler","str","copy","mul","dot","lerp","len","squaredLength","sqrLen","normalize","exactEquals","rotationTo","sqlerp","setAxes","getLogger","RESOURCE_CONTROLLER","SLIDE","STREAM_DATA_LOADER","ELEVATION_QUERY","TERRAIN_SURFACE","SURFACE_GEOMETRY_UPDATES","GRAPHICS_CORE","I3S_CONTROLLER","POINT_CLOUD_LAYER","FEATURE_TILE_FETCHER","OVERLAY","STAGE","GRAPHICS_DECONFLICTOR","FILTER_VISIBILITY","SCALE_VISIBILITY","FRUSTUM_VISIBILITY","POINT_OF_INTEREST_FREQUENT","POINT_OF_INTEREST_INFREQUENT","LABELER","FEATURE_QUERY_ENGINE","FEATURE_TILE_TREE","FEATURE_TILE_TREE_ACTIVE","ELEVATION_ALIGNMENT","TEXT_TEXTURE_ATLAS","TEXTURE_UNLOAD","LINE_OF_SIGHT_TOOL","LINE_OF_SIGHT_TOOL_INTERACTIVE","ELEVATION_PROFILE","SNAPPING","SHADOW_ACCUMULATOR","TEST_PRIO","has","get","updating","performanceInfo","total","tasks","_frameTaskTimes","_budget","_state","_tasks","_runQueue","_load","_idleStateCallbacks","_idleUpdatesStartFired","_maxReschedule","_forceTask","_debug","_debugHandle","nowFunc","keys","_test","state","FRAME_SAFETY_BUDGET","INTERACTING_BUDGET","IDLE_BUDGET","budget","usedBudget","updateTask","_updateTask","getState","_getState","getRuntime","_getRuntime","resetRuntimes","_resetRuntimes","getRunning","_getRunning","idleBegin","idleEnd","_removeIdleStateCallbacks","forAll","frameDuration","max","elapsedFrameTime","reset","_updateLoad","_schedule","_runIdle","_runInteracting","_runAnimating","elapsed","madeProgress","removeUnordered","name","setPriority","some","SCHEDULED","IDLE","needsUpdate","schedulePriority","READY","WAITING","runtime","_run","reduce","basePriority","filterInPlace","unshift","now","_startFrameTaskTimes","pop","resetProgress","task","runTask","error","priority","console","log","remaining","_recordFrameTaskTimes","record","Scheduler","_scheduler","_basePriority","_queue","running","processQueue","removeTask","schedule","reschedule","done","process","_begin","_didWork","_enabled","Budget","performance","enabled","Promise","resolve","reject","Number","MAX_SAFE_INTEGER","hasOwnProperty","shift","signal","abortCallback","callback","then","resolution","inverseTransform","atan2","arguments","SCHEDULER_LOG_SLOW_TASKS","FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES","_isToolEditable","_manipulators","_nextManipulatorId","_resourceContexts","manipulator3D","_attached","addMany","id","manipulator","visibilityPredicate","attached","_updateManipulatorAttachment","getItemAt","_detachManipulator","removeAll","destroy","items","MAX_VALUE","interactive","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","attach","grabbing","dragging","hovering","selected","detach","toolState","completed","automaticManipulatorSelection","_editableFlags","_creationStartedResolver","_creationFinishedResolver","activeTool","_set","active","_show","_hide","getEditableFlag","setEditableFlag","_get","warn","onAttach","onShow","onHide","onDetach","focus","onActivate","onDeactivate","onInputEvent","onInputEventAfter","isToolEditable","internallyEditable","notifyChange","onEditableChange","promise","Error","startToolCreation","created","finishToolCreation","value","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","getPointX","getPointY","getPointZ","getPointM","exportPolygon","exportPaths","exportPolyline","exportMultipoint","exportPoints","exportExtent","getXMin","getYMin","getXMax","getYMax","getZExtent","vmin","vmax","getMExtent","next","predicate","cancel","snappingContext","updatingHandles","doneSnapping","frameTask","resourceController","scheduler","registerTask","context","editGeometryOperations","elevationInfo","pointer","vertexHandle","info","handle","excludeFeature","visualizer","originalPos","snapOrigin","coordinateHelper","vectorToDehydratedPoint","arrayToVector","update","snap","valid","apply","addPromise","isArray","extendedSpatialReferenceInfo","clip","cut","contains","crosses","distance","intersects","touches","within","disjoint","overlaps","relate","isSimple","simplify","convexHull","difference","symmetricDifference","intersect","union","buffer","geodesicBuffer","nearestCoordinate","nearestVertex","nearestVertices","center","constructor","fromJSON","rotate","flipHorizontal","flipVertical","generalize","densify","geodesicDensify","planarArea","planarLength","geodesicArea","geodesicLength","excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","exclude","toMap","screenToMap","mapToScreen","mapToLocal","transformInv","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","viewingMode","fromRenderCoords","reverse","isSelfIntersecting","mapToLocalMultiple","localToMap","doUnnormalization","radius","radiusUnit","_graphic","listMode","internal","layers","makeDrawOperation","handles","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","complete","_destroyAllVisualisations","canRedo","canUndo","_updateGraphic","redo","undo","graphicSymbol","initializeGraphic","operationComplete","numVertices","stagedVertex","committedVertices","slice","pointToArray","full","arrayToPoint","makeMapPoint","forceUniformSize","centered","isCompleted","_getCreateOperationGeometry","sourceLayer","graphicProperties","emit","graphic","onOutlineChanged","onRegularVerticesChanged","onActiveVertexChanged","_createGraphic","EventedMixin","grabbableForEvent","selectable","cursor","grabbable","_createOperationCompleted","_pointerDownStates","Set","_snappingPipeline","_snappingTask","_stagedVertex","_frameTask","_editGeometryOperations","_activeComponent","components","vertices","componentIndex","vertexIndex","index","coordinates","vectorToArray","pos","added","updated","removed","_manipulator","_snappingEnabled","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","options","effectiveEnabled","discardStagedVertex","operation","aborted","appendVertex","pointToVector","commitStagedVertex","pointerId","delete","_onPointerMove","_onHold","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","_screenToMapDragEventStep","createSnapDragEventPipelineStep","elevationDrawSurface","getZ","_getDrawSurface","mapPoint","stopPropagation","_closeOnClickVertexIndex","_screenToMap","hasStagedVertex","_mapToScreen"],"mappings":"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","file":"static/js/29.e8e0ab87.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../../../symbols.js\";import e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import i from\"../../../../../Graphic.js\";import{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{unwrapOr as r,unwrap as s,isSome as a,destroyMaybe as l}from\"../../../../../core/maybe.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SnappingVisualizer2D as p}from\"../../SnappingVisualizer2D.js\";import{outline as c,regularVertices as h,activeVertex as u}from\"./symbols.js\";import{DrawGraphicTool as m,geometryTypeToDrawOperationGeometryType as v}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as y}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as d}from\"../../../../draw/drawSurfaces.js\";import g from\"../../../../../geometry/Point.js\";import G from\"../../../../../geometry/Multipoint.js\";let E=class extends m{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:r(e.activeLineSymbol,c),regularVertices:r(e.regularVerticesSymbol,h),activeVertex:r(e.activeVertexSymbol,u),fill:s(e.activeFillSymbol)}}initializeGraphic(e){return a(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const e=this.view;return new y({view:e,manipulators:this.manipulators,geometryType:v(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new d(e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new p(this.internalGraphicsLayer)})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return null;const[r,s]=e,n=new g({x:r,y:s,spatialReference:this.drawOperation.spatialReference});return a(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n,null):(this._visualElementGraphics.activeVertex=new i({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=l(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const r=e.clone();if(\"polyline\"===r.type){const e=r.paths[r.paths.length-1];e.splice(0,e.length-2)}return a(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=r,null):(this._visualElementGraphics.outline=new i({geometry:r,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=l(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const r=new G({points:e,spatialReference:this.drawOperation.spatialReference});return a(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=r,null):(this._visualElementGraphics.regularVertices=new i({geometry:r,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=l(this._visualElementGraphics.regularVertices))})))}};function _(e,i){var t,r,s,a;return(null!=(t=null==(r=e.attributes)?void 0:r.displayOrder)?t:-1/0)-(null!=(s=null==(a=i.attributes)?void 0:a.displayOrder)?s:-1/0)}e([n()],E.prototype,\"activeFillSymbol\",void 0),e([n({readOnly:!0})],E.prototype,\"type\",void 0),e([n({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([o(\"esri.views.2d.interactive.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as n,isNone as t}from\"../../core/maybe.js\";import{isPoint as r,isPolyline as e,isPolygon as u,isMultipoint as i,isExtent as o}from\"./jsonUtils.js\";function l(n){return n&&\"upperLeft\"===n.originPosition}const a=(n,t,r)=>[t,r],m=(n,t,r)=>[t,r,n[2]],c=(n,t,r)=>[t,r,n[2],n[3]];function s(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function f(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,i,o,a;return l(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),l(t)?(i=t.translate[0],o=t.translate[1],a=t.scale[0]):(i=t.extent.xmin,o=t.extent.ymax,a=t.tolerance),r===i&&e===o&&u===a}function x({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function h({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function I(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=x(n,m[0]),l=h(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=x(n,m[0]),i=h(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function g(n,t,r){return t[0]=x(n,r[0]),t[3]=h(n,r[1]),t[2]=x(n,r[2]),t[1]=h(n,r[3]),t}function p(n,t,r,e){return I(n,r?e?c:m:e?m:a,t)}function N(n,t,r,e){const u=[],i=r?e?c:m:e?m:a;for(let o=0;o<t.length;o++){const r=I(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function y(n,t,r,e){const u=[],i=r?e?c:m:e?m:a;for(let o=0;o<t.length;o++){const r=I(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function z({scale:n,translate:t},r){return r*n[0]+t[0]}function T({scale:n,translate:t},r){return t[1]-r*n[1]}function M(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=z(n,r[0][0]),l=T(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function E(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=M(n,t,r[u]);return e}function P(n,t,r){return r?(t[0]=z(n,r[0]),t[1]=T(n,r[3]),t[2]=z(n,r[2]),t[3]=T(n,r[1]),t):[z(n,t[0]),T(n,t[3]),z(n,t[2]),T(n,t[1])]}function b(n,t,r,e){return M(n,r?e?c:m:e?m:a,t)}function F(n,t,r,e){return E(n,r?e?c:m:e?m:a,t)}function V(n,t,r,e){return E(n,r?e?c:m:e?m:a,t)}function Y(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function _(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)Y(n,n,t[r]);return n}function A(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return Y(t,t,n)}function w(n){return _([0,0,0,0],n)}function j(n){return _([0,0,0,0],n)}function G(n,t,r,e,u){return t.xmin=x(n,r.xmin),t.ymin=h(n,r.ymin),t.xmax=x(n,r.xmax),t.ymax=h(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function L(n,t,r,e,u){return t.points=p(n,r.points,e,u),t}function O(n,t,r,e,u){return t.x=x(n,r.x),t.y=h(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function S(n,t,r,e,u){const i=N(n,r.rings,e,u);return i?(t.rings=i,t):null}function d(n,t,r,e,u){const i=y(n,r.paths,e,u);return i?(t.paths=i,t):null}function U(n,t){return n&&t?r(t)?O(n,{},t,!1,!1):e(t)?d(n,{},t,!1,!1):u(t)?S(n,{},t,!1,!1):i(t)?L(n,{},t,!1,!1):o(t)?G(n,{},t,!1,!1):null:null}function k(n,t,r,e,u){return t.xmin=z(n,r.xmin),t.ymin=T(n,r.ymin),t.xmax=z(n,r.xmax),t.ymax=T(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function q(t,r,e,u,i){return n(e)&&(r.points=b(t,e.points,u,i)),r}function v(n,r,e,u,i){return t(e)||(r.x=z(n,e.x),r.y=T(n,e.y),r!==e&&(u&&(r.z=e.z),i&&(r.m=e.m))),r}function B(t,r,e,u,i){return n(e)&&(r.rings=V(t,e.rings,u,i)),r}function C(t,r,e,u,i){return n(e)&&(r.paths=F(t,e.paths,u,i)),r}export{f as equals,Y as getQuantizedBoundsCoordsArray,_ as getQuantizedBoundsCoordsArrayArray,w as getQuantizedBoundsPaths,A as getQuantizedBoundsPoints,j as getQuantizedBoundsRings,g as quantizeBounds,G as quantizeExtent,U as quantizeGeometry,L as quantizeMultipoint,y as quantizePaths,O as quantizePoint,p as quantizePoints,S as quantizePolygon,d as quantizePolyline,N as quantizeRings,x as quantizeX,h as quantizeY,s as toQuantizationTransform,P as unquantizeBounds,M as unquantizeCoordsArray,E as unquantizeCoordsArrayArray,k as unquantizeExtent,q as unquantizeMultipoint,F as unquantizePaths,v as unquantizePoint,b as unquantizePoints,B as unquantizePolygon,C as unquantizePolyline,V as unquantizeRings,z as unquantizeX,T as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{estimateAttributesObjectSize as e}from\"../../core/byteSizeEstimations.js\";import\"../../core/has.js\";import{isSome as t,isNone as s}from\"../../core/maybe.js\";import{estimateSize as r}from\"../../core/typedArrayUtil.js\";import{generateUID as n}from\"../../core/uid.js\";import o from\"../../geometry/SpatialReference.js\";import{create as a,empty as i,expandWithNestedArray as l,expandWithAABB as p}from\"../../geometry/support/aaBoundingBox.js\";import{create as c,empty as u,expandWithNestedArray as h,expand as m}from\"../../geometry/support/aaBoundingRect.js\";import{unquantizePolyline as y,unquantizePolygon as f,unquantizeMultipoint as g,unquantizePoint as d}from\"../../geometry/support/quantizationUtils.js\";import{isFeatureGeometryType as b,featureGeometryTypeKebabDictionary as x}from\"../../geometry/support/typeUtils.js\";import Z from\"../support/Field.js\";export{equals}from\"./dehydratedFeatureComparison.js\";class j{constructor(e,t,s){this.uid=e,this.geometry=t,this.attributes=s,this.visible=!0,this.objectId=null,this.centroid=null}}function M(e){return t(e.geometry)}function k(e){return b(e.type)}class N{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function z(e){const s=x.fromJSON(e.geometryType),r=o.fromJSON(e.spatialReference),n=e.transform,a=e.features.map((o=>{const a=F(o,s,r,e.objectIdFieldName),i=a.geometry;if(t(i)&&n)switch(i.type){case\"point\":a.geometry=d(n,i,i,i.hasZ,i.hasM);break;case\"multipoint\":a.geometry=g(n,i,i,i.hasZ,i.hasM);break;case\"polygon\":a.geometry=f(n,i,i,i.hasZ,i.hasM);break;case\"polyline\":a.geometry=y(n,i,i,i.hasZ,i.hasM);break;case\"extent\":case\"mesh\":a.geometry=i}return a}));return{geometryType:s,features:a,spatialReference:r,fields:e.fields?e.fields.map((e=>Z.fromJSON(e))):null,objectIdFieldName:e.objectIdFieldName,globalIdFieldName:e.globalIdFieldName,geohashFieldName:e.geohashFieldName,geometryProperties:e.geometryProperties,hasZ:e.hasZ,hasM:e.hasM,exceededTransferLimit:e.exceededTransferLimit,transform:null}}function F(e,t,s,r){return{uid:n(),objectId:r&&e.attributes?e.attributes[r]:null,attributes:e.attributes,geometry:I(e.geometry,t,s),visible:!0}}function I(e,t,r){if(s(e))return null;switch(t){case\"point\":{const t=e;return{x:t.x,y:t.y,z:t.z,m:t.m,hasZ:null!=t.z,hasM:null!=t.m,type:\"point\",spatialReference:r}}case\"polyline\":{const t=e;return{paths:t.paths,hasZ:!!t.hasZ,hasM:!!t.hasM,type:\"polyline\",spatialReference:r}}case\"polygon\":{const t=e;return{rings:t.rings,hasZ:!!t.hasZ,hasM:!!t.hasM,type:\"polygon\",spatialReference:r}}case\"multipoint\":{const t=e;return{points:t.points,hasZ:!!t.hasZ,hasM:!!t.hasM,type:\"multipoint\",spatialReference:r}}}}function v(e,t,s,r){return{x:e,y:t,z:s,hasZ:null!=s,hasM:!1,spatialReference:r,type:\"point\"}}function R(e){if(s(e))return 0;let t=32;switch(e.type){case\"point\":t+=42;break;case\"polyline\":case\"polygon\":{let s=0;const r=2+(e.hasZ?1:0)+(e.hasM?1:0),n=\"polyline\"===e.type?e.paths:e.rings;for(const e of n)s+=e.length;t+=8*s*r+64,t+=128*s,t+=34,t+=32*(n.length+1);break}case\"multipoint\":{const s=2+(e.hasZ?1:0)+(e.hasM?1:0),r=e.points.length;t+=8*r*s+64,t+=128*r,t+=34,t+=32;break}case\"extent\":t+=98,e.hasM&&(t+=32),e.hasZ&&(t+=32);break;case\"mesh\":t+=r(e.vertexAttributes.position),t+=r(e.vertexAttributes.normal),t+=r(e.vertexAttributes.uv),t+=r(e.vertexAttributes.tangent)}return t}function A(t){let s=32;return s+=e(t.attributes),s+=3,s+=8+R(t.geometry),s}function w(e){if(s(e))return 0;switch(e.type){case\"point\":return 1;case\"polyline\":{let t=0;for(const s of e.paths)t+=s.length;return t}case\"polygon\":{let t=0;for(const s of e.rings)t+=s.length;return t}case\"multipoint\":return e.points.length;case\"extent\":return 2;case\"mesh\":{const t=e.vertexAttributes&&e.vertexAttributes.position;return t?t.length/3:0}default:return}}function S(e){if(s(e))return!1;switch(e.type){case\"extent\":case\"point\":return!0;case\"polyline\":for(const t of e.paths)if(t.length>0)return!0;return!1;case\"polygon\":for(const t of e.rings)if(t.length>0)return!0;return!1;case\"multipoint\":return e.points.length>0;case\"mesh\":return!e.loaded||e.vertexAttributes.position.length>0}}function T(e,t){switch(i(t),\"mesh\"===e.type&&(e=e.extent),e.type){case\"point\":t[0]=t[3]=e.x,t[1]=t[4]=e.y,e.hasZ&&(t[2]=t[5]=e.z);break;case\"polyline\":for(let s=0;s<e.paths.length;s++)l(t,e.paths[s],e.hasZ);break;case\"polygon\":for(let s=0;s<e.rings.length;s++)l(t,e.rings[s],e.hasZ);break;case\"multipoint\":l(t,e.points,e.hasZ);break;case\"extent\":t[0]=e.xmin,t[1]=e.ymin,t[3]=e.xmax,t[4]=e.ymax,null!=e.zmin&&(t[2]=e.zmin),null!=e.zmax&&(t[5]=e.zmax)}}function B(e,t){T(e,P),p(t,P)}function J(e,t){switch(u(t),\"mesh\"===e.type&&(e=e.extent),e.type){case\"point\":t[0]=t[2]=e.x,t[1]=t[3]=e.y;break;case\"polyline\":for(let s=0;s<e.paths.length;s++)h(t,e.paths[s]);break;case\"polygon\":for(let s=0;s<e.rings.length;s++)h(t,e.rings[s]);break;case\"multipoint\":h(t,e.points);break;case\"extent\":t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax}}function L(e,s){t(e)&&(J(e,U),m(s,U,s))}function O(e,t){return null!=e.objectId?e.objectId:e.attributes&&t?e.attributes[t]:null}const P=a(),U=c();export{j as DehydratedFeatureClass,N as DehydratedFeatureSetClass,T as computeAABB,J as computeAABR,R as estimateGeometryObjectSize,A as estimateSize,B as expandAABB,L as expandAABR,z as fromFeatureSetJSON,I as fromJSONGeometry,O as getObjectId,M as hasGeometry,S as hasVertices,k as isFeatureGeometry,v as makeDehydratedPoint,w as numVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../core/handleUtils.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{isSome as r,isNone as a,unwrap as o}from\"../../core/maybe.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{f as s}from\"../../chunks/vec3f64.js\";import{project as l}from\"../../geometry/projection.js\";import{move as i}from\"../draw/support/drawUtils.js\";function u(t,n){let e=null,o=null;return c=>{if(\"cancel\"===c.action)return void(r(o)&&(o.execute({action:\"cancel\"}),e=null,o=null));const s={action:c.action,screenStart:c.start,screenEnd:c.screenPoint};\"start\"===c.action&&a(e)&&(e=new b,o=new b,n(t,e,o,c.pointerType,s)),r(e)&&e.execute(s),\"end\"===c.action&&r(e)&&(e=null,o=null)}}function m(t,n){return t.events.on(\"drag\",u(t,n))}function f(n,e){const r=[];for(const t of n)r.push(m(t,e));return t(r)}function p(t,n){const e=[t.x,t.y,t.z],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const c=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(c(t.mapStart),c(t.mapEnd),t)}function y(t,n){let e=null;return r=>{if(\"start\"===r.action&&(e=x(t,r.mapStart.spatialReference,n)),a(e))return null;const o=r.mapEnd.x-r.mapStart.x,c=r.mapEnd.y-r.mapStart.y,s=r.mapEnd.z-r.mapStart.z;return e.move(o,c,s),{...r,translationX:o,translationY:c,translationZ:s}}}function d(t,n){return a(t)?null:t.spatialReference.equals(n)?t.clone():l(t,n)}function x(t,n,e){const r=t.geometry;if(a(r))return null;if(\"mesh\"===r.type)return E(t,r,n,e);const o=d(r,n),c=r.spatialReference;return a(o)?null:{move:(n,e,r)=>{const a=i(o.clone(),n,e,r);a.spatialReference.equals(c)?t.geometry=a:t.geometry=l(a,c)}}}function E(t,n,e,a){if(r(n.transform))return h(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let o=0,c=0,s=0;return{move:(e,r,l)=>{const i=e-o,u=r-c,m=l-s;if(i||u||m){const f=n.origin.clone().offset(i,u,m);n.centerAt(f,{geographic:1===a}),t.notifyGeometryChanged(),o=e,c=r,s=l}}}}function h(t,n,e,o){const c=d(e.getOriginPoint(n.spatialReference),o),u=n.spatialReference;return a(c)?null:{move:(n,a,o)=>{const m=i(c.clone(),n,a,o);if(m.spatialReference.equals(u))e.origin=s(m.x,m.y,m.z);else{const t=l(m,u);r(t)&&(e.origin=s(t.x,t.y,t.z))}t.notifyGeometryChanged()}}}function g(t,n=null,e){let o=null;const c=r(n)&&!t.spatialReference.equals(n)?t=>r(t)?l(t,n):t:t=>t,s={exclude:[],...e};return n=>{if(\"start\"===n.action&&(o=c(t.toMap(n.screenStart,s))),a(o))return null;const e=c(t.toMap(n.screenEnd,s));return r(e)?{...n,mapStart:o,mapEnd:e}:null}}function S(t,n){const e=t.map((t=>o(y(t,n)))).filter((t=>r(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function R(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function z(t){return r(t.geometry)&&\"mesh\"===t.geometry.type?j(t,t.geometry):R(t,[\"geometry\"])}function j(t,n){const e=r(n.transform)?n.transform.clone():null,a=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=a,t.notifyGeometryChanged(),r)}function v(t){const n=t.map((t=>o(z(t)))).filter((t=>r(t)));return t=>(n.forEach((n=>n(t))),t)}function w(t){return R(t,[\"symbol\"])}function q(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,c=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:c,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function D(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let r=null,a=0,o=0;return s=>{if(\"start\"===s.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(a=s.screenStart.x-r.x,o=s.screenStart.y-r.y)),null==r)return null;const l=e(s.screenEnd.x-a,0,t.width),i=e(s.screenEnd.y-o,0,t.height),u=c(l,i);return s.screenStart=r,s.screenEnd=u,s}}class b{constructor(){this.execute=()=>{}}next(t,n=new b){return r(t)&&(this.execute=e=>{const a=t(e);r(a)&&n.execute(a)}),n}}export{b as EventPipeline,q as addMapDelta,D as addScreenDelta,p as constrainToMapAxis,u as createDragEventPipelineCallback,m as createManipulatorDragEventPipeline,f as createManipulatorDragEventPipelineMany,M as dragAtLocation,y as dragGraphic,S as dragGraphicMany,z as resetGraphic,v as resetGraphicMany,R as resetProperties,w as resetSymbol,g as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"./mat3f64.js\";import{a as s}from\"./quatf64.js\";import{c as a,f as n}from\"./vec3f64.js\";import{E as o,R as r}from\"./common.js\";import{d as c,c as e,u,n as i}from\"./vec3.js\";import{c as h,s as M,a as f,b as l,d as m,l as p,e as q,f as d,n as j,g,h as v}from\"./vec4.js\";function x(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function A(t,s,a){a*=.5;const n=Math.sin(a);return t[0]=n*s[0],t[1]=n*s[1],t[2]=n*s[2],t[3]=Math.cos(a),t}function I(t,s){const a=2*Math.acos(s[3]),n=Math.sin(a/2);return n>o?(t[0]=s[0]/n,t[1]=s[1]/n,t[2]=s[2]/n):(t[0]=1,t[1]=0,t[2]=0),a}function P(t,s,a){const n=s[0],o=s[1],r=s[2],c=s[3],e=a[0],u=a[1],i=a[2],h=a[3];return t[0]=n*h+c*e+o*i-r*u,t[1]=o*h+c*u+r*e-n*i,t[2]=r*h+c*i+n*u-o*e,t[3]=c*h-n*e-o*u-r*i,t}function b(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+c*e,t[1]=o*u+r*e,t[2]=r*u-o*e,t[3]=c*u-n*e,t}function y(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u-r*e,t[1]=o*u+c*e,t[2]=r*u+n*e,t[3]=c*u-o*e,t}function E(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+o*e,t[1]=o*u-n*e,t[2]=r*u+c*e,t[3]=c*u-r*e,t}function _(t,s){const a=s[0],n=s[1],o=s[2];return t[0]=a,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-a*a-n*n-o*o)),t}function z(t,s,a,n){const r=s[0],c=s[1],e=s[2],u=s[3];let i,h,M,f,l,m=a[0],p=a[1],q=a[2],d=a[3];return h=r*m+c*p+e*q+u*d,h<0&&(h=-h,m=-m,p=-p,q=-q,d=-d),1-h>o?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-n)*i)/M,l=Math.sin(n*i)/M):(f=1-n,l=n),t[0]=f*r+l*m,t[1]=f*c+l*p,t[2]=f*e+l*q,t[3]=f*u+l*d,t}function L(t){const s=r(),a=r(),n=r(),o=Math.sqrt(1-s),c=Math.sqrt(s);return t[0]=o*Math.sin(2*Math.PI*a),t[1]=o*Math.cos(2*Math.PI*a),t[2]=c*Math.sin(2*Math.PI*n),t[3]=c*Math.cos(2*Math.PI*n),t}function k(t,s){const a=s[0],n=s[1],o=s[2],r=s[3],c=a*a+n*n+o*o+r*r,e=c?1/c:0;return t[0]=-a*e,t[1]=-n*e,t[2]=-o*e,t[3]=r*e,t}function w(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t}function B(t,s){const a=s[0]+s[4]+s[8];let n;if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(s[5]-s[7])*n,t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n;else{let a=0;s[4]>s[0]&&(a=1),s[8]>s[3*a+a]&&(a=2);const o=(a+1)%3,r=(a+2)%3;n=Math.sqrt(s[3*a+a]-s[3*o+o]-s[3*r+r]+1),t[a]=.5*n,n=.5/n,t[3]=(s[3*o+r]-s[3*r+o])*n,t[o]=(s[3*o+a]+s[3*a+o])*n,t[r]=(s[3*r+a]+s[3*a+r])*n}return t}function C(t,s,a,n){const o=.5*Math.PI/180;s*=o,a*=o,n*=o;const r=Math.sin(s),c=Math.cos(s),e=Math.sin(a),u=Math.cos(a),i=Math.sin(n),h=Math.cos(n);return t[0]=r*u*h-c*e*i,t[1]=c*e*h+r*u*i,t[2]=c*u*i-r*e*h,t[3]=c*u*h+r*e*i,t}function D(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}const F=h,G=M,O=f,R=P,T=l,W=m,X=p,Y=q,Z=Y,H=d,J=H,K=j,N=g,Q=v;function S(t,s,a){const n=c(s,a);return n<-.999999?(e(U,V,s),u(U)<1e-6&&e(U,$,s),i(U,U),A(t,U,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(e(U,s,a),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+n,K(t,t))}const U=a(),V=n(1,0,0),$=n(0,1,0);function tt(t,s,a,n,o,r){return z(st,s,o,r),z(at,a,n,r),z(t,st,at,2*r*(1-r)),t}const st=s(),at=s();function nt(t,s,a,n){const o=ot;return o[0]=a[0],o[3]=a[1],o[6]=a[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-s[0],o[5]=-s[1],o[8]=-s[2],K(t,B(t,o))}const ot=t();var rt=Object.freeze({__proto__:null,identity:x,setAxisAngle:A,getAxisAngle:I,multiply:P,rotateX:b,rotateY:y,rotateZ:E,calculateW:_,slerp:z,random:L,invert:k,conjugate:w,fromMat3:B,fromEuler:C,str:D,copy:F,set:G,add:O,mul:R,scale:T,dot:W,lerp:X,length:Y,len:Z,squaredLength:H,sqrLen:J,normalize:K,exactEquals:N,equals:Q,rotationTo:S,sqlerp:tt,setAxes:nt});export{X as A,Z as B,J as C,K as D,Q as E,tt as F,nt as G,F as a,b,w as c,y as d,E as e,W as f,I as g,H as h,k as i,N as j,C as k,Y as l,P as m,x as n,_ as o,z as p,rt as q,S as r,A as s,L as t,B as u,D as v,G as w,O as x,R as y,T as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e}from\"../../core/maybe.js\";function n(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],a=n[t];if(r.length!==a.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==a[e])return!1}return!0}function t(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function r(e,n){return!!f(e.spatialReference,n.spatialReference)&&(e.x===n.x&&e.y===n.y&&e.z===n.z&&e.m===n.m)}function a(e,n){return e.hasZ===n.hasZ&&e.hasM===n.hasM&&(!!f(e.spatialReference,n.spatialReference)&&t(e.paths,n.paths))}function i(e,n){return e.hasZ===n.hasZ&&e.hasM===n.hasM&&(!!f(e.spatialReference,n.spatialReference)&&t(e.rings,n.rings))}function u(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!f(e.spatialReference,t.spatialReference)&&n(e.points,t.points))}function s(e,n){return e.hasZ===n.hasZ&&e.hasM===n.hasM&&(!!f(e.spatialReference,n.spatialReference)&&(e.xmin===n.xmin&&e.ymin===n.ymin&&e.zmin===n.zmin&&e.xmax===n.xmax&&e.ymax===n.ymax&&e.zmax===n.zmax))}function f(e,n){return e===n||e&&n&&e.equals(n)}function l(n,t){if(n===t)return!0;if(e(n)||e(t))return!1;if(n.type!==t.type)return!1;switch(n.type){case\"point\":return r(n,t);case\"extent\":return s(n,t);case\"polyline\":return a(n,t);case\"polygon\":return i(n,t);case\"multipoint\":return u(n,t);case\"mesh\":return!1;default:return}}function c(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(const a of t)if(e[a]!==n[a])return!1;return!0}function o(e,n){return e===n||null!=e&&null!=n&&e.objectId===n.objectId&&(!!l(e.geometry,n.geometry)&&!!c(e.attributes,n.attributes))}export{o as equals,r as pointEquals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import s from\"../../core/Logger.js\";import{isNone as r,isSome as i}from\"../../core/maybe.js\";import a from\"../../core/PerformanceSampler.js\";import n from\"../../core/PooledArray.js\";import{isAborted as o,createAbortError as u,when as h}from\"../../core/promiseUtils.js\";import{Milliseconds as _}from\"../../core/time.js\";import{init as d}from\"../../core/watchUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as E}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../layers/support/PromiseQueue.js\";import T from\"./debugFlags.js\";const m=s.getLogger(\"esri.views.support.Scheduler\");function g(e){return new k.Scheduler({nowFunc:e})}var p;!function(e){e.RESOURCE_CONTROLLER=\"schedule\",e.SLIDE=\"slide\",e.STREAM_DATA_LOADER=\"stream loader\",e.ELEVATION_QUERY=\"elevation query\",e.TERRAIN_SURFACE=\"terrain\",e.SURFACE_GEOMETRY_UPDATES=\"surface geometry updates\",e.GRAPHICS_CORE=\"Graphics3D\",e.I3S_CONTROLLER=\"I3S\",e.POINT_CLOUD_LAYER=\"point cloud\",e.FEATURE_TILE_FETCHER=\"feature fetcher\",e.OVERLAY=\"overlay\",e.STAGE=\"stage\",e.GRAPHICS_DECONFLICTOR=\"graphics deconflictor\",e.FILTER_VISIBILITY=\"Graphics3D filter visibility\",e.SCALE_VISIBILITY=\"Graphics3D scale visibility\",e.FRUSTUM_VISIBILITY=\"Graphics3D frustum visibility\",e.POINT_OF_INTEREST_FREQUENT=\"POI frequent\",e.POINT_OF_INTEREST_INFREQUENT=\"POI infrequent\",e.LABELER=\"labeler\",e.FEATURE_QUERY_ENGINE=\"feature query\",e.FEATURE_TILE_TREE=\"feature tile tree\",e.FEATURE_TILE_TREE_ACTIVE=\"fast feature tile tree\",e.ELEVATION_ALIGNMENT=\"elevation alignment\",e.TEXT_TEXTURE_ATLAS=\"text texture atlas\",e.TEXTURE_UNLOAD=\"texture unload\",e.LINE_OF_SIGHT_TOOL=\"line of sight tool\",e.LINE_OF_SIGHT_TOOL_INTERACTIVE=\"interactive line of sight tool\",e.ELEVATION_PROFILE=\"elevation profile\",e.SNAPPING=\"snapping\",e.SHADOW_ACCUMULATOR=\"shadow accumulator\",e[e.TEST_PRIO=1]=\"TEST_PRIO\"}(p||(p={}));const I=0,R=new Map([[p.RESOURCE_CONTROLLER,I],[p.SLIDE,I],[p.STREAM_DATA_LOADER,I],[p.ELEVATION_QUERY,I],[p.TERRAIN_SURFACE,1],[p.SURFACE_GEOMETRY_UPDATES,1],[p.GRAPHICS_CORE,2],[p.I3S_CONTROLLER,2],[p.POINT_CLOUD_LAYER,2],[p.FEATURE_TILE_FETCHER,2],[p.OVERLAY,4],[p.STAGE,4],[p.GRAPHICS_DECONFLICTOR,4],[p.FILTER_VISIBILITY,4],[p.SCALE_VISIBILITY,4],[p.FRUSTUM_VISIBILITY,4],[p.POINT_OF_INTEREST_FREQUENT,6],[p.POINT_OF_INTEREST_INFREQUENT,30],[p.LABELER,8],[p.FEATURE_QUERY_ENGINE,8],[p.FEATURE_TILE_TREE,16],[p.FEATURE_TILE_TREE_ACTIVE,I],[p.ELEVATION_ALIGNMENT,12],[p.TEXT_TEXTURE_ATLAS,12],[p.TEXTURE_UNLOAD,12],[p.LINE_OF_SIGHT_TOOL,16],[p.LINE_OF_SIGHT_TOOL_INTERACTIVE,I],[p.SNAPPING,I],[p.SHADOW_ACCUMULATOR,30]]);function f(e){return R.has(e)?R.get(e):\"number\"==typeof e?e:1}const A=_(6.5),S=_(1),b=_(30),L=_(1e3/30),O=_(100),U=.9;var k,P;!function(s){let o=class extends t{constructor(e){super(e),this.updating=!0,this.performanceInfo={total:new a(\"total\"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=1,this._tasks=new n,this._runQueue=new n,this._load=0,this._idleStateCallbacks=new n,this._idleUpdatesStartFired=!1,this._maxReschedule=C,this._forceTask=!1,this._debug=!1,this._debugHandle=d(T,\"SCHEDULER_LOG_SLOW_TASKS\",(e=>this._debug=e)),this._budget=new h(e.nowFunc);for(const r of Object.keys(p))this.performanceInfo.tasks.set(p[r],new a(p[r]));let t;const s=this;this._test={get state(){return r(t)?s._state:t},set state(e){t=e},FRAME_SAFETY_BUDGET:A,INTERACTING_BUDGET:L,IDLE_BUDGET:O,get budget(){return s._budget.budget},usedBudget:0,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(e,t){const s=f(e),r=new u(this,e,t,s);return this._tasks.push(r),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new a(e)),r}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),2===this.state&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),2===r._state&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get now(){return this.nowFunc()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return r(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0;let t=A,s=e.frameDuration,r=S;switch(this.state){case 2:t=_(0),s=_(Math.max(O,e.frameDuration)),r=b;break;case 1:s=_(Math.max(L,e.frameDuration))}return s=_(s-e.elapsedFrameTime-t),2!==this.state&&s<S&&!this._forceTask?(this._forceTask=!0,!1):(s=_(Math.max(s,r)),this._budget.reset(s,this.state),this._maxReschedule=C,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(_(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return P.SCHEDULED;let t=P.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=P.READY:t!==P.READY&&(t=P.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t=\"\";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*U+e*(1-U)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{e.basePriority===I&&e.needsUpdate&&!this._runQueue.some((t=>t===e))&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(s.needsUpdate&&0!==s.schedulePriority&&s.basePriority!==I)if(e=!0,t=Math.max(t,s.basePriority),1===s.schedulePriority)s.schedulePriority=0,this._runQueue.push(s);else--s.schedulePriority})),!e)return this.updating=!1,!1;this._maxReschedule===C&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const s=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)}catch(t){m.error(`Exception in task \"${r.name}\"`,t)}r.schedulePriority=r.basePriority;const i=this._budget.now()-s;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log(\"Task\",r.name,\"used\",this._budget.elapsed,\"of max\",this._budget.budget,\"ms\"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-e)}_startFrameTaskTimes(){for(const e of Object.keys(p))this._frameTaskTimes.set(p[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).record(e))),this.performanceInfo.total.record(e)}get test(){return this._test}};e([l()],o.prototype,\"updating\",void 0),e([l()],o.prototype,\"nowFunc\",void 0),o=e([E(\"esri.views.support.Scheduler\")],o),s.Scheduler=o;let u=class extends t{constructor(e,t,s,r){super({}),this._scheduler=e,this.name=t,this._basePriority=r,this.runtime=0,this._queue=new c,this.updating=!1,this.schedulePriority=this._basePriority,this.task=i(s)?s:{running:!1,runTask:e=>this.processQueue(e)}}normalizeCtorArgs(){return{}}remove(){this.processQueue(F),this._scheduler.removeTask(this),this.schedule=y.schedule,this.reschedule=y.reschedule}get basePriority(){return this._basePriority}setPriority(e){this.name=e;const t=f(e);this._basePriority!==I&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,s){return this.updating=!0,this._queue.push(e,t,s)}reschedule(e,t,s){return this.updating=!0,this._queue.unshift(e,t,s)}processQueue(e){for(;!e.done&&this._queue.process();)e.madeProgress();this.updating=this._queue.length>0}};e([l()],u.prototype,\"updating\",void 0),u=e([E(\"esri.views.support.SchedulerTask\")],u);class h{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}s.Budget=h}(k||(k={})),function(e){e.SCHEDULED=\"s\",e.READY=\"r\",e.WAITING=\"w\",e.IDLE=\"i\"}(P||(P={}));const F=(()=>{const e=new k.Budget((()=>performance.now()));return e.enabled=!1,e})();class N{remove(){}processQueue(){}schedule(e,t,s){try{if(o(t)){const e=u();return s?Promise.resolve(s(e)):Promise.reject(e)}return h(e())}catch(r){return Promise.reject(r)}}reschedule(e,t,s){return this.schedule(e,t,s)}}const y=new N,C=Number.MAX_SAFE_INTEGER;export{y as ImmediateTask,p as TaskPriority,P as TaskState,f as getTaskPriority,g as newScheduler,F as noBudget,R as taskPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n){return 32+n.length}function t(){return 16}function e(e){if(!e)return 0;let r=32;for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];switch(typeof c){case\"string\":r+=n(c);break;case\"number\":r+=t();break;case\"boolean\":r+=4}}return r}function r(n,t){return 32+n.length*t}export{e as estimateAttributesObjectSize,r as estimateFixedArraySize,t as estimateNumberByteSize,n as estimateStringByteSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isAborted as s,createAbortError as t,isPromise as e}from\"../../core/promiseUtils.js\";class r{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(s,t,e){return new Promise(((r,l)=>this._tasks.push(new a(r,l,s,t,e))))}unshift(s,t,e){return new Promise(((r,l)=>this._tasks.unshift(new a(r,l,s,t,e))))}process(){if(0===this._tasks.length)return!1;const r=this._tasks.shift();try{const a=s(r.signal);if(a&&!r.abortCallback)r.reject(t());else{const s=a?r.abortCallback(t()):r.callback();e(s)?s.then(r.resolve,r.reject):r.resolve(s)}}catch(a){r.reject(a)}return!0}cancelAll(){const s=t();for(const t of this._tasks)if(t.abortCallback){const e=t.abortCallback(s);t.resolve(e)}else t.reject(s);this._tasks.length=0}}class a{constructor(s,t,e,r,a){this.resolve=s,this.reject=t,this.callback=e,this.signal=r,this.abortCallback=a}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{create as n}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as e}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as o}from\"../../../geometry/support/coordsUtils.js\";function r(t,n,e,r){if(null==r||t.hasZ||(r=void 0),\"point\"===t.type)return t.x+=n,t.y+=e,t.hasZ&&null!=r&&(t.z+=r),t;if(\"multipoint\"===t.type){const o=t.points;for(let t=0;t<o.length;t++)o[t]=l(o[t],n,e,r);return t}if(\"extent\"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=e,t.ymax+=e,null!=r&&(t.zmin+=r,t.zmax+=r),t;const s=o(t),i=\"polyline\"===t.type?t.paths:t.rings;for(let o=0;o<s.length;o++){const t=s[o];for(let o=0;o<t.length;o++)t[o]=l(t[o],n,e,r)}return\"paths\"in t?t.paths=i:t.rings=i,t}function s(t,n,e,s,i){const a=t.clone(),m=s.resolution;if(\"point\"===a.type){if(i)r(a,n*m,-e*m);else{const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.x+t[2]*a.y+t[4],i=t[1]*a.x+t[3]*a.y+t[5];a.x=o[0]*(r+n)+o[2]*(i+e)+o[4],a.y=o[1]*(r+n)+o[3]*(i+e)+o[5]}return a}if(\"multipoint\"===a.type){if(i)r(a,n*m,-e*m);else{const t=a.points,o=s.state.transform,r=s.state.inverseTransform;for(let s=0;s<t.length;s++){const i=t[s],a=o[0]*i[0]+o[2]*i[1]+o[4],m=o[1]*i[0]+o[3]*i[1]+o[5],l=r[0]*(a+n)+r[2]*(m+e)+r[4],p=r[1]*(a+n)+r[3]*(m+e)+r[5];t[s]=x(i,l,p,void 0)}}return a}if(\"extent\"===a.type){if(i)r(a,n*m,-e*m);else{const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.xmin+t[2]*a.ymin+t[4],i=t[1]*a.xmin+t[3]*a.ymin+t[5],m=t[0]*a.xmax+t[2]*a.ymax+t[4],l=t[1]*a.xmax+t[3]*a.ymax+t[5];a.xmin=o[0]*(r+n)+o[2]*(i+e)+o[4],a.ymin=o[1]*(r+n)+o[3]*(i+e)+o[5],a.xmax=o[0]*(m+n)+o[2]*(l+e)+o[4],a.ymax=o[1]*(m+n)+o[3]*(l+e)+o[5]}return a}if(i)r(a,n*m,-e*m);else{const t=o(a),r=\"polyline\"===a.type?a.paths:a.rings,i=s.state.transform,m=s.state.inverseTransform;for(let o=0;o<t.length;o++){const r=t[o];for(let t=0;t<r.length;t++){const o=r[t],s=i[0]*o[0]+i[2]*o[1]+i[4],a=i[1]*o[0]+i[3]*o[1]+i[5],l=m[0]*(s+n)+m[2]*(a+e)+m[4],p=m[1]*(s+n)+m[3]*(a+e)+m[5];r[t]=x(o,l,p,void 0)}}\"paths\"in a?a.paths=r:a.rings=r}return a}function i(t,r,s,i){if(\"point\"===t.type){const{x:n,y:e}=t,o=i?i[0]:n,a=i?i[1]:e,m=t.clone(),l=(n-o)*r+o,x=(e-a)*s+a;return m.x=l,m.y=x,m}if(\"multipoint\"===t.type){const a=o(t),m=n(),[l,p,y,f]=e(m,[a]),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=h.points;for(let t=0;t<g.length;t++){const n=g[t],[e,o]=n,i=(e-u)*r+u,a=(o-c)*s+c;g[t]=x(n,i,a,void 0)}return h}if(\"extent\"===t.type){const{xmin:n,xmax:e,ymin:o,ymax:a}=t,m=i?i[0]:(n+e)/2,l=i?i[1]:(a+o)/2,x=t.clone();if(x.xmin=(n-m)*r+m,x.ymax=(a-l)*s+l,x.xmax=(e-m)*r+m,x.ymin=(o-l)*s+l,x.xmin>x.xmax){const t=x.xmin,n=x.xmax;x.xmin=n,x.xmax=t}if(x.ymin>x.ymax){const t=x.ymin,n=x.ymax;x.ymin=n,x.ymax=t}return x}const a=o(t),m=n(),[l,p,y,f]=e(m,a),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=\"polyline\"===h.type?h.paths:h.rings;for(let n=0;n<a.length;n++){const t=a[n];for(let e=0;e<t.length;e++){const o=t[e],[i,a]=o,m=(i-u)*r+u,l=(a-c)*s+c;g[n][e]=x(o,m,l,void 0)}}return\"paths\"in h?h.paths=g:h.rings=g,h}function a(t,n,e,o,r,s){const i=Math.sqrt((e-t)*(e-t)+(o-n)*(o-n));return Math.sqrt((r-t)*(r-t)+(s-n)*(s-n))/i}function m(n,e,o){const r=Math.atan2(e.y-o.y,e.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x),s=Math.atan2(Math.sin(r),Math.cos(r));return t(s)}function l(t,n,e,o){return x(t,t[0]+n,t[1]+e,null!=t[2]&&null!=o?t[2]+o:void 0)}function x(t,n,e,o){const r=[n,e];return t.length>2&&r.push(null!=o?o:t[2]),t.length>3&&r.push(t[3]),r}export{s as cloneMove,m as getRotationAngle,a as getScaleRatio,r as move,i as scale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};o([s()],t.prototype,\"SCHEDULER_LOG_SLOW_TASKS\",void 0),o([s()],t.prototype,\"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES\",void 0),t=o([e(\"esri.views.support.DebugFlags\")],t);const p=new t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";import{isNone as a,isSome as i}from\"../../core/maybe.js\";class r{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=0){return this.addMany([t],a)[0]}addMany(t,a=0){return t.map((t=>{const i=this._nextManipulatorId++,r={id:i,manipulator:t,visibilityPredicate:a,attached:!1};return this._manipulators.add(r),this._attached&&this._updateManipulatorAttachment(r),i}))}remove(t){if(\"number\"==typeof t){const a=t;for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).id===a){const a=this._manipulators.splice(t,1)[0];return this._detachManipulator(a),a.id}return null}const a=t;for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.getItemAt(i).manipulator===a){const t=this._manipulators.splice(i,1)[0];return this._detachManipulator(t),t.id}return null}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let r=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({id:s,manipulator:o,attached:n})=>{if(!n||!o.interactive)return;const l=o.intersectionDistance(t,a);i(l)&&l<e&&(e=l,r={id:s,manipulator:o})})),r}findById(t){if(a(t))return null;for(const a of this._manipulators.items)if(t===a.id)return a.manipulator;return null}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return 2===t.visibilityPredicate||(this._isToolEditable?0===t.visibilityPredicate:1===t.visibilityPredicate)}}export{r as ManipulatorCollection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{isNone as o}from\"../../core/maybe.js\";import{createResolver as a}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{isDOMContainer as n}from\"../DOMContainer.js\";import{ManipulatorCollection as l}from\"./ManipulatorCollection.js\";const h=i.getLogger(\"esri.views.interactive.InteractiveToolBase\");let c=class extends e{constructor(t){super(t),this.toolState=\"pending\",this.completed=!1,this.manipulators=new l,this.updating=!1,this.automaticManipulatorSelection=!0,this._editableFlags=new Map([[1,!0],[0,!0]]),this._creationStartedResolver=a(),this._creationFinishedResolver=a()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._set(\"visible\",t),t||this.active&&(this.view.activeTool=null),this.attached&&(t?this._show():this._hide())}get editable(){return this.getEditableFlag(0)}set editable(t){this.setEditableFlag(0,t)}get attached(){return this._get(\"attached\")}get created(){return\"created\"===this.toolState}get cursor(){return null}attach(){this.attached?h.warn(\"Tool is already attached. Ignoring attach request.\"):(this.manipulators.attach(),this.onAttach(),this.visible&&this.onShow(),this._set(\"attached\",!0))}detach(){this.attached?(this.visible&&this.onHide(),this.onDetach(),this.manipulators.detach(),this._set(\"attached\",!1)):h.error(\"Tool isn't currently attached. Ignoring detach request.\")}activate(){o(this.view)?h.error(\"Can't activate tool if view is not defined.\"):this.active?h.warn(\"Tool is already active, ignoring activation request.\"):(n(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.active?this.onDeactivate():h.warn(\"Tool is not active, ignoring deactivation request.\")}handleInputEvent(t){this.attached?this.onInputEvent(t):h.warn(\"handleInputEvent() called on detached tool\")}handleInputEventAfter(t){this.attached?this.onInputEventAfter(t):h.warn(\"handleInputEventAfter() called on detached tool\")}destroy(){this.manipulators.destroy(),this._set(\"view\",null),this._set(\"completed\",!1)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),0===t&&this.notifyChange(\"editable\"),this.onEditableChange()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreationStarted(){return this._creationStartedResolver.promise}when(){return this._creationFinishedResolver.promise}rejectCreation(t){\"pending\"!==this.toolState&&\"creating\"!==this.toolState||this._creationStartedResolver.resolve(this),this._creationFinishedResolver.reject(t)}onActivate(){}onDeactivate(){}onAttach(){}onDetach(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(0)&&this.getEditableFlag(1)}startToolCreation(){if(\"pending\"===this.toolState)return this._creationStartedResolver.resolve(this),void(this.toolState=\"creating\");throw new Error(`Unexpected tool state ${this.toolState}`)}finishToolCreation(){switch(this.toolState){case\"pending\":this.startToolCreation();case\"creating\":this.created||this._creationFinishedResolver.resolve(this),this.toolState=\"created\";break;case\"created\":break;default:throw new Error(`Unexpected tool state ${this.toolState}`)}}complete(){this.finishToolCreation(),this._set(\"completed\",!0)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()}};t([s()],c.prototype,\"toolState\",void 0),t([s({constructOnly:!0})],c.prototype,\"view\",void 0),t([s({readOnly:!0})],c.prototype,\"active\",null),t([s({value:!0})],c.prototype,\"visible\",null),t([s({value:!0})],c.prototype,\"editable\",null),t([s({value:!1,readOnly:!0})],c.prototype,\"attached\",null),t([s({readOnly:!0})],c.prototype,\"created\",null),t([s({readOnly:!0})],c.prototype,\"completed\",void 0),t([s({readOnly:!0})],c.prototype,\"manipulators\",void 0),t([s({readOnly:!0})],c.prototype,\"updating\",void 0),t([s()],c.prototype,\"cursor\",null),t([s()],c.prototype,\"automaticManipulatorSelection\",void 0),c=t([r(\"esri.views.interactive.InteractiveToolBase\")],c);export{c as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../Extent.js\";import n from\"../Multipoint.js\";import t from\"../Point.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(e,n,o){const i=e.hasZ(n),r=e.hasM(n),s=new t({x:e.getPointX(n),y:e.getPointY(n),spatialReference:o});return i&&(s.z=e.getPointZ(n)),r&&(s.m=e.getPointM(n)),s.cache._geVersion=n,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,t,o){const i=new n({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:o});return i.cache._geVersion=t,i}function x(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({xmin:n.getXMin(t),ymin:n.getYMin(t),xmax:n.getXMax(t),ymax:n.getYMax(t),spatialReference:o});if(i){const e=n.getZExtent(t);s.zmin=e.vmin,s.zmax=e.vmax}if(r){const e=n.getMExtent(t);s.mmin=e.vmin,s.mmax=e.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as o}from\"../dragEventPipeline.js\";import{SnappingContext as i}from\"./SnappingContext.js\";import{TaskPriority as s,ImmediateTask as p}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new o}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,y=null;const f=()=>{x=t(x),d.doneSnapping(),n(y)&&y.frameTask.remove(),y=null};return l.next((e=>(f(),e))),this.next=new o,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(s.SNAPPING):p;y={context:new i({editGeometryOperations:m.editGeometryOperations,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(y)){const t=y.context.coordinateHelper.vectorToDehydratedPoint(y.context.coordinateHelper.arrayToVector([y.originalPos.x,y.originalPos.y,y.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-y.originalPos.x,o=e.mapStart.y-y.originalPos.y,i={...e,action:\"udpate\"},s=y.context,p=d.update(t,y.context);if(e.mapEnd.x=p.x+n,e.mapEnd.y=p.y+o,\"end\"!==e.action){const e=y.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,s,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,p)||(i.mapEnd.x=t.x+n,i.mapEnd.y=t.y+o,this.next.execute(i))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&f(),e}}}export{c as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{G as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as o}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=o(i,this.view,this.elevationInfo)),i}mapToScreen(t){let o=t;return e(this.elevationInfo)&&(o=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(o)}}class c{constructor(e){this.view=e,this.screenToMap=t=>e.toMap(t),this.mapToScreen=t=>e.toScreen(t)}}export{r as ElevationDrawSurface,c as MapDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{a as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i as n}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as d}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import u from\"../../../geometry/Point.js\";function w(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function g(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class W extends R{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=p();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),n(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),d(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),d(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?w(s.x,s.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{filterNones as o,isSome as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Multipoint.js\";import f from\"../../../geometry/Point.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";const g=\"DrawAction-snapping-graphics-layer\";function d(e,t,o=null){return n(o)?[e,t,o]:[e,t]}function R(e,t){const o=new f({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function j(e,t){return new u({points:e,spatialReference:t})}function b(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function T(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function U(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function z(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=R(u,t.spatialReference),M=R(f,t.spatialReference),g=a(t.spatialReference);let d=0;if(x(t.spatialReference))d=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;d=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:d,radiusUnit:\"meters\",spatialReference:t.spatialReference});return T(j.rings,j.spatialReference,!1)}function L(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*f),t=Math.sin(o*f),n=m(c*e+y.x,p*t+y.y);u.push(n)}return u.push(u[0]),T([o(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{g as SNAPPING_GRAPHICS_LAYER_ID,z as createCircle,L as createEllipse,j as createMultipoint,R as createPoint,T as createPolygon,b as createPolyline,w as createRectangle,U as createSquare,d as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import\"../../core/has.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{makeHandle as a}from\"../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as n}from\"../../core/maybe.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../layers/GraphicsLayer.js\";import{createSquare as c,createRectangle as d,createCircle as u,createEllipse as m,createPolygon as y,createPolyline as g,createMultipoint as v}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as f}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as w}from\"../interactive/InteractiveToolBase.js\";let O=class extends(i(r.EventedMixin(w))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new h({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.complete()}destroy(){this.drawOperation=o(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=o(this.internalGraphicsLayer),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set(\"centered\",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set(\"graphicSymbol\",e),s(this._graphic)&&(this._graphic.symbol=e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new t({geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange(\"graphic\"),this.handles.add(a((()=>{s(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=o(this._graphic))})),V)}_destroyAllVisualisations(){this.handles.remove(_.outline),this.handles.remove(_.regularVertices),this.handles.remove(_.activeVertex),this.handles.remove(V)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,r=this.drawOperation.committedVertices,i=r.slice();s(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):r.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=i.length,l=this.drawOperation.spatialReference,p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=r,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case\"multipoint\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=v(i,l));break;case\"polyline\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=g([i],l,p));break;case\"polygon\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=y([i],l,p,!0));break;case\"circle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=u([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?u(i,t,this.centered):m(i,t,this.centered))}break;case\"rectangle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=c([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?c(i,t,this.centered):d(i,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":case\"multipoint\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=g([i],l,p));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=y(o.full.rings,l,p))}return o}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let r=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});s(e)&&(r=new t({geometry:e.full,symbol:this.graphicSymbol,sourceLayer:this.internalGraphicsLayer,...this.graphicProperties}))}this.emit(\"complete\",{graphic:r,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit(\"cursor-update\",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateGraphic(),this.emit(\"vertex-update\",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();n(e)?this._destroyAllVisualisations():(s(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),_.outline):this.handles.remove(_.outline),s(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),_.regularVertices):this.handles.remove(_.regularVertices),s(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),_.activeVertex):this.handles.remove(_.activeVertex),s(e.full)?n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(V))}};e([l({value:!0})],O.prototype,\"centered\",null),e([l({nonNullable:!0})],O.prototype,\"defaultZ\",void 0),e([l()],O.prototype,\"drawOperation\",void 0),e([l({value:!0})],O.prototype,\"enabled\",null),e([l({value:!0})],O.prototype,\"forceUniformSize\",null),e([l({constructOnly:!0})],O.prototype,\"geometryType\",void 0),e([l()],O.prototype,\"graphic\",null),e([l({constructOnly:!0})],O.prototype,\"graphicProperties\",void 0),e([l()],O.prototype,\"graphicSymbol\",null),e([l({constructOnly:!0})],O.prototype,\"hasZ\",void 0),e([l({constructOnly:!0})],O.prototype,\"mode\",void 0),e([l()],O.prototype,\"snappingManager\",void 0),e([l()],O.prototype,\"snapToScene\",void 0),e([l({readOnly:!0})],O.prototype,\"type\",void 0),e([l({readOnly:!0})],O.prototype,\"updating\",null),e([l({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),O=e([p(\"esri.views.draw.DrawGraphicTool\")],O);const V=\"create-operation-graphic\",_={outline:\"outline-visual\",regularVertices:\"regular-vertices-visual\",activeVertex:\"active-vertex-visual\"};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}const G=48;export{O as DrawGraphicTool,x as geometryTypeToDrawOperationGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as r}from\"../../core/lang.js\";import{isNone as s,destroyMaybe as n,removeMaybe as a,isSome as o,abortMaybe as p}from\"../../core/maybe.js\";import{createTask as h}from\"../../core/promiseUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as g}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{DrawManipulator as m}from\"./DrawManipulator.js\";import{defaultDrawingMode as u}from\"./DrawingMode.js\";import{createCoordinateHelper as y}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as v}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as _,Component as x}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as f}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as T}from\"../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as V}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{TaskPriority as S,ImmediateTask as w}from\"../support/Scheduler.js\";let M=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new V,this._snappingTask=null,this._stagedVertex=null,this.snapToSceneEnabled=null,s(e.elevationInfo)&&(this.elevationInfo={mode:e.hasZ?\"absolute-height\":\"on-the-ground\",offset:0})}initialize(){var e,t;this.coordinateHelper=y(this.hasZ,this.hasM,this.view.spatialReference);const i=\"3d\"===this.view.type?null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler:null;this._frameTask=i?i.registerTask(S.SNAPPING):w;const r=\"viewingMode\"in this.view.state?this.view.state.viewingMode:2,s=\"segment\"===this.geometryType||\"multipoint\"===this.geometryType?\"polyline\":this.geometryType;this._editGeometryOperations=new f(new _(s,this.coordinateHelper,r)),this._activeComponent=new x(this.spatialReference,r),this._editGeometryOperations.data.components.push(this._activeComponent),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}}))),this._manipulator=new m({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))])}destroy(){this._editGeometryOperations=n(this._editGeometryOperations),this._frameTask=a(this._frameTask)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:u)}get hasStagedVertex(){return o(this._stagedVertex)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get spatialReference(){return this.view.spatialReference}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(s(e))this.discardStagedVertex();else if(!o(this._stagedVertex)||!g(this._stagedVertex,e)){if(s(this._stagedVertex))this._stagedVertex=r(e);else{if(g(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingTask=p(this._snappingTask),o(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;p(this._snappingTask),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex();const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}discardStagedVertex(){this._stagedVertex=null}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return v(e,((e,t,i,r)=>{const s=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&s&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||s&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>s,cancel:i,snappingManager:this.snappingManager,snappingContext:new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:r,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(s&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{s&&o(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}_createManipulatorDragPipelineFreehand(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}_getDrawSurface(){if(s(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_onHold(e){p(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),this.discardStagedVertex(),void this.complete();const r=this._screenToMap(e.screenPoint);if(o(r))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=p(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){if(p(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=c(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(o(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=o(i)?\"crosshair\":null,o(i))if(o(this.snappingManager)){const t=this.snappingManager,r=new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=t.update(i,r),this._snappingTask=h((async e=>{const s=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);s.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=s.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),s(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(r)&&b(r,t,i)}};function b(e,t,i){const r=e.x-t.x,s=e.y-t.y;return r*r+s*s<=i}e([d()],M.prototype,\"defaultZ\",void 0),e([d({value:u})],M.prototype,\"drawingMode\",null),e([d({constructOnly:!0})],M.prototype,\"elevationDrawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"elevationInfo\",void 0),e([d({constructOnly:!0})],M.prototype,\"geometryType\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasM\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasZ\",void 0),e([d({constructOnly:!0})],M.prototype,\"manipulators\",void 0),e([d({constructOnly:!0})],M.prototype,\"drawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingManager\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingVisualizer\",void 0),e([d()],M.prototype,\"snapToSceneEnabled\",void 0),e([d({readOnly:!0})],M.prototype,\"updating\",null),e([d({constructOnly:!0})],M.prototype,\"view\",void 0),M=e([l(\"esri.views.draw.DrawOperation\")],M);export{M as DrawOperation};\n"],"sourceRoot":""}