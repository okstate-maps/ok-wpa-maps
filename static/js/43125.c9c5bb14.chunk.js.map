{"version":3,"file":"static/js/43125.c9c5bb14.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/vec3.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js","../node_modules/@arcgis/core/geometry/support/MeshLocalVertexSpace.js","../node_modules/@arcgis/core/libs/i3s/I3SModule.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{colorGamma as t}from\"../colorUtils.js\";import\"../core/has.js\";import\"../core/Logger.js\";function e(t,e,f){r(t.typedBuffer,e.typedBuffer,f,t.typedBufferStride,e.typedBufferStride)}function r(t,e,r,f=3,n=f){if(t.length/f!==Math.ceil(e.length/n))return t;const o=t.length/f,i=r[0],u=r[1],l=r[2],a=r[4],s=r[5],d=r[6],c=r[8],p=r[9],h=r[10],y=r[12],B=r[13],g=r[14];let S=0,m=0;for(let M=0;M<o;M++){const r=e[S],o=e[S+1],M=e[S+2];t[m]=i*r+a*o+c*M+y,t[m+1]=u*r+s*o+p*M+B,t[m+2]=l*r+d*o+h*M+g,S+=n,m+=f}return t}function f(t,e,r){n(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function n(t,e,r,f=3,n=f){if(t.length/f!==Math.ceil(e.length/n))return;const o=t.length/f,i=r[0],u=r[1],l=r[2],a=r[3],s=r[4],d=r[5],c=r[6],p=r[7],h=r[8];let y=0,B=0;for(let g=0;g<o;g++){const r=e[y],o=e[y+1],g=e[y+2];t[B]=i*r+a*o+c*g,t[B+1]=u*r+s*o+p*g,t[B+2]=l*r+d*o+h*g,y+=n,B+=f}}function o(t,e,r){i(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function i(t,e,r,f=3,n=f){const o=Math.min(t.length/f,e.length/n);let i=0,u=0;for(let l=0;l<o;l++)t[u]=r*e[i],t[u+1]=r*e[i+1],t[u+2]=r*e[i+2],i+=n,u+=f;return t}function u(t,e,r,f){l(t.typedBuffer,e.typedBuffer,r,f,t.typedBufferStride,e.typedBufferStride)}function l(e,r,f,n,o=3,i=o){const u=Math.min(e.length/o,r.length/i);let l=0,a=0;const s=1/t;for(let t=0;t<u;t++)e[a]=n*(f*r[l])**s,e[a+1]=n*(f*r[l+1])**s,e[a+2]=n*(f*r[l+2])**s,l+=i,a+=o}function a(t,e,r,f=3,n=f){const o=t.length/f;if(o!==Math.ceil(e.length/n))return t;let i=0,u=0;for(let l=0;l<o;l++)t[u]=e[i]+r[0],t[u+1]=e[i+1]+r[1],t[u+2]=e[i+2]+r[2],i+=n,u+=f;return t}function s(t,e){d(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function d(t,e,r=3,f=r){const n=Math.min(t.length/r,e.length/f);let o=0,i=0;for(let u=0;u<n;u++){const n=e[o],u=e[o+1],l=e[o+2],a=n*n+u*u+l*l;if(a>0){const e=1/Math.sqrt(a);t[i]=e*n,t[i+1]=e*u,t[i+2]=e*l}o+=f,i+=r}}function c(t,e,r){const f=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,u=e.typedBufferStride;let l=0,a=0;for(let s=0;s<f;s++)n[a]=i[l]>>r,n[a+1]=i[l+1]>>r,n[a+2]=i[l+2]>>r,l+=u,a+=o}const p=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:u,normalize:d,normalizeView:s,scale:i,scaleView:o,shiftRight:c,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:e,translate:a},Symbol.toStringTag,{value:\"Module\"}));export{a,n as b,f as c,e as d,s as e,l as f,i as g,c as h,u as l,d as n,o as s,r as t,p as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class o{constructor(e,t,r,o,h={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...h,schedule:o}).then(e=>{if(void 0===this._thread){this._thread=e,this._promise=null,h.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()}),this._promise.catch(t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t(()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()})}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t,s){return this.invokeMethod(this._mainMethod,e,t,s)}invokeMethod(e,t,s,i){if(this._thread){const r=this._transferLists[e],o=r?r(t):[];return this._thread.invoke(e,t,{transferList:o,signal:s,priority:i})}return this._promise?this._promise.then(()=>(r(s),this.invokeMethod(e,t,s))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then(h):this._promise?this._promise.then(()=>this.broadcast(e,t)):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then(t=>{e.removed||(e.threadHandle=t)})}}function h(){}export{o as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{ClonableMixin as e}from\"../../core/Clonable.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";var c;let i=class extends(e(o)){static{c=this}constructor(r){super(r),this.type=\"georeferenced\",this.origin=null}static{this.absolute=new c}};r([s({georeferenced:\"georeferenced\"},{readOnly:!0})],i.prototype,\"type\",void 0),r([t({type:[Number],nonNullable:!1,json:{write:!0}})],i.prototype,\"origin\",void 0),i=c=r([p(\"esri.geometry.support.MeshGeoreferencedVertexSpace\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";let i=class extends(r(e)){constructor(o){super(o),this.type=\"local\",this.origin=c()}};o([s({local:\"local\"},{readOnly:!0})],i.prototype,\"type\",void 0),o([t({type:[Number],nonNullable:!0,json:{write:!0}})],i.prototype,\"origin\",void 0),i=o([p(\"esri.geometry.support.MeshLocalVertexSpace\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function s(){return n??=(async()=>{const s=await import(\"../../chunks/i3s.js\");return await s.default({locateFile:s=>t(`esri/libs/i3s/${s}`)})})(),n}function i(){n=null}let n;export{i as cleanup,s as get};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/Logger.js\";import o from\"../../../core/PooledArray.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r}from\"../../../geometry/projectionUtils.js\";import{projectVectorToVector as i}from\"../../../geometry/projection/projectVectorToVector.js\";class n{constructor(s,o,t,e,r,i){this.layout=s,this.interleavedVertexData=o,this.indices=t,this.hasColors=e,this.hasModifications=r,this.positionData=i}}class h{constructor(s,o,t,e,r,i,n){this.componentOffsets=s,this.featureIds=o,this.anchorIds=t,this.anchors=e,this.transformedGeometry=r,this.globalTrafo=i,this.obb=n}}class a extends e{constructor(s){super(\"SceneLayerWorker\",\"process\",{process:s=>[s.geometryBuffer],project:s=>[s.positions.buffer],transformNormals:s=>[s.normals.buffer]},s,{hasInitialize:!0})}setModifications(s,o,t){const e={context:s,modifications:o,isGeodetic:t};return this.broadcast(e,\"setModifications\")}setLegacySchema(s,o){const t=JSON.stringify(o);return this.broadcast({context:s,jsonSchema:t},\"setLegacySchema\")}destroyContext(s){return this.broadcast(s,\"destroyContext\")}async destroyContextAndSelf(s){await this.destroyContext(s),this.destroy()}project(s,o){return this.invokeMethod(\"project\",s,o)}transformNormals(s,o){return this.invokeMethod(\"transformNormals\",s,o)}}const p=new o({deallocator:null}),c=t();function u(o,t,e){p.clear();let n=1/0,h=1/0,a=-1/0,u=-1/0,l=!1;for(const m of t){const o=\"clip\"===m.type?2:\"mask\"===m.type?1:0,t=m.geometry;let f=s=>s;if(t.spatialReference){if(!r(t.spatialReference,e)){s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"im-modification-projection-failed\",\"Can't project modification polygon into layer spatial reference, ignoring modification\",{polygon:t});continue}f=s=>(i(s,t.spatialReference,c,e),c)}else t.hasZ||(c[2]=0,f=s=>(c[0]=s[0],c[1]=s[1],c));l=l||1===o;const d=t.rings.length,g=t.rings.some(s=>s.length<3);if(0===d||g)s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"im-modification-invalid-polygon\",\"Ignoring invalid modification polygon (no rings or rings with less than 3 vertices).\",{polygon:t});else{p.push(o),p.push(d);for(const s of t.rings){p.push(s.length);for(const o of s){const s=f(o);p.push(s[0]),p.push(s[1]),p.push(s[2]),n=Math.min(n,s[0]),h=Math.min(h,s[1]),a=Math.max(a,s[0]),u=Math.max(u,s[1])}}}}if(null!=o)if(l){const s=1e-4;p.push(2),p.push(2),p.push(4),p.push(n-s),p.push(h-s),p.push(0),p.push(a+s),p.push(h-s),p.push(0),p.push(a+s),p.push(u+s),p.push(0),p.push(n-s),p.push(u+s),p.push(0),p.push(4),p.push(o[0]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[3]),p.push(0),p.push(o[0]),p.push(o[3]),p.push(0)}else p.push(1),p.push(1),p.push(4),p.push(o[0]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[1]),p.push(0),p.push(o[2]),p.push(o[3]),p.push(0),p.push(o[0]),p.push(o[3]),p.push(0);p.push(3);const f=new Float64Array(p.length);for(let s=0;s<p.length;++s)f[s]=p.at(s);return f}export{a as I3SMeshWorkerHandle,h as TransformedData,n as TransformedGeometry,u as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{hasScaling as e}from\"../../../core/mathUtils.js\";import r from\"../../../geometry/SpatialReference.js\";import{ensurePackedMat4f64 as t,ensurePackedArray as o}from\"../../../geometry/support/DoubleArray.js\";import n from\"../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import s from\"../../../geometry/support/MeshLocalVertexSpace.js\";import{b as i,n as a}from\"../../../chunks/vec3.js\";import{get as f,cleanup as c}from\"../../../libs/i3s/I3SModule.js\";import{TransformedGeometry as l,TransformedData as u}from\"./I3SMeshWorkerHandle.js\";async function m(e){A=await N();const r=[e.geometryBuffer];return{result:L(A,e,r),transferList:r}}async function y(e){A=await N();const r=[e.geometryBuffer],{geometryBuffer:t}=e,o=t.byteLength,n=A._malloc(o),s=new Uint8Array(A.HEAPU8.buffer,n,o);s.set(new Uint8Array(t));const i=A.dracoDecompressPointCloudData(n,s.byteLength);if(A._free(n),i.error.length>0)throw new Error(`i3s.wasm: ${i.error}`);const a=i.featureIds?.length>0?i.featureIds.slice():null,f=i.positions.slice();return a&&r.push(a.buffer),r.push(f.buffer),{result:{positions:f,featureIds:a},transferList:r}}async function p(e){await N(),S(e);const r={buffer:e.buffer};return{result:r,transferList:[r.buffer]}}async function h(e){await N(),j(e)}async function b(e){A=await N(),A.setLegacySchema(e.context,e.jsonSchema)}async function d(e){const{localMatrix:i,origin:a,positions:f,vertexSpace:c}=e,l=r.fromJSON(e.inSpatialReference),u=r.fromJSON(e.outSpatialReference),m=i?t(i):void 0,y=o(a);let p;const[{projectBuffer:h},{initializeProjection:b}]=await Promise.all([import(\"../../../geometry/projection/projectBuffer.js\"),import(\"../../../geometry/projectionUtils.js\")]);await b(l,u);const d=[0,0,0];if(!h(y,l,0,d,u,0))throw new Error(\"Failed to project\");if(\"georeferenced\"===c.type&&null==c.origin){if(p=new Float64Array(f.length),!h(f,l,0,p,u,0,p.length/3))throw new Error(\"Failed to project\")}else{const e=\"georeferenced\"===c.type?n.fromJSON(c):s.fromJSON(c),{projectMeshVertexPositions:r}=await import(\"../../../geometry/support/meshUtils/projectMeshVertexPositions.js\"),t=r({vertexAttributes:{position:f},transform:m?{localMatrix:m}:void 0,vertexSpace:e,spatialReference:l},u);if(!t)throw new Error(\"Failed to project\");p=t}const g=p.length,[w,E,A]=d;for(let r=0;r<g;r+=3)p[r]-=w,p[r+1]-=E,p[r+2]-=A;return{result:{projected:p,original:f,projectedOrigin:d},transferList:[p.buffer,f.buffer]}}async function g({normalMatrix:r,normals:t}){const o=new Float32Array(t.length);return i(o,t,r),e(r)&&a(o,o),{result:{transformed:o,original:t},transferList:[o.buffer,t.buffer]}}function w(e){_(e)}let E,A;function j(e){if(!A)return;const r=e.modifications,t=A._malloc(8*r.length),o=new Float64Array(A.HEAPU8.buffer,t,r.length);for(let n=0;n<r.length;++n)o[n]=r[n];A.setModifications(e.context,t,r.length,e.isGeodetic),A._free(t)}function L(e,r,t){const{context:o,globalTrafo:n,mbs:s,obbData:i,elevationOffset:a,geometryBuffer:f,geometryDescriptor:c,indexToVertexProjector:m,vertexToRenderProjector:y}=r,p=e._malloc(f.byteLength),h=33,b=e._malloc(h*Float64Array.BYTES_PER_ELEMENT),d=new Uint8Array(e.HEAPU8.buffer,p,f.byteLength);d.set(new Uint8Array(f));const g=new Float64Array(e.HEAPU8.buffer,b,h);P(g,[NaN,NaN,NaN]);let w=g.byteOffset+3*g.BYTES_PER_ELEMENT,E=new Float64Array(g.buffer,w);P(E,n),w+=16*g.BYTES_PER_ELEMENT,E=new Float64Array(g.buffer,w),P(E,s),w+=4*g.BYTES_PER_ELEMENT,i&&(E=new Float64Array(g.buffer,w),P(E,i));const A=c,j={isDraco:!1,isLegacy:!1,color:r.layouts.some(e=>e.some(e=>\"color\"===e.name)),normal:r.needNormals&&r.layouts.some(e=>e.some(e=>\"normalCompressed\"===e.name)),uv0:r.layouts.some(e=>e.some(e=>\"uv0\"===e.name)),uvRegion:r.layouts.some(e=>e.some(e=>\"uvRegion\"===e.name)),featureIndex:A.featureIndex},L=e.process(o,!!r.obbData,p,d.byteLength,A,j,b,a,m,y,r.normalReferenceFrame);if(e._free(b),e._free(p),L.error.length>0)throw new Error(`i3s.wasm: ${L.error}`);if(L.discarded)return null;const x=L.componentOffsets.length>0?L.componentOffsets.slice():null,S=L.featureIds.length>0?L.featureIds.slice():null,_=L.anchorIds.length>0?Array.from(L.anchorIds):null,M=L.anchors.length>0?Array.from(L.anchors):null,N=L.interleavedVertedData.slice().buffer,U=1===L.indicesType?new Uint16Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/2).slice():new Uint32Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/4).slice(),F=L.positions.slice(),{buffer:T,byteOffset:v,byteLength:B}=L.positionIndices,I=1===L.positionIndicesType?new Uint16Array(T,v,B/2).slice():new Uint32Array(T,v,B/4).slice(),O=new l(r.layouts[0],N,U,L.hasColors,L.hasModifications,{data:F,indices:I});return S&&t.push(S.buffer),x&&t.push(x.buffer),t.push(N),t.push(U.buffer),t.push(F.buffer),t.push(I.buffer),new u(x,S,_,M,O,n,L.obb)}function x(e){return 0===e?0:1===e?1:2===e?2:3}function S(e){if(!A)return;const{context:r,buffer:t}=e,o=A._malloc(t.byteLength),n=t.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(A.HEAPU8.buffer,o,n),i=new Float64Array(t);s.set(i),A.filterOBBs(r,o,n),i.set(s),A._free(o)}function _(e){A&&0===A.destroy(e)&&(A=null,E=null,c())}function P(e,r){for(let t=0;t<r.length;++t)e[t]=r[t]}async function M(){A||await N()}async function N(){return A||(A=await(E??=f())),A}const U={transform:(e,r)=>A&&L(A,e,r),destroy:_};export{w as destroyContext,y as dracoDecompressPointCloudData,p as filterObbsForModifications,S as filterObbsForModificationsSync,M as initialize,x as interpretObbModificationResults,m as process,d as project,b as setLegacySchema,h as setModifications,j as setModificationsSync,U as test,g as transformNormals};\n"],"names":["e","t","f","r","typedBuffer","typedBufferStride","arguments","length","undefined","n","Math","ceil","o","i","u","l","a","s","d","c","p","h","y","B","g","S","m","M","min","sqrt","Object","freeze","defineProperty","__proto__","linearToSRGB","linearToSRGBView","normalize","normalizeView","scale","scaleView","shiftRight","count","transformMat3","transformMat3View","transformMat4","transformMat4View","translate","Symbol","toStringTag","value","constructor","this","_mainMethod","_transferLists","_listeners","_promise","_objectSpread","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","getLogger","error","concat","on","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","transferList","signal","priority","Promise","reject","all","promise","_Class","super","type","origin","absolute","georeferenced","readOnly","prototype","Number","nonNullable","json","write","local","layout","interleavedVertexData","indices","hasColors","hasModifications","positionData","componentOffsets","featureIds","anchorIds","anchors","transformedGeometry","globalTrafo","obb","deallocator","async","A","N","geometryBuffer","result","L","_i$featureIds","byteLength","_malloc","Uint8Array","HEAPU8","buffer","set","dracoDecompressPointCloudData","_free","Error","slice","positions","j","b","setLegacySchema","context","jsonSchema","localMatrix","vertexSpace","fromJSON","inSpatialReference","outSpatialReference","projectBuffer","initializeProjection","Float64Array","projectMeshVertexPositions","vertexAttributes","position","transform","spatialReference","w","E","projected","original","projectedOrigin","_ref","normalMatrix","normals","Float32Array","transformed","_","modifications","setModifications","isGeodetic","mbs","obbData","elevationOffset","geometryDescriptor","indexToVertexProjector","vertexToRenderProjector","BYTES_PER_ELEMENT","P","NaN","byteOffset","isDraco","isLegacy","color","layouts","some","name","normal","needNormals","uv0","uvRegion","featureIndex","process","normalReferenceFrame","discarded","x","Array","from","interleavedVertedData","U","indicesType","Uint16Array","Uint32Array","F","T","v","positionIndices","I","positionIndicesType","O","data","filterOBBs","default","locateFile"],"sourceRoot":""}