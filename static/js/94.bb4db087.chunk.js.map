{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js","../node_modules/@arcgis/core/geometry/support/quantizationUtils.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js"],"names":["i","e","o","n","a","s","size","c","maxSize","m","node","r","opacity","y","cimOptions","d","feature","h","fieldMap","p","geometryType","u","style","g","f","Math","min","t","clone","l","preserveOutlineWidth","M","data","symbol","type","rasterizeCIMSymbolAsync","scaleFactor","b","w","document","createElement","width","imageData","height","getContext","putImageData","C","D","scale","ceil","I","Image","src","toDataURL","appendChild","originPosition","tolerance","translate","extent","xmin","ymax","x","round","length","push","z","T","Array","E","L","points","O","S","N","rings","paths","U","ymin","xmax","zmin","zmax","mmin","mmax","G","q","v","B","V","F","referencesGeometry","repurposeFeature","evaluate","$feature","getLogger","warn","Map","transform","hasZ","hasM","has","set","error","get","geometry"],"mappings":"iOAIyMA,EAAE,IAAIC,sBAAE,MAAK,GAAIC,EAAE,I,SAAmBC,E,8EAAf,WAAiBF,GAAjB,+DAAAG,EAAA,6DAAmBD,EAAnB,+BAAqB,GAAeE,EAA8BF,EAAnCG,KAAeC,EAAoBJ,EAA5BK,QAAeC,EAAaN,EAAlBO,KAAeC,EAAGR,EAAXS,QAAaC,EAAEV,EAAEW,YAAYX,EAAWY,EAAqCF,EAA7CG,QAAmBC,EAA0BJ,EAAnCK,SAAwBC,EAAWN,EAAxBO,aAAqBC,EAAGR,EAATS,MAAWC,EAAEnB,YAAEH,IAAGuB,EAAEC,KAAKC,IAAI,MAAMrB,EAAEA,EAAEkB,EAAE,MAAMhB,EAAEA,EAAEoB,YAAEzB,OAAQqB,IAAItB,EAAEA,EAAE2B,QAAQC,YAAE5B,EAAEuB,EAAE,CAACM,sBAAqB,KAAUC,EAAE,EAAE9B,GAAGA,EAAE+B,MAAM/B,EAAE+B,KAAKC,QAAQ,mBAAmBhC,EAAE+B,KAAKC,OAAOC,OAAOH,EAAE,GAAtT,SAAuU/B,EAAEmC,wBAAwBlC,EAAEc,EAAEE,EAAEE,EAAE,CAACiB,YAAYL,EAAET,MAAMD,IAA9X,cAA+TgB,EAA/T,QAAkYC,EAAEC,SAASC,cAAc,WAAYC,MAAMJ,EAAEK,UAAUD,MAAMH,EAAEK,OAAON,EAAEK,UAAUC,OAAOL,EAAEM,WAAW,MAAMC,aAAaR,EAAEK,UAAU,EAAE,GAAOI,EAAER,EAAEG,MAAMV,EAAEgB,EAAET,EAAEK,OAAOZ,EAAK,MAAM1B,GAAI,OAAO,MAAMF,OAAE,EAAOA,EAAE6C,UAAS,MAAM7C,OAAE,EAAOA,EAAE6C,SAAqBF,GAANnB,EAAEmB,EAAEC,IAAO,EAAEtB,KAAKwB,KAAKzB,EAAEG,GAAGH,EAAEuB,EAAEpB,GAAG,EAAEH,EAAEC,KAAKwB,KAAKzB,EAAEG,IAASuB,EAAE,IAAIC,MAAML,EAAEC,GAAjsB,mBAA2sBG,EAAEE,IAAId,EAAEe,YAAY,MAAM1C,IAAIuC,EAAE5B,MAAMV,QAAR,UAAmBD,IAAKF,GAAGA,EAAE6C,YAAYJ,GAAGA,IAArxB,4C,oUCAR,IAAM9C,EAAE,SAACD,EAAEwB,EAAEhB,GAAL,MAAS,CAACgB,EAAEhB,IAAGF,EAAE,SAACN,EAAEwB,EAAEhB,GAAL,MAAS,CAACgB,EAAEhB,EAAER,EAAE,KAAII,EAAE,SAACJ,EAAEwB,EAAEhB,GAAL,MAAS,CAACgB,EAAEhB,EAAER,EAAE,GAAGA,EAAE,KAAI,SAASE,EAAEF,GAAG,OAAIA,EAAoB,CAACoD,eAAe,eAAepD,EAAEoD,eAAe,YAAY,eAAepD,EAAEoD,eAAe,YAAYpD,EAAEoD,eAAeP,MAAM7C,EAAEqD,UAAU,CAACrD,EAAEqD,UAAUrD,EAAEqD,WAAW,CAAC,EAAE,GAAGC,UAAUtD,EAAEuD,OAAO,CAACvD,EAAEuD,OAAOC,KAAKxD,EAAEuD,OAAOE,MAAM,CAAC,EAAE,IAA1O,KAAsjB,SAASC,EAAT,EAAiClD,GAAE,IAAjBR,EAAiB,EAAvB6C,MAAkBrB,EAAK,EAAf8B,UAAgB,OAAOhC,KAAKqC,OAAOnD,EAAEgB,EAAE,IAAIxB,EAAE,IAAI,SAASc,EAAT,EAAiCN,GAAE,IAAjBR,EAAiB,EAAvB6C,MAAkBrB,EAAK,EAAf8B,UAAgB,OAAOhC,KAAKqC,OAAOnC,EAAE,GAAGhB,GAAGR,EAAE,IAAI,SAAS+C,EAAE/C,EAAEwB,EAAEhB,GAA0B,IAAvB,IAAeU,EAAErB,EAAEE,EAAE2B,EAAf5B,EAAE,GAAuBG,EAAE,EAAEA,EAAEO,EAAEoD,OAAO3D,IAAI,CAAC,IAAMK,EAAEE,EAAEP,GAAGA,EAAE,GAAGF,EAAE2D,EAAE1D,EAAEM,EAAE,IAAIoB,EAAEZ,EAAEd,EAAEM,EAAE,IAAIP,IAAImB,GAAGQ,IAAI7B,IAAIC,EAAE+D,KAAKrC,EAAElB,EAAEP,EAAEmB,EAAEQ,EAAE7B,IAAIqB,EAAEnB,EAAEF,EAAE6B,KAAKR,EAAEwC,EAAE1D,EAAEM,EAAE,IAAIT,EAAEiB,EAAEd,EAAEM,EAAE,IAAIR,EAAE+D,KAAKrC,EAAElB,EAAEY,EAAErB,KAAK,OAAOC,EAAE8D,OAAO,EAAE9D,EAAE,KAA4a,SAASgE,EAAT,EAAiCtD,GAAE,IAAjBR,EAAiB,EAAvB6C,MAAkBrB,EAAK,EAAf8B,UAAgB,OAAO9C,EAAER,EAAE,GAAGwB,EAAE,GAAG,SAASuC,EAAT,EAAiCvD,GAAE,IAAjBR,EAAiB,EAAvB6C,MAAwB,OAAD,EAAfS,UAAyB,GAAG9C,EAAER,EAAE,GAAG,SAAS4B,EAAE5B,EAAEwB,EAAEhB,GAAG,IAAMV,EAAE,IAAIkE,MAAMxD,EAAEoD,QAAQ,IAAIpD,EAAEoD,OAAO,OAAO9D,EAAE,kBAAWE,EAAE6C,MAAb,GAAM3B,EAAN,KAAQrB,EAAR,KAAuBE,EAAE+D,EAAE9D,EAAEQ,EAAE,GAAG,IAAIkB,EAAEqC,EAAE/D,EAAEQ,EAAE,GAAG,IAAIV,EAAE,GAAG0B,EAAEhB,EAAE,GAAGT,EAAE2B,GAAG,IAAI,IAAIzB,EAAE,EAAEA,EAAEO,EAAEoD,OAAO3D,IAAI,CAAC,IAAMD,EAAEQ,EAAEP,GAAGF,GAAGC,EAAE,GAAGkB,EAAEQ,GAAG1B,EAAE,GAAGH,EAAEC,EAAEG,GAAGuB,EAAExB,EAAED,EAAE2B,GAAG,OAAO5B,EAAE,SAASmE,EAAEjE,EAAEwB,EAAEhB,GAA+B,IAA5B,IAAMV,EAAE,IAAIkE,MAAMxD,EAAEoD,QAAgB1C,EAAE,EAAEA,EAAEV,EAAEoD,OAAO1C,IAAIpB,EAAEoB,GAAGU,EAAE5B,EAAEwB,EAAEhB,EAAEU,IAAI,OAAOpB,EAAgmC,SAASoE,EAAElE,EAAEwB,EAAEhB,EAAEV,EAAEoB,GAAG,OAAOM,EAAE2C,OAA53D,SAAWnE,EAAEwB,EAAEhB,EAAEV,GAAG,OAAOiD,EAAE/C,EAAEQ,EAAEV,EAAEM,EAAEE,EAAER,EAAEQ,EAAEL,EAAEuB,GAAs1DR,CAAEhB,EAAEQ,EAAE2D,OAAOrE,EAAEoB,GAAGM,EAAE,SAAS4C,EAAEpE,EAAEwB,EAAEhB,EAAEV,EAAEoB,GAAG,OAAOM,EAAEkC,EAAEA,EAAE1D,EAAEQ,EAAEkD,GAAGlC,EAAEd,EAAEI,EAAEd,EAAEQ,EAAEE,GAAGc,IAAIhB,IAAIV,IAAI0B,EAAEsC,EAAEtD,EAAEsD,GAAG5C,IAAIM,EAAElB,EAAEE,EAAEF,IAAIkB,EAAE,SAAS6C,EAAErE,EAAEwB,EAAEhB,EAAEV,EAAEoB,GAAG,IAAMrB,EAA/9D,SAAWG,EAAEwB,EAAEhB,EAAEV,GAA8B,IAA3B,IAAMoB,EAAE,GAAGrB,EAAEW,EAAEV,EAAEM,EAAEE,EAAER,EAAEQ,EAAEL,EAAUF,EAAE,EAAEA,EAAEyB,EAAEoC,OAAO7D,IAAI,CAAC,IAAMS,EAAEuC,EAAE/C,EAAEH,EAAE2B,EAAEzB,IAAIS,GAAGA,EAAEoD,QAAQ,GAAG1C,EAAE2C,KAAKrD,GAAG,OAAOU,EAAE0C,OAAO1C,EAAE,KAAs1DoD,CAAEtE,EAAEQ,EAAE+D,MAAMzE,EAAEoB,GAAG,OAAOrB,GAAG2B,EAAE+C,MAAM1E,EAAE2B,GAAG,KAAK,SAASZ,EAAEZ,EAAEwB,EAAEhB,EAAEV,EAAEoB,GAAG,IAAMrB,EAA15D,SAAWG,EAAEwB,EAAEhB,EAAEV,GAA8B,IAA3B,IAAMoB,EAAE,GAAGrB,EAAEW,EAAEV,EAAEM,EAAEE,EAAER,EAAEQ,EAAEL,EAAUF,EAAE,EAAEA,EAAEyB,EAAEoC,OAAO7D,IAAI,CAAC,IAAMS,EAAEuC,EAAE/C,EAAEH,EAAE2B,EAAEzB,IAAIS,GAAGA,EAAEoD,QAAQ,GAAG1C,EAAE2C,KAAKrD,GAAG,OAAOU,EAAE0C,OAAO1C,EAAE,KAAixDR,CAAEV,EAAEQ,EAAEgE,MAAM1E,EAAEoB,GAAG,OAAOrB,GAAG2B,EAAEgD,MAAM3E,EAAE2B,GAAG,KAAK,SAASiD,EAAEzE,EAAEwB,GAAG,OAAOxB,GAAGwB,EAAEhB,YAAEgB,GAAG4C,EAAEpE,EAAE,GAAGwB,GAAE,GAAG,GAAI1B,YAAE0B,GAAGZ,EAAEZ,EAAE,GAAGwB,GAAE,GAAG,GAAIN,YAAEM,GAAG6C,EAAErE,EAAE,GAAGwB,GAAE,GAAG,GAAI3B,YAAE2B,GAAG0C,EAAElE,EAAE,GAAGwB,GAAE,GAAG,GAAIzB,YAAEyB,GAAplB,SAAWxB,EAAEwB,EAAEhB,EAAEV,EAAEoB,GAAG,OAAOM,EAAEgC,KAAKE,EAAE1D,EAAEQ,EAAEgD,MAAMhC,EAAEkD,KAAK5D,EAAEd,EAAEQ,EAAEkE,MAAMlD,EAAEmD,KAAKjB,EAAE1D,EAAEQ,EAAEmE,MAAMnD,EAAEiC,KAAK3C,EAAEd,EAAEQ,EAAEiD,MAAMjC,IAAIhB,IAAIV,IAAI0B,EAAEoD,KAAKpE,EAAEoE,KAAKpD,EAAEqD,KAAKrE,EAAEqE,MAAM3D,IAAIM,EAAEsD,KAAKtE,EAAEsE,KAAKtD,EAAEuD,KAAKvE,EAAEuE,OAAOvD,EAAmawD,CAAEhF,EAAE,GAAGwB,GAAE,GAAG,GAAI,KAAK,KAA2L,SAASyD,EAAEzD,EAAEhB,EAAEV,EAAEoB,EAAErB,GAAG,OAAOG,YAAEF,KAAKU,EAAE2D,OAAhnD,SAAWnE,EAAEwB,EAAEhB,EAAEV,GAAG,OAAO8B,EAAE5B,EAAEQ,EAAEV,EAAEM,EAAEE,EAAER,EAAEQ,EAAEL,EAAEuB,GAA0kDU,CAAEV,EAAE1B,EAAEqE,OAAOjD,EAAErB,IAAIW,EAAE,SAAS0E,EAAElF,EAAEQ,EAAEV,EAAEoB,EAAErB,GAAG,OAAO2B,YAAE1B,KAAKU,EAAEkD,EAAEI,EAAE9D,EAAEF,EAAE4D,GAAGlD,EAAEE,EAAEqD,EAAE/D,EAAEF,EAAEY,GAAGF,IAAIV,IAAIoB,IAAIV,EAAEsD,EAAEhE,EAAEgE,GAAGjE,IAAIW,EAAEF,EAAER,EAAEQ,KAAKE,EAAE,SAAS2E,EAAE3D,EAAEhB,EAAEV,EAAEoB,EAAErB,GAAG,OAAOG,YAAEF,KAAKU,EAAE+D,MAAtrD,SAAWvE,EAAEwB,EAAEhB,EAAEV,GAAG,OAAOmE,EAAEjE,EAAEQ,EAAEV,EAAEM,EAAEE,EAAER,EAAEQ,EAAEL,EAAEuB,GAA+oD4D,CAAE5D,EAAE1B,EAAEyE,MAAMrD,EAAErB,IAAIW,EAAE,SAASmC,EAAEnB,EAAEhB,EAAEV,EAAEoB,EAAErB,GAAG,OAAOG,YAAEF,KAAKU,EAAEgE,MAAtyD,SAAWxE,EAAEwB,EAAEhB,EAAEV,GAAG,OAAOmE,EAAEjE,EAAEQ,EAAEV,EAAEM,EAAEE,EAAER,EAAEQ,EAAEL,EAAEuB,GAA+vD6D,CAAE7D,EAAE1B,EAAE0E,MAAMtD,EAAErB,IAAIW,I,wGCA9zH,SAASN,EAAEJ,EAAE0B,EAAEzB,EAAEC,EAAEC,GAAG,IAAMC,EAAEJ,EAAEwF,sBAAsBrF,EAAEiB,EAAEM,EAAExB,EAAEC,GAAGuB,EAAE3B,EAAEC,EAAEyF,iBAAiBrF,GAAG,IAAI,OAAOJ,EAAE0F,SAAF,2BAAezF,GAAf,IAAiB0F,SAAS5F,KAAI,MAAMO,GAAG,OAAOI,IAAEkF,UAAU,wCAAwCC,KAAK,oCAAoCvF,GAAG,MAAM,IAAMP,EAAE,IAAI+F,IAAI,SAAS1E,EAAEpB,EAAEU,EAAEgB,GAAG,IAAgBzB,EAAiByB,EAA3BqE,UAAiB7F,EAAUwB,EAAfsE,KAAY7F,EAAGuB,EAARuE,KAAUlG,EAAEmG,IAAIxF,IAAIX,EAAEoG,IAAIzF,EAAmE,SAAWN,GAAG,IAAML,EAAE,GAAG,OAAOK,GAAG,IAAI,oBAAoB,OAAM,SAACJ,EAAEU,EAAEgB,EAAEzB,GAAP,OAAWE,YAAEO,EAAEX,EAAEC,EAAE0B,EAAEzB,IAAG,IAAI,sBAAsB,OAAM,SAACD,EAAEU,EAAEgB,EAAEzB,GAAP,OAAWC,YAAEQ,EAAEX,EAAEC,EAAE0B,EAAEzB,IAAG,IAAI,uBAAuB,OAAM,SAACD,EAAEU,EAAEgB,EAAExB,GAAP,OAAWD,YAAES,EAAEX,EAAEC,EAAE0B,EAAExB,IAAG,IAAI,yBAAyB,OAAM,SAACF,EAAEU,EAAET,EAAEC,GAAP,OAAWwB,YAAEhB,EAAEX,EAAEC,EAAEC,EAAEC,IAAG,QAAQ,OAAOQ,IAAEkF,UAAU,wCAAwCQ,MAAM,IAAIpG,IAAE,iBAAN,yCAAyDI,KAAM,SAAAJ,GAAC,OAAEA,IAAjdM,CAAEI,IAAI,IAAMN,EAAEL,EAAEsG,IAAI3F,EAANX,CAASC,EAAEsG,SAASrG,EAAEC,EAAEC,GAAG,kCAAUH,GAAV,IAAYsG,SAASlG","file":"static/js/94.bb4db087.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{px2pt as t}from\"../../core/screenUtils.js\";import{CIMSymbolRasterizer as e}from\"../cim/CIMSymbolRasterizer.js\";import{getCIMSymbolSize as a,scaleCIMSymbolTo as l}from\"./cimSymbolUtils.js\";const i=new e(null,!0),o=120;async function n(e,n={}){const{size:s,maxSize:c,node:m,opacity:r}=n,y=n.cimOptions||n,{feature:d,fieldMap:h,geometryType:p,style:u}=y,g=a(e),f=Math.min(null!=s?s:g,null!=c?c:t(o));f!==g&&(e=e.clone(),l(e,f,{preserveOutlineWidth:!0}));let M=3;e&&e.data&&e.data.symbol&&\"CIMPointSymbol\"!==e.data.symbol.type&&(M=1);const b=await i.rasterizeCIMSymbolAsync(e,d,h,p,{scaleFactor:M,style:u}),w=document.createElement(\"canvas\");w.width=b.imageData.width,w.height=b.imageData.height;w.getContext(\"2d\").putImageData(b.imageData,0,0);let C=w.width/M,D=w.height/M;if(null!=s&&(null==(null==n?void 0:n.scale)||(null==n?void 0:n.scale))){const t=C/D;C=t<=1?Math.ceil(f*t):f,D=t<=1?f:Math.ceil(f/t)}const I=new Image(C,D);return I.src=w.toDataURL(),null!=r&&(I.style.opacity=`${r}`),m&&m.appendChild(I),I}export{n as previewCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as n,isNone as t}from\"../../core/maybe.js\";import{isPoint as r,isPolyline as e,isPolygon as u,isMultipoint as i,isExtent as o}from\"./jsonUtils.js\";function l(n){return n&&\"upperLeft\"===n.originPosition}const a=(n,t,r)=>[t,r],m=(n,t,r)=>[t,r,n[2]],c=(n,t,r)=>[t,r,n[2],n[3]];function s(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function f(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,i,o,a;return l(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),l(t)?(i=t.translate[0],o=t.translate[1],a=t.scale[0]):(i=t.extent.xmin,o=t.extent.ymax,a=t.tolerance),r===i&&e===o&&u===a}function x({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function h({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function I(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=x(n,m[0]),l=h(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=x(n,m[0]),i=h(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function g(n,t,r){return t[0]=x(n,r[0]),t[3]=h(n,r[1]),t[2]=x(n,r[2]),t[1]=h(n,r[3]),t}function p(n,t,r,e){return I(n,r?e?c:m:e?m:a,t)}function N(n,t,r,e){const u=[],i=r?e?c:m:e?m:a;for(let o=0;o<t.length;o++){const r=I(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function y(n,t,r,e){const u=[],i=r?e?c:m:e?m:a;for(let o=0;o<t.length;o++){const r=I(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function z({scale:n,translate:t},r){return r*n[0]+t[0]}function T({scale:n,translate:t},r){return t[1]-r*n[1]}function M(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=z(n,r[0][0]),l=T(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function E(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=M(n,t,r[u]);return e}function P(n,t,r){return r?(t[0]=z(n,r[0]),t[1]=T(n,r[3]),t[2]=z(n,r[2]),t[3]=T(n,r[1]),t):[z(n,t[0]),T(n,t[3]),z(n,t[2]),T(n,t[1])]}function b(n,t,r,e){return M(n,r?e?c:m:e?m:a,t)}function F(n,t,r,e){return E(n,r?e?c:m:e?m:a,t)}function V(n,t,r,e){return E(n,r?e?c:m:e?m:a,t)}function Y(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function _(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)Y(n,n,t[r]);return n}function A(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return Y(t,t,n)}function w(n){return _([0,0,0,0],n)}function j(n){return _([0,0,0,0],n)}function G(n,t,r,e,u){return t.xmin=x(n,r.xmin),t.ymin=h(n,r.ymin),t.xmax=x(n,r.xmax),t.ymax=h(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function L(n,t,r,e,u){return t.points=p(n,r.points,e,u),t}function O(n,t,r,e,u){return t.x=x(n,r.x),t.y=h(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function S(n,t,r,e,u){const i=N(n,r.rings,e,u);return i?(t.rings=i,t):null}function d(n,t,r,e,u){const i=y(n,r.paths,e,u);return i?(t.paths=i,t):null}function U(n,t){return n&&t?r(t)?O(n,{},t,!1,!1):e(t)?d(n,{},t,!1,!1):u(t)?S(n,{},t,!1,!1):i(t)?L(n,{},t,!1,!1):o(t)?G(n,{},t,!1,!1):null:null}function k(n,t,r,e,u){return t.xmin=z(n,r.xmin),t.ymin=T(n,r.ymin),t.xmax=z(n,r.xmax),t.ymax=T(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function q(t,r,e,u,i){return n(e)&&(r.points=b(t,e.points,u,i)),r}function v(n,r,e,u,i){return t(e)||(r.x=z(n,e.x),r.y=T(n,e.y),r!==e&&(u&&(r.z=e.z),i&&(r.m=e.m))),r}function B(t,r,e,u,i){return n(e)&&(r.rings=V(t,e.rings,u,i)),r}function C(t,r,e,u,i){return n(e)&&(r.paths=F(t,e.paths,u,i)),r}export{f as equals,Y as getQuantizedBoundsCoordsArray,_ as getQuantizedBoundsCoordsArrayArray,w as getQuantizedBoundsPaths,A as getQuantizedBoundsPoints,j as getQuantizedBoundsRings,g as quantizeBounds,G as quantizeExtent,U as quantizeGeometry,L as quantizeMultipoint,y as quantizePaths,O as quantizePoint,p as quantizePoints,S as quantizePolygon,d as quantizePolyline,N as quantizeRings,x as quantizeX,h as quantizeY,s as toQuantizationTransform,P as unquantizeBounds,M as unquantizeCoordsArray,E as unquantizeCoordsArrayArray,k as unquantizeExtent,q as unquantizeMultipoint,F as unquantizePaths,v as unquantizePoint,b as unquantizePoints,B as unquantizePolygon,C as unquantizePolyline,V as unquantizeRings,z as unquantizeX,T as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{unquantizeMultipoint as t,unquantizePolyline as o,unquantizePolygon as n,unquantizePoint as a}from\"../../../geometry/support/quantizationUtils.js\";function s(e,t,o,n,a){const s=e.referencesGeometry()&&a?u(t,n,a):t,i=e.repurposeFeature(s);try{return e.evaluate({...o,$feature:i})}catch(c){return r.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case\"esriGeometryPoint\":return(e,r,t,o)=>a(r,i,e,t,o);case\"esriGeometryPolygon\":return(e,r,t,o)=>n(r,i,e,t,o);case\"esriGeometryPolyline\":return(e,r,t,n)=>o(r,i,e,t,n);case\"esriGeometryMultipoint\":return(e,r,o,n)=>t(r,i,e,o,n);default:return r.getLogger(\"esri.views.2d.support.arcadeOnDemand\").error(new e(\"mapview-arcade\",`Unable to handle geometryType: ${s}`)),e=>e}}export{s as default};\n"],"sourceRoot":""}