"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[16563],{8445:(e,t,r)=>{r.d(t,{O:()=>a});var n=r(56175);class a extends n.I{getOperatorType(){return 4}execute(e,t,r,a){return!(0,n.J)(e,t,r,4,a)}}},16563:(e,t,r)=>{r.r(t),r.d(t,{execute:()=>h,isAsync:()=>g});var n=r(21508),a=r(83395),s=r(11217),o=r(34578),c=r(52847),i=r(81130),l=r(66388),p=r(98685),f=r(58067),u=r(5262);function h(e){if(function(e){return null!=e.parentTemplate&&(0,i.Rg)(e.shape)}(e)&&"digitizing"!==e.mode)return async function(e){var t,r;let{templatePart:l,parentTemplate:h,shape:g,edits:d,relationships:y,mode:R}=e;const{builderConfig:v}=l,b=(0,s.V2)(v),S=(0,s.YI)(v),w=(0,s.RT)(v),_=(0,s.Gr)(v,S),k=w||0===b?g:(0,o.cY)(g,b);if(null===k)return;const G=h.layer.createQuery();G.geometry=k,G.spatialRelationship="intersects",G.returnM=!0,G.returnZ=!0,G.outSpatialReference=k.spatialReference,G.cacheHint=!1,G.returnGeometry=!0,G.historicMoment=h.layer.historicMoment,G.gdbVersion=h.layer.gdbVersion;const T=2*(null!==(t=null===(r=(0,f.fromSpatialReference)(k.spatialReference))||void 0===r?void 0:r.getTolerance())&&void 0!==t?t:.001);G.distance=T;const{features:C}=await h.layer.queryFeatures(G);if(0===C.length)return;const M=[];for(const n of C)M.push(m(n.geometry));const x=(0,n.TR)(k.spatialReference);let O=0,P=0;for(let n=0;n<k.paths.length&&!(d.length>i.Cg);n++){const e=k.paths[n].length;for(let t=0;t<e;t++){let r=k.getPoint(n,t);if(null!=r){for(const o of M)if((0,p.e)(r,o)){if(t>0&&0!==_&&(O+=k.hasZ?(0,a.BM)(k.paths[n][t-1],k.paths[n][t],x):(0,u.R3)(k.paths[n][t-1],k.paths[n][t])),0!==_){let s=1;if(S){const r=_<0?t-1:t+1;if(r>=e||r<0)return;s=k.hasZ?(0,a.BM)(k.paths[n][t],k.paths[n][r],x):(0,u.R3)(k.paths[n][t],k.paths[n][r])}const o=O+s*_;r=k.hasZ?(0,c.mw)(k,o,b,x):(0,c.a1)(k,o,b)}else 0!==b&&(r=(0,c.LB)(r,t===e-1?[k.paths[n][t-1],k.paths[n][t]]:[k.paths[n][t],k.paths[n][t+1]],b));r&&(0,s.fS)({templatePart:l,shape:r,edits:d,relationships:y,mode:R},"V".concat(P.toString()));break}P++}}}}(e)}function m(e){const t=[];for(const r of e.paths)for(const e of r)t.push([...e]);return new l.A({spatialReference:e.spatialReference,points:t})}const g=!0},98685:(e,t,r)=>{r.d(t,{a:()=>o,e:()=>c,i:()=>l,s:()=>i});var n=r(8445),a=r(58067);const s=new n.O;function o(e){const t=(0,a.getSpatialReference)(e);return s.accelerateGeometry((0,a.fromGeometry)(e),(0,a.fromSpatialReference)(t),1)}function c(e,t){return s.execute((0,a.fromGeometry)(e),(0,a.fromGeometry)(t),(0,a.fromSpatialReference)(e.spatialReference),null)}const i=s.supportsCurves(),l=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:o,execute:c,supportsCurves:i},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=16563.2647ae42.chunk.js.map