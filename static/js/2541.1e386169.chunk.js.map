{"version":3,"file":"static/js/2541.1e386169.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","../node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/rest/operations/identify.js","../node_modules/@arcgis/core/rest/support/IdentifyParameters.js","../node_modules/@arcgis/core/rest/support/IdentifyResult.js","../node_modules/@arcgis/core/rest/identify.js","../node_modules/@arcgis/core/views/layers/support/MapServiceLayerViewHelper.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as s,isNumber as a}from\"./Utils.js\";import{Technique as l}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as r}from\"./techniques/utils.js\";import{getWebGLCapabilities as o}from\"../../../webgl/capabilities.js\";function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=l}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case\"static\":return t;case\"level-dependent\":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=r(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:o(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if(s(t.minSize)&&s(t.maxSize))if(a(t.minSize)&&a(t.maxSize))i=e(t.minSize),l=e(t.maxSize);else{const s=r.scale;i=e(n(s,t.minSize.stops)),l=e(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=e(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=t(r.spatialReference)/i[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}export{v as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,n=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(n).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{g as e,m as r,h as s,c as i,r as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{f}from\"../../../../chunks/vec3f32.js\";import{normalizeMapX as l}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as u}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as c}from\"../../engine/webgl/Utils.js\";import{BufferObject as _}from\"../../../webgl/BufferObject.js\";import{BlendFactor as h,PrimitiveType as m,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends u{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(h.ONE,h.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(m.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:c,resolution:_,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=l(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*c[0],B=h*c[1],M=_*y,j=_*B,A=e(this._dvsMat3);r(A,A,u),s(A,A,n(y/2,B/2)),i(A,A,f(c[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=_.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=_.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>c(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{FeatureContainer as t}from\"../../engine/FeatureContainer.js\";import r from\"./GraphicBoundsRenderer.js\";import{CompareFunction as s}from\"../../../webgl/enums.js\";let i=class extends t{constructor(e){super(e),this.checkHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new r(e),this.requestRender()}get hasHighlight(){return this.checkHighlight()}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(s.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as t}from\"../../engine/webgl/enums.js\";import s from\"./BaseGraphicContainer.js\";import{ClearBufferBit as i}from\"../../../webgl/enums.js\";let o=class extends s{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){if(r.drawPhase!==t.HIGHLIGHT)return;if(this.attributeView.update(),!this.children.some((r=>r.hasData)))return;this.attributeView.bindTextures(r.context),super.renderChildren(r);const{painter:e}=r,s=e.effects.highlight;s.bind(r),r.context.setColorMask(!0,!0,!0,!0),r.context.clear(i.COLOR_BUFFER_BIT),this._renderChildren(r,s.defines.concat([\"highlightAll\"])),s.draw(r),s.unbind()}};o=r([e(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],o);const a=o;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const a=a=>{let c=class extends a{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([i(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../core/sql.js\";import{getJsonType as r}from\"../../geometry/support/jsonUtils.js\";import{getScale as t}from\"../../geometry/support/scaleUtils.js\";import{srToRESTValue as n}from\"../../geometry/support/spatialReferenceUtils.js\";import{getLayerFloorFilterClause as i}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as s}from\"../../layers/support/sublayerUtils.js\";function l(e,t){const{dpi:i,gdbVersion:s,geometry:l,geometryPrecision:a,height:p,layerOption:f,mapExtent:m,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,spatialReference:x,timeExtent:b,tolerance:h,width:E}=e.toJSON(),{dynamicLayers:O,layerDefs:S,layerIds:j}=o(e),N=null!=t?.geometry?t.geometry:null,$={geometryPrecision:a,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,tolerance:h},I=N&&N.toJSON()||l;$.imageDisplay=`${E},${p},${i}`,s&&($.gdbVersion=s),I&&(delete I.spatialReference,$.geometry=JSON.stringify(I),$.geometryType=r(I));const R=x??I?.spatialReference??m?.spatialReference;if(R&&($.sr=n(R)),$.time=b?[b.start,b.end].join(\",\"):null,m){const{xmin:e,ymin:r,xmax:t,ymax:n}=m;$.mapExtent=`${e},${r},${t},${n}`}return S&&($.layerDefs=S),O&&!S&&($.dynamicLayers=O),$.layers=\"popup\"===f?\"visible\":f,j&&!O&&($.layers+=`:${j.join(\",\")}`),$}function o(e){const{mapExtent:r,floors:n,width:l,sublayers:o,layerIds:p,layerOption:f,gdbVersion:m}=e,y=o?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u=\"popup\"===f,c={},d=t({extent:r,width:l,spatialReference:r?.spatialReference}),g=[],x=e=>{const r=0===d,t=0===e.minScale||d<=e.minScale,n=0===e.maxScale||d>=e.maxScale;if(e.visible&&(r||t&&n))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===p?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(o?.forEach(x),o&&!g.length)c.layerIds=[];else{const e=s(g,y,m),r=g.map((e=>{const r=i(n,e);return e.toExportImageJSON(r)}));if(e)c.dynamicLayers=JSON.stringify(r);else{if(o){let e=g.map((({id:e})=>e));p&&(e=e.filter((e=>p.includes(e)))),c.layerIds=e}else p?.length&&(c.layerIds=p);const e=a(n,g);if(null!=e&&e.length){const r={};for(const t of e)t.definitionExpression&&(r[t.id]=t.definitionExpression);Object.keys(r).length&&(c.layerDefs=JSON.stringify(r))}}}return c}function a(r,t){const n=!!r?.length,s=t.filter((e=>null!=e.definitionExpression||n&&null!=e.floorInfo));return s.length?s.map((t=>{const n=i(r,t),s=e(n,t.definitionExpression);return{id:t.id,definitionExpression:s??void 0}})):null}export{l as identifyToIdentifyRESTParameters,o as toDynamicLayersJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{geometryTypes as e}from\"../../geometry.js\";import o from\"../../TimeExtent.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromJSON as n}from\"../../geometry/support/jsonUtils.js\";import l from\"../../geometry/Extent.js\";import y from\"../../geometry/SpatialReference.js\";var m;let a=m=class extends r{static from(t){return i(m,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}};t([s({type:Number,json:{write:!0}})],a.prototype,\"dpi\",void 0),t([s()],a.prototype,\"floors\",void 0),t([s({type:String,json:{write:!0}})],a.prototype,\"gdbVersion\",void 0),t([s({types:e,json:{read:n,write:!0}})],a.prototype,\"geometry\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"geometryPrecision\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"height\",void 0),t([s({type:[Number],json:{write:!0}})],a.prototype,\"layerIds\",void 0),t([s({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],a.prototype,\"layerOption\",void 0),t([s({type:l,json:{write:!0}})],a.prototype,\"mapExtent\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"maxAllowableOffset\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnFieldName\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnGeometry\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnM\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnUnformattedValues\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnZ\",void 0),t([s({type:y,json:{write:!0}})],a.prototype,\"spatialReference\",void 0),t([s()],a.prototype,\"sublayers\",void 0),t([s({type:o,json:{write:!0}})],a.prototype,\"timeExtent\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"tolerance\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"width\",void 0),a=m=t([p(\"esri.rest.support.IdentifyParameters\")],a);const u=a;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import e from\"../../Graphic.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as i}from\"../../geometry/support/typeUtils.js\";let u=class extends t{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return e.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=i.toJSON(o.type))}};r([o({type:String,json:{write:!0}})],u.prototype,\"displayFieldName\",void 0),r([o({type:e})],u.prototype,\"feature\",void 0),r([s(\"feature\",[\"attributes\",\"geometry\"])],u.prototype,\"readFeature\",null),r([a(\"feature\")],u.prototype,\"writeFeature\",null),r([o({type:Number,json:{write:!0}})],u.prototype,\"layerId\",void 0),r([o({type:String,json:{write:!0}})],u.prototype,\"layerName\",void 0),u=r([p(\"esri.rest.support.IdentifyResult\")],u);const m=u;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e?.[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{isSome as s}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import{makeHandle as a}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{getOrCreateMapValue as n}from\"../../../core/MapUtils.js\";import{debounce as l}from\"../../../core/promiseUtils.js\";import{on as p}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as c}from\"../../../core/unitUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import y from\"../../../geometry/Extent.js\";import{getResolutionForScale as m}from\"../../../geometry/support/scaleUtils.js\";import{collectFields as f}from\"../../../layers/support/fieldUtils.js\";import{getLayerFloorFilterClause as d}from\"../../../layers/support/floorFilterUtils.js\";import{calculateTolerance as g}from\"../../../renderers/support/clickToleranceUtils.js\";import{identify as w}from\"../../../rest/identify.js\";import b from\"../../../rest/support/IdentifyParameters.js\";import{loadArcade as v}from\"../../../support/arcadeOnDemand.js\";import j from\"../../../symbols/SimpleMarkerSymbol.js\";import{getRequiredFields as x,getFetchPopupTemplate as F}from\"./popupUtils.js\";let P=null;function S(e,t){return\"tile\"===t.type||\"map-image\"===t.type}let G=class extends r{constructor(e){super(e),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=l((async e=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch((()=>{})))}))}initialize(){const e=e=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)};this.addHandles([p((()=>this.highlightGraphics),\"change\",(t=>e(t.added)),{onListenerAdd:t=>e(t)})])}async fetchPopupFeatures(e,t){const{layerView:{layer:r,view:{scale:s}}}=this;if(!e)throw new o(\"fetchPopupFeatures:invalid-area\",\"Nothing to fetch without area\",{layer:r});const i=U(r.sublayers,s,t);if(!i.length)return[];const a=await R(r,i);if(!((r.capabilities?.operations?.supportsIdentify??!0)&&r.version>=10.5)&&!a)throw new o(\"fetchPopupFeatures:not-supported\",\"query operation is disabled for this service\",{layer:r});return a?this._fetchPopupFeaturesUsingQueries(e,i,t):this._fetchPopupFeaturesUsingIdentify(e,i,t)}clearHighlights(){this.highlightGraphics?.removeAll()}highlight(e){const r=this.highlightGraphics;if(!r)return a();let o=null;if(e instanceof t?o=[e]:i.isCollection(e)&&e.length>0?o=e.toArray():Array.isArray(e)&&e.length>0&&(o=e),o=o?.filter(s),!o?.length)return a();for(const t of o){const e=t.sourceLayer;null!=e&&\"geometryType\"in e&&\"point\"===e.geometryType&&(t.visible=!1)}return r.addMany(o),a((()=>r.removeMany(o??[])))}async _updateHighlightedFeaturesSymbols(e){const{layerView:{view:t},highlightGraphics:r,highlightGraphicUpdated:s}=this;if(r&&s)for(const i of e){const e=i.sourceLayer&&\"renderer\"in i.sourceLayer&&i.sourceLayer.renderer;i.sourceLayer&&\"geometryType\"in i.sourceLayer&&\"point\"===i.sourceLayer.geometryType&&e&&\"getSymbolAsync\"in e&&e.getSymbolAsync(i).then((async o=>{o||=new j;let a=null;const n=\"visualVariables\"in e?e.visualVariables?.find((e=>\"size\"===e.type)):void 0;n&&(P||(P=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSize),a=P(n,i,{view:t.type,scale:t.scale,shape:\"simple-marker\"===o.type?o.style:null})),a||=\"width\"in o&&\"height\"in o&&null!=o.width&&null!=o.height?Math.max(o.width,o.height):\"size\"in o?o.size:16,r.includes(i)&&(i.symbol=new j({style:\"square\",size:a,xoffset:\"xoffset\"in o?o.xoffset:0,yoffset:\"yoffset\"in o?o.yoffset:0}),s(i,\"symbol\"),i.visible=!0)}))}}async _updateHighlightedFeaturesGeometries(e){const{layerView:{layer:t,view:r},highlightGraphics:s,highlightGraphicUpdated:i}=this;if(this._highlightGeometriesResolution=e,!i||!s?.length||!t.capabilities.operations.supportsQuery)return;const o=this._getTargetResolution(e),a=new Map;for(const c of s)if(!this._featuresResolutions.has(c)||this._featuresResolutions.get(c)>o){const e=c.sourceLayer;n(a,e,(()=>new Map)).set(c.getObjectId(),c)}const l=Array.from(a,(([e,t])=>{const s=e.createQuery();return s.objectIds=[...t.keys()],s.outFields=[e.objectIdField],s.returnGeometry=!0,s.maxAllowableOffset=o,s.outSpatialReference=r.spatialReference,e.queryFeatures(s)})),p=await Promise.all(l);if(!this.destroyed)for(const{features:n}of p)for(const e of n){const t=e.sourceLayer,r=a.get(t).get(e.getObjectId());r&&s.includes(r)&&(r.geometry=e.geometry,i(r,\"geometry\"),this._featuresResolutions.set(r,o))}}_getTargetResolution(e){const t=e*c(this.layerView.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t,r){const s=await this._createIdentifyParameters(e,t,r);if(null==s)return[];const{results:i}=await w(this.layerView.layer.parsedUrl,s);return i.map((e=>e.feature))}async _createIdentifyParameters(e,t,r){const{floors:s,layer:i,timeExtent:o,view:{spatialReference:a,scale:n}}=this.layerView,l=null!=r?r.event:null;if(!t.length)return null;await Promise.all(t.map((({sublayer:e})=>e.load().catch((()=>{})))));const p=Math.min(has(\"mapservice-popup-identify-max-tolerance\"),i.allSublayers.reduce(((e,t)=>t.renderer?g({renderer:t.renderer,event:l}):e),2)),c=this.createFetchPopupFeaturesQueryGeometry(e,p),u=m(n,a),h=Math.round(c.width/u),f=new y({xmin:c.center.x-u*h,ymin:c.center.y-u*h,xmax:c.center.x+u*h,ymax:c.center.y+u*h,spatialReference:c.spatialReference});return new b({floors:s,gdbVersion:\"gdbVersion\"in i?i.gdbVersion:void 0,geometry:e,height:h,layerOption:\"popup\",mapExtent:f,returnGeometry:!0,spatialReference:a,sublayers:i.sublayers,timeExtent:o,tolerance:p,width:h})}async _fetchPopupFeaturesUsingQueries(e,t,r){const{layerView:{floors:i,timeExtent:o}}=this,a=null!=r?r.event:null,n=t.map((async({sublayer:t,popupTemplate:r})=>{if(await t.load().catch((()=>{})),t.capabilities&&!t.capabilities.operations.supportsQuery)return[];const s=t.createQuery(),n=g({renderer:t.renderer,event:a}),l=this.createFetchPopupFeaturesQueryGeometry(e,n),p=new Set,[c]=await Promise.all([x(t,r),t.renderer?.collectRequiredFields(p,t.fieldsIndex)]);f(p,t.fieldsIndex,c);const u=Array.from(p).sort();if(s.geometry=l,s.outFields=u,s.timeExtent=o,i){const e=i.clone(),r=d(e,t);null!=r&&(s.where=s.where?`(${s.where}) AND (${r})`:r)}const h=this._getTargetResolution(l.width/n),y=await _(r),m=\"point\"===t.geometryType||y&&y.arcadeUtils.hasGeometryOperations(r);m||(s.maxAllowableOffset=h);let{features:w}=await t.queryFeatures(s);const b=m?0:h;w=await A(t,w);for(const e of w)this._featuresResolutions.set(e,b);return w}));return(await Promise.allSettled(n)).reduce(((e,t)=>\"fulfilled\"===t.status?[...e,...t.value]:e),[]).filter(s)}};function U(e,t,r){const s=[];if(!e)return s;const i=e=>{const o=0===e.minScale||t<=e.minScale,a=0===e.maxScale||t>=e.maxScale;if(e.visible&&o&&a)if(e.sublayers)e.sublayers.forEach(i);else if(e.popupEnabled){const t=F(e,{...r,defaultPopupTemplateEnabled:!1});null!=t&&s.unshift({sublayer:e,popupTemplate:t})}};return e.map(i),s}function _(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?v():Promise.resolve()}async function R(e,t){if(e.capabilities?.operations?.supportsQuery)return!0;try{return await Promise.any(t.map((({sublayer:e})=>e.load().then((()=>e.capabilities.operations.supportsQuery)))))}catch{return!1}}async function A(e,t){const r=e.renderer;return r&&\"defaultSymbol\"in r&&!r.defaultSymbol&&(t=r.valueExpression?await Promise.all(t.map((e=>r.getSymbolAsync(e).then((t=>t?e:null))))).then((e=>e.filter((e=>null!=e)))):t.filter((e=>null!=r.getSymbol(e)))),t}e([u({constructOnly:!0})],G.prototype,\"createFetchPopupFeaturesQueryGeometry\",void 0),e([u({constructOnly:!0})],G.prototype,\"layerView\",void 0),e([u({constructOnly:!0})],G.prototype,\"highlightGraphics\",void 0),e([u({constructOnly:!0})],G.prototype,\"highlightGraphicUpdated\",void 0),e([u({constructOnly:!0})],G.prototype,\"updatingHandles\",void 0),G=e([h(\"esri.views.layers.support.MapService\")],G);export{G as MapServiceLayerViewHelper,U as collectPopupProviders,S as isMapServiceLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n"],"names":["n","e","t","i","length","value","size","s","v","constructor","this","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","l","getSizeVVFieldStops","_t$levels$e","_vvSizeFieldStops","type","levels","o","parseFloat","a","Math","abs","sizes","values","r","vvMaterialParameters","update","_vvInfo","_updateVisualVariables","vvRanges","setInfo","_updateEffects","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","maxSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","u","color","colors","c","opacity","opacities","h","rotation","super","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","destroy","children","forEach","removeAllChildren","clear","setRendererInfo","requestRender","getMaterialItems","push","items","abortOptions","resolver","promise","doRender","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","state","createRenderParams","rendererInfo","_ref","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","id","mosaicItem","resolve","key","level","row","col","_tileInfoView","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","has","stencilRef","PI","b","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","x","y","_getBounds","dispose","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","m","LINES","d","UNSIGNED_INT","_createTransforms","dvs","programCache","acquire","attributes","displayMat3","_","viewpoint","p","g","targetGeometry","B","M","j","A","f","Uint32Array","setData","buffer","createVertex","DYNAMIC_DRAW","createIndex","bufferLayouts","geometry","location","count","FLOAT","checkHighlight","_boundsRenderer","enableRenderingBounds","hasHighlight","onTileData","patch","contains","addChild","onTileError","_renderChildren","isReady","hasData","setStencilFunction","EQUAL","getDisplayList","replay","some","bindTextures","effects","highlight","bind","COLOR_BUFFER_BIT","defines","concat","draw","unbind","initialize","addHandles","layer","doRefresh","dataChanged","catch","getLogger","error","prototype","_o$find","mapExtent","floors","width","sublayers","layerIds","layerOption","gdbVersion","find","serviceSublayers","extent","minScale","maxScale","visible","includes","popupTemplate","popupEnabled","unshift","toExportImageJSON","dynamicLayers","JSON","stringify","_ref2","filter","definitionExpression","floorInfo","Object","keys","layerDefs","from","dpi","geometryPrecision","height","maxAllowableOffset","returnFieldName","returnGeometry","returnM","returnUnformattedValues","returnZ","timeExtent","tolerance","Number","json","write","String","types","read","Boolean","displayFieldName","feature","layerId","layerName","readFeature","fromJSON","writeFeature","toJSON","geometryType","async","path","E","O","S","N","$","I","imageDisplay","R","sr","time","start","end","join","xmin","ymin","xmax","ymax","layers","query","Map","results","sourceLayer","get","data","exceededTransferLimit","P","G","_featuresResolutions","WeakMap","highlightGraphics","highlightGraphicUpdated","updateHighlightedFeatures","destroyed","updatingHandles","addPromise","_updateHighlightedFeaturesGeometries","_updateHighlightedFeaturesSymbols","_highlightGeometriesResolution","added","onListenerAdd","fetchPopupFeatures","_r$capabilities$opera","_r$capabilities","layerView","view","F","defaultPopupTemplateEnabled","sublayer","U","_e$capabilities","operations","supportsQuery","any","_ref4","load","supportsIdentify","version","_fetchPopupFeaturesUsingQueries","_fetchPopupFeaturesUsingIdentify","clearHighlights","_this$highlightGraphi","removeAll","_o","_o2","isCollection","toArray","Array","isArray","addMany","_o3","removeMany","renderer","getSymbolAsync","_e$visualVariables","visualVariables","getSize","shape","style","max","xoffset","yoffset","_getTargetResolution","getObjectId","createQuery","objectIds","outFields","objectIdField","outSpatialReference","queryFeatures","features","_createIdentifyParameters","w","parsedUrl","event","min","allSublayers","reduce","createFetchPopupFeaturesQueryGeometry","round","center","_t$renderer","_ref3","Set","collectRequiredFields","fieldsIndex","sort","clone","where","_e$expressionInfos","expressionInfos","content","arcadeUtils","hasGeometryOperations","defaultSymbol","valueExpression","getSymbol","allSettled","status","constructOnly","_n$fieldsIndex","_n$fieldsIndex2","arguments","undefined","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","_n$fieldsIndex3","keyField","defaultPopupTemplate"],"sourceRoot":""}