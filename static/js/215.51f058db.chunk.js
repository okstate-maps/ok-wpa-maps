(this["webpackJsonpok-wpa-maps"]=this["webpackJsonpok-wpa-maps"]||[]).push([[215],{1084:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return ee}));var r=i(4),a=i.n(r),s=i(9),n=i(10),o=i(23),c=i(13),h=i(3),l=i(5),p=i(6),v=i(2),d=i(0),u=(i(76),i(80)),y=i(31),f=i(18),m=i(67),b=i(68),_=i(11),g=i(7),x=i(21),O=i(25),k=i(1),j=(i(12),i(15),i(8)),G=i(177),V=i(325),w=i(127),M=i(980),S=i(761),I=i(1009),E=i(390),C=i(858),R=i(75),H=i(78),A=i(752),T=i(725),F=i(101),D=i(47),z=function e(t,i,r){Object(v.a)(this,e),this.graphic=t,this.mover=i,this.selected=r,this.type="reshape-start"},U=function e(t,i,r){Object(v.a)(this,e),this.graphic=t,this.mover=i,this.selected=r,this.type="reshape"},L=function e(t,i,r){Object(v.a)(this,e),this.graphic=t,this.mover=i,this.selected=r,this.type="reshape-stop"},P=function e(t,i,r){Object(v.a)(this,e),this.mover=t,this.dx=i,this.dy=r,this.type="move-start"},J=function e(t,i,r){Object(v.a)(this,e),this.mover=t,this.dx=i,this.dy=r,this.type="move"},K=function e(t,i,r){Object(v.a)(this,e),this.mover=t,this.dx=i,this.dy=r,this.type="move-stop"},N=function e(t){Object(v.a)(this,e),this.added=t,this.type="vertex-select"},q=function e(t){Object(v.a)(this,e),this.removed=t,this.type="vertex-deselect"},B=function e(t,i,r,a){Object(v.a)(this,e),this.added=t,this.graphic=i,this.oldGraphic=r,this.vertices=a,this.type="vertex-add"},Q=function e(t,i,r,a){Object(v.a)(this,e),this.removed=t,this.graphic=i,this.oldGraphic=r,this.vertices=a,this.type="vertex-remove"},W=C.b.reshapeGraphics,X={vertices:{default:new w.default({style:"circle",size:W.vertex.size,color:W.vertex.color,outline:{color:W.vertex.outlineColor,width:1}}),hover:new w.default({style:"circle",size:W.vertex.hoverSize,color:W.vertex.hoverColor,outline:{color:W.vertex.hoverOutlineColor,width:1}}),selected:new w.default({style:"circle",size:W.selected.size,color:W.selected.color,outline:{color:W.selected.outlineColor,width:1}})},midpoints:{default:new w.default({style:"circle",size:W.midpoint.size,color:W.midpoint.color,outline:{color:W.midpoint.outlineColor,width:1}}),hover:new w.default({style:"circle",size:W.midpoint.size,color:W.midpoint.color,outline:{color:W.midpoint.outlineColor,width:1}})}},Y="esri.views.draw.support.Reshape",Z=_.a.getLogger(Y),$=function(e){Object(l.a)(i,e);var t=Object(p.a)(i);function i(e){var r;return Object(v.a)(this,i),(r=t.call(this,e))._activeOperationInfo=null,r._editGeometryOperations=null,r._handles=new b.a,r._graphicAttributes={esriSketchTool:"box"},r._mover=null,r._snappingTask=null,r._stagedVertex=null,r._viewHandles=new b.a,r.callbacks={onReshapeStart:function(){},onReshape:function(){},onReshapeStop:function(){},onMoveStart:function(){},onMove:function(){},onMoveStop:function(){},onGraphicClick:function(){}},r.enableMidpoints=!0,r.enableMovement=!0,r.enableVertices=!0,r.graphic=null,r.vertexGraphics=new y.a,r.layer=null,r.midpointGraphics=new y.a,r.midpointSymbol=new w.default({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),r.selectedVertices=[],r.snappingManager=null,r.type="reshape",r.view=null,r}return Object(h.a)(i,[{key:"initialize",value:function(){var e=this;this._setup(),this._handles.add([Object(O.j)(this,"view.ready",(function(){var t=e.layer,i=e.view;Object(E.a)(i,t),e._viewHandles.add([i.on("key-down",(function(t){return e._keyDownHandler(t)}),R.b.TOOL)])})),Object(O.c)(this,"graphic",(function(){return e.refresh()})),Object(O.c)(this,"layer",(function(t,i){i&&(e._clearSelection(),e._resetGraphics(i)),e.refresh()})),Object(O.c)(this,"enableMidpoints",(function(){e.refresh()}))])}},{key:"destroy",value:function(){var e;this._reset(),null==(e=this._mover)||e.destroy(),this._mover=null,this._handles=Object(g.e)(this._handles),this._viewHandles=Object(g.e)(this._viewHandles)}},{key:"state",get:function(){var e=!!this.get("view.ready"),t=!(!this.get("graphic")||!this.get("layer"));return e&&t?"active":e?"ready":"disabled"}},{key:"symbols",set:function(e){var t=e||{},i=t.midpoints,r=void 0===i?X.midpoints:i,a=t.vertices,s=void 0===a?X.vertices:a;this._set("symbols",{midpoints:r,vertices:s})}},{key:"isUIGraphic",value:function(e){var t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length&&t.includes(e)}},{key:"refresh",value:function(){this._reset(),this._setup()}},{key:"reset",value:function(){this.graphic=null}},{key:"clearSelection",value:function(){this._clearSelection()}},{key:"removeSelectedVertices",value:function(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}},{key:"_setup",value:function(){var e=this.graphic;if(this.layer&&e&&!Object(g.j)(e.geometry)){var t=e.geometry;"mesh"!==t.type&&"extent"!==t.type?(this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}}},{key:"_setUpGeometryHelper",value:function(){var e=this.graphic.geometry;if(Object(g.j)(e)||"mesh"===e.type||"extent"===e.type)this._logGeometryTypeError();else{var t="multipoint"===e.type?new F.a({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=A.a.fromGeometry(t,2)}}},{key:"_saveSnappingContextForHandle",value:function(e,t){var i;this._snappingGraphicsLayer=new V.a({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new T.a({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:(null==(i=t.viewEvent)?void 0:i.pointerType)||"mouse",excludeFeature:this.graphic,visualizer:new M.a(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}},{key:"_reset",value:function(){this._clearSelection(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}},{key:"_resetSnappingStateVars",value:function(){Object(g.k)(this.snappingManager)&&this.snappingManager.doneSnapping(),Object(g.k)(this._snappingGraphicsLayer)&&(this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=Object(g.e)(this._editGeometryOperations),this._snappingTask=Object(g.a)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}},{key:"_resetGraphics",value:function(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set("selectedVertices",[])}},{key:"_removeMidpointGraphics",value:function(e){var t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((function(e){return e.destroy()})),this.midpointGraphics.removeAll()}},{key:"_removeVertexGraphics",value:function(e){var t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((function(e){return e.destroy()})),this.vertexGraphics.removeAll()}},{key:"_getCoordinatesForUI",value:function(e){var t=Object(G.b)(e.clone());if("polygon"===e.type){var i,r=Object(c.a)(t);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=a[a.length-1];a[0][0]===s[0]&&a[0][1]===s[1]&&a.length>2&&a.pop()}}catch(n){r.e(n)}finally{r.f()}}return t}},{key:"_setupGraphics",value:function(){var e=this.graphic.geometry;if(Object(g.k)(e)&&("polyline"===e.type||"polygon"===e.type)){var t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}},{key:"_setUpMidpointGraphics",value:function(e){this._removeMidpointGraphics();var t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}},{key:"_setUpVertexGraphics",value:function(e){this._removeVertexGraphics();var t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}},{key:"_createVertexGraphics",value:function(e){var t=this._graphicAttributes,i=this.symbols,r=this.view.spatialReference,a=[];return null==e||e.forEach((function(e,s){e.forEach((function(e,c){var h,l=Object(o.a)(e,2),p=l[0],v=l[1];a.push(new u.a({geometry:new D.a({x:p,y:v,spatialReference:r}),symbol:null==i||null==(h=i.vertices)?void 0:h.default,attributes:Object(n.a)(Object(n.a)({},t),{},{pathIndex:s,pointIndex:c})}))}))})),a}},{key:"_createMidpointGraphics",value:function(e){var t=this,i=this._graphicAttributes,r=this.symbols,a=this.view.spatialReference,s=[];return null==e||e.forEach((function(e,c){e.forEach((function(h,l){var p=Object(o.a)(h,2),v=p[0],d=p[1],y=e[l+1]?l+1:0;if("polygon"===Object(g.i)(t.graphic.geometry,"type")||0!==y){var f=Object(o.a)(e[y],2),m=f[0],b=f[1],_=Object(G.d)([v,d],[m,b]),x=Object(o.a)(_,2),O=x[0],k=x[1];s.push(new u.a({geometry:new D.a({x:O,y:k,spatialReference:a}),symbol:r.midpoints.default,attributes:Object(n.a)(Object(n.a)({},i),{},{pathIndex:c,pointIndexStart:l,pointIndexEnd:y})}))}}))})),s}},{key:"_storeRelatedVertexIndices",value:function(){var e=this.vertexGraphics.items;if(e)for(var t=e.map((function(e){var t=e.geometry;return{x:t.x,y:t.y}})),i=0;i<t.length;i++){for(var r=[],a=0;a<t.length;a++)if(i!==a){var s=t[i],n=t[a];s.x===n.x&&s.y===n.y&&r.push(a)}e[i].attributes.relatedGraphicIndices=r}}},{key:"_setupMover",value:function(){var e=this,t=this.enableMovement,i=this.graphic,r=this.midpointGraphics,a=this.vertexGraphics,s=this.view,n=Object(g.i)(i.geometry,"type"),o="point"===n||"multipoint"===n,c=a.concat(r).items;t&&c.push(i),this._mover=new I.default({enableMoveAllGraphics:!1,indicatorsEnabled:o,graphics:c,view:s,callbacks:{onGraphicClick:function(t){return e._onGraphicClickCallback(t)},onGraphicMoveStart:function(t){return e._onGraphicMoveStartCallback(t)},onGraphicMove:function(t){return e._onGraphicMoveCallback(t)},onGraphicMoveStop:function(t){return e._onGraphicMoveStopCallback(t)},onGraphicPointerOver:function(t){return e._onGraphicPointerOverCallback(t)},onGraphicPointerOut:function(t){return e._onGraphicPointerOutCallback(t)}}})}},{key:"_onGraphicClickCallback",value:function(e){e.viewEvent.stopPropagation();var t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;var i=this.graphic.clone(),r=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,r)}else this._isVertex(t)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(t):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)))}},{key:"_setUpOperation",value:function(e){var t=e.graphic,i=e.dx,r=e.dy,a=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:a?"move":"reshape",totalDx:i,totalDy:r}}},{key:"_onGraphicMoveStartCallback",value:function(e){var t=this,i=e.graphic,r=e.dx,a=e.dy;if(i===this.graphic)return this._clearSelection(),this._resetGraphics(),this._setUpOperation(e),this._emitMoveStartEvent(r,a),void("point"===this._editGeometryOperations.data.type&&this._onHandleMove(i,r,a,e,(function(){return t._emitMoveEvent(r,a)})));if(!this.selectedVertices.includes(i)){if(this._clearSelection(),this._isMidpoint(i)){var s=this.graphic.clone(),n=this._createVertexFromMidpoint(i);this._emitVertexAddEvent([i],s,n)}this._addToSelection(i)}this._setUpOperation(e),this._emitReshapeStartEvent(i),this._onHandleMove(i,r,a,e,(function(){return t._emitReshapeEvent(i)}))}},{key:"_onGraphicMoveCallback",value:function(e){var t=this,i=e.graphic,r=e.dx,a=e.dy;this._activeOperationInfo.totalDx+=r,this._activeOperationInfo.totalDy+=a,"move"===this._activeOperationInfo.operationType?"point"===this._editGeometryOperations.data.type?this._onHandleMove(i,r,a,e,(function(){return t._emitMoveEvent(r,a)})):this._emitMoveEvent(r,a):this._onHandleMove(i,r,a,e,(function(){return t._emitReshapeEvent(i)}))}},{key:"_onGraphicMoveStopCallback",value:function(e){var t=this,i=e.graphic,r=e.dx,a=e.dy;this._activeOperationInfo.totalDx+=r,this._activeOperationInfo.totalDy+=a,i===this.graphic?(this._emitMoveStopEvent(),this.refresh()):(this._onHandleMove(i,r,a,e,(function(){return t._emitReshapeStopEvent(i)})),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._isMidpoint(i)&&this.refresh())}},{key:"_updateMidpointGraphicLocations",value:function(e){var t,i=Object(c.a)(this.midpointGraphics);try{for(i.s();!(t=i.n()).done;){var r=t.value,a=r.attributes,s=a.pathIndex,n=a.pointIndexStart,h=a.pointIndexEnd,l=Object(o.a)(e[s][n],2),p=l[0],v=l[1],d=Object(o.a)(e[s][h],2),u=d[0],y=d[1],f=Object(G.d)([p,v],[u,y]),m=Object(o.a)(f,2),b=m[0],_=m[1];r.geometry=new D.a({x:b,y:_,spatialReference:this.view.spatialReference})}}catch(g){i.e(g)}finally{i.f()}}},{key:"_getIndicesForVertexGraphic",value:function(e){var t=e.attributes;return[(null==t?void 0:t.pathIndex)||0,(null==t?void 0:t.pointIndex)||0]}},{key:"_getVertexFromEditGeometry",value:function(e){var t=this._getIndicesForVertexGraphic(e),i=Object(o.a)(t,2),r=i[0],a=i[1];return this._editGeometryOperations.data.components[r].vertices[a]}},{key:"_onHandleMove",value:function(e,t,i,r,n){var o=this;if(Object(g.a)(this._snappingTask),this._snappingContext){var c=this.view.toMap({x:r.x,y:r.y}),h="graphic-move-stop"===r.type;if(Object(g.k)(this.snappingManager)&&this.selectedVertices.length<2&&!h){var l=this.snappingManager;this._stagedVertex=l.update(c,this._snappingContext),this._syncGeometryAfterVertexMove(e,new D.a(this._stagedVertex),t,i,h),n(),this._snappingTask=Object(x.h)(function(){var r=Object(s.a)(a.a.mark((function r(s){var p;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.snap(c,o._snappingContext,s);case 2:(p=r.sent).valid&&(o._stagedVertex=p.apply(),o._syncGeometryAfterVertexMove(e,new D.a(o._stagedVertex),t,i,h),n());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}else{var p=Object(g.k)(this._stagedVertex)?new D.a(this._stagedVertex):c;this._syncGeometryAfterVertexMove(e,p,t,i,h),n()}}}},{key:"_syncGeometryAfterVertexMove",value:function(){var e=Object(s.a)(a.a.mark((function e(t,i,r,s){var n,c,h,l,p,v,d,u,y,f,m,b,_,g=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.length>4&&void 0!==g[4]&&g[4],"point"===(c=this._editGeometryOperations.data.geometry).type?t.geometry=i:(h=i.x,l=i.y,p=this._getIndicesForVertexGraphic(t),v=Object(o.a)(p,2),d=v[0],u=v[1],y=Object(G.b)(c),f=y[d].length-1,y[d][u]=[h,l],"polygon"===c.type&&(0===u?y[d][f]=[h,l]:u===f&&(y[d][0]=[h,l])),this._isVertex(t)&&(y=this._moveRelatedCoordinates(y,t,h,l),y=this._moveSelectedHandleCoordinates(y,t,r,s,"polygon"===c.type),this._updateMidpointGraphicLocations(y)),this.graphic.geometry=c.clone(),m=this._getVertexFromEditGeometry(t),b=h-m.pos[0],_=l-m.pos[1],this._editGeometryOperations.moveVertices([m],b,_,0),n&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(t),i):t.geometry=i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,i,r,a){return e.apply(this,arguments)}}()},{key:"_moveRelatedCoordinates",value:function(e,t,i,r){var a,s=t.attributes.relatedGraphicIndices,n=Object(c.a)(s);try{for(n.s();!(a=n.n()).done;){var o=a.value,h=this.vertexGraphics.getItemAt(o),l=h.attributes,p=l.pathIndex,v=l.pointIndex;e[p][v]=[i,r],h.geometry=t.geometry}}catch(d){n.e(d)}finally{n.f()}return e}},{key:"_moveSelectedHandleCoordinates",value:function(e,t,i,r,a){var s,n=Object(c.a)(this.selectedVertices);try{for(n.s();!(s=n.n()).done;){var o=s.value;if(o!==t){var h=o.attributes,l=h.pathIndex,p=h.pointIndex,v=h.relatedGraphicIndices,d=Object(S.a)(o.geometry,i,r,this.view),u=e[l].length-1;e[l][p]=[d.x,d.y],o.geometry=d,a&&(0===p?e[l][u]=[d.x,d.y]:p===u&&(e[l][0]=[d.x,d.y]));var y,f=Object(c.a)(v);try{for(f.s();!(y=f.n()).done;){var m=y.value,b=this.vertexGraphics.getItemAt(m),_=b.attributes,g=_.pathIndex,x=_.pointIndex;e[g][x]=[d.x,d.y],b.geometry=d}}catch(O){f.e(O)}finally{f.f()}}}}catch(O){n.e(O)}finally{n.f()}return e}},{key:"_onGraphicPointerOverCallback",value:function(e){var t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}},{key:"_onGraphicPointerOutCallback",value:function(e){var t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default"}},{key:"_createVertexFromMidpoint",value:function(e){var t=this._graphicAttributes,i=this.graphic.geometry;if(Object(g.j)(i)||"polygon"!==i.type&&"polyline"!==i.type)return[];var r=i.clone(),a=[],s=e.attributes,o=s.pathIndex,c=s.pointIndexStart,h=s.pointIndexEnd,l=e.geometry,p=l.x,v=l.y,d=0===h?c+1:h,u=Object(G.b)(r);return u[o].splice(d,0,[p,v]),e.attributes=Object(n.a)(Object(n.a)({},t),{},{pathIndex:o,pointIndex:d,relatedGraphicIndices:[]}),a.push({coordinates:u[o][d],componentIndex:o,vertexIndex:d}),this.graphic.geometry=r,a}},{key:"_addToSelection",value:function(e){e instanceof u.a&&(e=[e]);var t,i=Object(c.a)(e);try{for(i.s();!(t=i.n()).done;){t.value.symbol=this.symbols.vertices.selected}}catch(r){i.e(r)}finally{i.f()}this._set("selectedVertices",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}},{key:"_removeFromSelection",value:function(e,t){var i=this.symbols.vertices,r=t?i.hover:i.default;e instanceof u.a&&(e=[e]);var a,s=Object(c.a)(e);try{for(s.s();!(a=s.n()).done;){var n=a.value;this.selectedVertices.splice(this.selectedVertices.indexOf(n),1),this._set("selectedVertices",this.selectedVertices),n.set("symbol",r)}}catch(o){s.e(o)}finally{s.f()}this._emitDeselectEvent(e)}},{key:"_clearSelection",value:function(){if(this.selectedVertices.length){var e,t=this.selectedVertices,i=Object(c.a)(this.selectedVertices);try{for(i.s();!(e=i.n()).done;){e.value.set("symbol",this.symbols.vertices.default)}}catch(r){i.e(r)}finally{i.f()}this._set("selectedVertices",[]),this._emitDeselectEvent(t)}}},{key:"_keyDownHandler",value:function(e){H.a.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}},{key:"_removeVertices",value:function(e){var t=this.graphic.geometry;if(!(Object(g.j)(t)||"polygon"!==t.type&&"polyline"!==t.type)&&!("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)){e instanceof u.a&&(e=[e]);var i=this.graphic.clone(),r=t.clone(),a=Object(G.b)(r),s=[];e instanceof u.a&&(e=[e]);var n,h=Object(c.a)(e);try{for(h.s();!(n=h.n()).done;)for(var l=n.value.geometry,p=l.x,v=l.y,d=0;d<a.length;d++)for(var y=a[d],f=0;f<y.length;f++){var m=Object(o.a)(y[f],2),b=m[0],_=m[1];p===b&&v===_&&(s.push({coordinates:a[d][f],componentIndex:d,vertexIndex:f}),a[d].splice(Number(f),1))}}catch(j){h.e(j)}finally{h.f()}if("polygon"===r.type)a=a.filter((function(e){if(e.length<2)return!1;var t=Object(o.a)(e[0],2),i=t[0],r=t[1],a=Object(o.a)(e[e.length-1],2),s=a[0],n=a[1];return(2!==e.length||i!==s||r!==n)&&(i===s&&r===n||e.push(e[0]),!0)})),r.rings=a;else{var x,O=Object(c.a)(a);try{for(O.s();!(x=O.n()).done;){var k=x.value;1===k.length&&a.splice(a.indexOf(k),1)}}catch(j){O.e(j)}finally{O.f()}r.paths=a}this.graphic.geometry=r,this.refresh(),this._emitVertexRemoveEvent(e,i,s)}}},{key:"_isVertex",value:function(e){return this.vertexGraphics.includes(e)}},{key:"_isSelected",value:function(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}},{key:"_isMidpoint",value:function(e){return this.midpointGraphics.includes(e)}},{key:"_updateHoverCursor",value:function(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}},{key:"_emitMoveStartEvent",value:function(e,t){var i=new P(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}},{key:"_emitMoveEvent",value:function(e,t){var i=new J(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}},{key:"_emitMoveStopEvent",value:function(){var e=this._activeOperationInfo,t=e.totalDx,i=e.totalDy,r=new K(this.graphic,t,i);this.emit("move-stop",r),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(r)}},{key:"_emitReshapeStartEvent",value:function(e){var t=new z(this.graphic,e,this.selectedVertices);this.emit("reshape-start",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}},{key:"_emitReshapeEvent",value:function(e){var t=new U(this.graphic,e,this.selectedVertices);this.emit("reshape",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}},{key:"_emitReshapeStopEvent",value:function(e){var t=new L(this.graphic,e,this.selectedVertices);this.emit("reshape-stop",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}},{key:"_emitSelectEvent",value:function(e){var t=new N(e);this.emit("select",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}},{key:"_emitDeselectEvent",value:function(e){var t=new q(e);this.emit("deselect",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}},{key:"_emitVertexAddEvent",value:function(e,t,i){var r=new B(e,this.graphic,t,i);this.emit("vertex-add",r),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(r)}},{key:"_emitVertexRemoveEvent",value:function(e,t,i){var r=new Q(e,this.graphic,t,i);this.emit("vertex-remove",r),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(r)}},{key:"_logGeometryTypeError",value:function(){Z.error(new f.a("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}}]),i}(m.a.EventedAccessor);Object(d.a)([Object(k.b)()],$.prototype,"callbacks",void 0),Object(d.a)([Object(k.b)()],$.prototype,"enableMidpoints",void 0),Object(d.a)([Object(k.b)()],$.prototype,"enableMovement",void 0),Object(d.a)([Object(k.b)()],$.prototype,"enableVertices",void 0),Object(d.a)([Object(k.b)()],$.prototype,"graphic",void 0),Object(d.a)([Object(k.b)({readOnly:!0})],$.prototype,"vertexGraphics",void 0),Object(d.a)([Object(k.b)()],$.prototype,"layer",void 0),Object(d.a)([Object(k.b)({readOnly:!0})],$.prototype,"midpointGraphics",void 0),Object(d.a)([Object(k.b)()],$.prototype,"midpointSymbol",void 0),Object(d.a)([Object(k.b)({readOnly:!0})],$.prototype,"selectedVertices",void 0),Object(d.a)([Object(k.b)()],$.prototype,"snappingManager",void 0),Object(d.a)([Object(k.b)({readOnly:!0})],$.prototype,"state",null),Object(d.a)([Object(k.b)({value:X})],$.prototype,"symbols",null),Object(d.a)([Object(k.b)({readOnly:!0})],$.prototype,"type",void 0),Object(d.a)([Object(k.b)()],$.prototype,"view",void 0);var ee=$=Object(d.a)([Object(j.a)(Y)],$)}}]);
//# sourceMappingURL=215.51f058db.chunk.js.map