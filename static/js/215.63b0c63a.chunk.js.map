{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/Reshape.js"],"names":["R","e","t","i","this","graphic","mover","selected","type","j","H","A","dx","dy","T","U","D","added","F","removed","z","s","oldGraphic","vertices","L","P","w","reshapeGraphics","K","default","f","style","size","vertex","color","outline","outlineColor","width","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","N","q","n","getLogger","B","_activeOperationInfo","_editGeometryOperations","_handles","o","_graphicAttributes","esriSketchTool","_mover","_snappingTask","_stagedVertex","_viewHandles","callbacks","onReshapeStart","onReshape","onReshapeStop","onMoveStart","onMove","onMoveStop","onGraphicClick","enableMidpoints","enableMovement","enableVertices","vertexGraphics","layer","midpointGraphics","midpointSymbol","selectedVertices","snappingManager","view","_setup","add","m","M","on","_keyDownHandler","S","TOOL","v","refresh","_clearSelection","_resetGraphics","_reset","destroy","a","get","_set","push","concat","items","length","includes","_removeVertices","h","geometry","_setupGraphics","_setupMover","_logGeometryTypeError","O","paths","points","spatialReference","E","fromGeometry","_snappingGraphicsLayer","x","listMode","internal","title","map","layers","_snappingContext","I","editGeometryOperations","elevationInfo","mode","offset","pointer","viewEvent","pointerType","excludeFeature","visualizer","G","vertexHandle","_getVertexFromEditGeometry","_resetSnappingStateVars","cursor","c","doneSnapping","remove","p","_removeMidpointGraphics","_removeVertexGraphics","removeMany","forEach","removeAll","g","clone","pop","_getCoordinatesForUI","_setUpMidpointGraphics","_setUpVertexGraphics","_createMidpointGraphics","addMany","_createVertexGraphics","_storeRelatedVertexIndices","symbols","r","C","y","symbol","attributes","pathIndex","pointIndex","d","l","u","pointIndexStart","pointIndexEnd","relatedGraphicIndices","V","enableMoveAllGraphics","indicatorsEnabled","graphics","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","stopPropagation","clearSelection","emit","_isMidpoint","button","_createVertexFromMidpoint","_emitVertexAddEvent","_isVertex","native","shiftKey","_removeFromSelection","_addToSelection","_setUpGeometryHelper","_saveSnappingContextForHandle","target","operationType","totalDx","totalDy","_setUpOperation","_emitMoveStartEvent","data","_onHandleMove","_emitMoveEvent","_emitReshapeStartEvent","_emitReshapeEvent","_emitMoveStopEvent","_emitReshapeStopEvent","_getIndicesForVertexGraphic","components","toMap","update","_syncGeometryAfterVertexMove","snap","valid","apply","_moveRelatedCoordinates","_moveSelectedHandleCoordinates","_updateMidpointGraphicLocations","pos","moveVertices","updateGeometry","indexOf","getItemAt","b","_isSelected","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","set","_emitDeselectEvent","k","delete","key","repeat","Number","filter","rings","_emitVertexRemoveEvent","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","error","EventedAccessor","prototype","readOnly","value","J","_"],"mappings":"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","file":"static/js/215.63b0c63a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import r from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,isNone as h,isSome as c,abortMaybe as p,get as l}from\"../../../core/maybe.js\";import{createTask as d}from\"../../../core/promiseUtils.js\";import{whenOnce as m,pausable as v}from\"../../../core/watchUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{geometryToCoordinates as g,getMidpoint as u}from\"../../../geometry/support/coordsUtils.js\";import x from\"../../../layers/GraphicsLayer.js\";import f from\"../../../symbols/SimpleMarkerSymbol.js\";import{SnappingVisualizer2D as G}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{cloneMove as b}from\"./drawUtils.js\";import V from\"./GraphicMover.js\";import{addUniqueLayer as M}from\"./layerUtils.js\";import{settings as w}from\"./settings.js\";import{ViewEventPriorities as S}from\"../../input/InputManager.js\";import{SKETCH_KEYS as k}from\"../../interactive/keybindings.js\";import{EditGeometryOperations as E}from\"../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as I}from\"../../interactive/snapping/SnappingContext.js\";import O from\"../../../geometry/Polyline.js\";import C from\"../../../geometry/Point.js\";class R{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-start\"}}class j{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape\"}}class H{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-stop\"}}class A{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-start\"}}class T{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move\"}}class U{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-stop\"}}class D{constructor(e){this.added=e,this.type=\"vertex-select\"}}class F{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class z{constructor(e,t,i,s){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-add\"}}class L{constructor(e,t,i,s){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-remove\"}}const P=w.reshapeGraphics,K={vertices:{default:new f({style:\"circle\",size:P.vertex.size,color:P.vertex.color,outline:{color:P.vertex.outlineColor,width:1}}),hover:new f({style:\"circle\",size:P.vertex.hoverSize,color:P.vertex.hoverColor,outline:{color:P.vertex.hoverOutlineColor,width:1}}),selected:new f({style:\"circle\",size:P.selected.size,color:P.selected.color,outline:{color:P.selected.outlineColor,width:1}})},midpoints:{default:new f({style:\"circle\",size:P.midpoint.size,color:P.midpoint.color,outline:{color:P.midpoint.outlineColor,width:1}}),hover:new f({style:\"circle\",size:P.midpoint.size,color:P.midpoint.color,outline:{color:P.midpoint.outlineColor,width:1}})}},N=\"esri.views.draw.support.Reshape\",q=n.getLogger(N);let B=class extends r.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._handles=new o,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._snappingTask=null,this._stagedVertex=null,this._viewHandles=new o,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.vertexGraphics=new i,this.layer=null,this.midpointGraphics=new i,this.midpointSymbol=new f({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.type=\"reshape\",this.view=null}initialize(){this._setup(),this._handles.add([m(this,\"view.ready\",(()=>{const{layer:e,view:t}=this;M(t,e),this._viewHandles.add([t.on(\"key-down\",(e=>this._keyDownHandler(e)),S.TOOL)])})),v(this,\"graphic\",(()=>this.refresh())),v(this,\"layer\",((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),v(this,\"enableMidpoints\",(()=>{this.refresh()}))])}destroy(){var e;this._reset(),null==(e=this._mover)||e.destroy(),this._mover=null,this._handles=a(this._handles),this._viewHandles=a(this._viewHandles)}get state(){const e=!!this.get(\"view.ready\"),t=!(!this.get(\"graphic\")||!this.get(\"layer\"));return e&&t?\"active\":e?\"ready\":\"disabled\"}set symbols(e){const{midpoints:t=K.midpoints,vertices:i=K.vertices}=e||{};this._set(\"symbols\",{midpoints:t,vertices:i})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||!e||h(e.geometry))return;const i=e.geometry;\"mesh\"!==i.type&&\"extent\"!==i.type?(this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpGeometryHelper(){const e=this.graphic.geometry;if(h(e)||\"mesh\"===e.type||\"extent\"===e.type)return void this._logGeometryTypeError();const t=\"multipoint\"===e.type?new O({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=E.fromGeometry(t,2)}_saveSnappingContextForHandle(e,t){var i;this._snappingGraphicsLayer=new x({listMode:\"hide\",internal:!0,title:\"Reshape snapping layer\"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:(null==(i=t.viewEvent)?void 0:i.pointerType)||\"mouse\",excludeFeature:this.graphic,visualizer:new G(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetSnappingStateVars(){c(this.snappingManager)&&this.snappingManager.doneSnapping(),c(this._snappingGraphicsLayer)&&(this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=a(this._editGeometryOperations),this._snappingTask=p(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set(\"selectedVertices\",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=g(e.clone());if(\"polygon\"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if(c(e)&&(\"polyline\"===e.type||\"polygon\"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:r}}=this,o=[];return null==e||e.forEach(((e,n)=>{e.forEach(((e,a)=>{var h;const[c,p]=e;o.push(new t({geometry:new C({x:c,y:p,spatialReference:r}),symbol:null==s||null==(h=s.vertices)?void 0:h.default,attributes:{...i,pathIndex:n,pointIndex:a}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:r}}=this,o=[];return null==e||e.forEach(((e,n)=>{e.forEach(((a,h)=>{const[c,p]=a,d=e[h+1]?h+1:0;if(\"polygon\"===l(this.graphic.geometry,\"type\")||0!==d){const[a,l]=e[d],[m,v]=u([c,p],[a,l]);o.push(new t({geometry:new C({x:m,y:v,spatialReference:r}),symbol:s.midpoints.default,attributes:{...i,pathIndex:n,pointIndexStart:h,pointIndexEnd:d}}))}}))})),o}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let i=0;i<t.length;i++){const s=[];for(let e=0;e<t.length;e++){if(i===e)continue;const r=t[i],o=t[e];r.x===o.x&&r.y===o.y&&s.push(e)}e[i].attributes.relatedGraphicIndices=s}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:s,view:r}=this,o=l(t.geometry,\"type\"),n=\"point\"===o||\"multipoint\"===o,a=s.concat(i).items;e&&a.push(t),this._mover=new V({enableMoveAllGraphics:!1,indicatorsEnabled:n,graphics:a,view:r,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),s=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,s)}else if(this._isVertex(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertices(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_setUpOperation(e){const{graphic:t,dx:i,dy:s}=e,r=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:r?\"move\":\"reshape\",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(e){const t=e.graphic,{dx:i,dy:s}=e;if(t===this.graphic)return this._clearSelection(),this._resetGraphics(),this._setUpOperation(e),this._emitMoveStartEvent(i,s),void(\"point\"===this._editGeometryOperations.data.type&&this._onHandleMove(t,i,s,e,(()=>this._emitMoveEvent(i,s))));if(!this.selectedVertices.includes(t)){if(this._clearSelection(),this._isMidpoint(t)){const e=this.graphic.clone(),i=this._createVertexFromMidpoint(t);this._emitVertexAddEvent([t],e,i)}this._addToSelection(t)}this._setUpOperation(e),this._emitReshapeStartEvent(t),this._onHandleMove(t,i,s,e,(()=>this._emitReshapeEvent(t)))}_onGraphicMoveCallback(e){const{graphic:t,dx:i,dy:s}=e;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=s;const{operationType:r}=this._activeOperationInfo;\"move\"===r?\"point\"===this._editGeometryOperations.data.type?this._onHandleMove(t,i,s,e,(()=>this._emitMoveEvent(i,s))):this._emitMoveEvent(i,s):this._onHandleMove(t,i,s,e,(()=>this._emitReshapeEvent(t)))}_onGraphicMoveStopCallback(e){const{graphic:t,dx:i,dy:s}=e;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=s,t===this.graphic?(this._emitMoveStopEvent(),this.refresh()):(this._onHandleMove(t,i,s,e,(()=>this._emitReshapeStopEvent(t))),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._isMidpoint(t)&&this.refresh())}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:s,pointIndexEnd:r}=t.attributes,[o,n]=e[i][s],[a,h]=e[i][r],[c,p]=u([o,n],[a,h]);t.geometry=new C({x:c,y:p,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic({attributes:e}){return[(null==e?void 0:e.pathIndex)||0,(null==e?void 0:e.pointIndex)||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,s,r){if(p(this._snappingTask),!this._snappingContext)return;const o=this.view.toMap({x:s.x,y:s.y}),n=\"graphic-move-stop\"===s.type;if(c(this.snappingManager)&&this.selectedVertices.length<2&&!n){const s=this.snappingManager;this._stagedVertex=s.update(o,this._snappingContext),this._syncGeometryAfterVertexMove(e,new C(this._stagedVertex),t,i,n),r(),this._snappingTask=d((async a=>{const h=await s.snap(o,this._snappingContext,a);h.valid&&(this._stagedVertex=h.apply(),this._syncGeometryAfterVertexMove(e,new C(this._stagedVertex),t,i,n),r())}))}else{const s=c(this._stagedVertex)?new C(this._stagedVertex):o;this._syncGeometryAfterVertexMove(e,s,t,i,n),r()}}async _syncGeometryAfterVertexMove(e,t,i,s,r=!1){const o=this._editGeometryOperations.data.geometry;if(\"point\"===o.type)e.geometry=t;else{const{x:n,y:a}=t,[h,c]=this._getIndicesForVertexGraphic(e);let p=g(o);const l=p[h].length-1;p[h][c]=[n,a],\"polygon\"===o.type&&(0===c?p[h][l]=[n,a]:c===l&&(p[h][0]=[n,a])),this._isVertex(e)&&(p=this._moveRelatedCoordinates(p,e,n,a),p=this._moveSelectedHandleCoordinates(p,e,i,s,\"polygon\"===o.type),this._updateMidpointGraphicLocations(p)),this.graphic.geometry=o.clone();const d=this._getVertexFromEditGeometry(e),m=n-d.pos[0],v=a-d.pos[1];this._editGeometryOperations.moveVertices([d],m,v,0),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i,s){const{relatedGraphicIndices:r}=t.attributes;for(const o of r){const r=this.vertexGraphics.getItemAt(o),{pathIndex:n,pointIndex:a}=r.attributes;e[n][a]=[i,s],r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,s,r){for(const o of this.selectedVertices)if(o!==t){const{pathIndex:t,pointIndex:n,relatedGraphicIndices:a}=o.attributes,h=b(o.geometry,i,s,this.view),c=e[t].length-1;e[t][n]=[h.x,h.y],o.geometry=h,r&&(0===n?e[t][c]=[h.x,h.y]:n===c&&(e[t][0]=[h.x,h.y]));for(const i of a){const t=this.vertexGraphics.getItemAt(i),{pathIndex:s,pointIndex:r}=t.attributes;e[s][r]=[h.x,h.y],t.geometry=h}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\"}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,s=i.geometry;if(h(s)||\"polygon\"!==s.type&&\"polyline\"!==s.type)return[];const r=s.clone(),o=[],{pathIndex:n,pointIndexStart:a,pointIndexEnd:c}=e.attributes,{x:p,y:l}=e.geometry,d=0===c?a+1:c,m=g(r);return m[n].splice(d,0,[p,l]),e.attributes={...t,pathIndex:n,pointIndex:d,relatedGraphicIndices:[]},o.push({coordinates:m[n][d],componentIndex:n,vertexIndex:d}),this.graphic.geometry=r,o}_addToSelection(e){e instanceof t&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedVertices\",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,i){const{vertices:s}=this.symbols,r=i?s.hover:s.default;e instanceof t&&(e=[e]);for(const t of e)this.selectedVertices.splice(this.selectedVertices.indexOf(t),1),this._set(\"selectedVertices\",this.selectedVertices),t.set(\"symbol\",r);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedVertices\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){k.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const i=this.graphic.geometry;if(h(i)||\"polygon\"!==i.type&&\"polyline\"!==i.type)return;if(\"polygon\"===i.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof t&&(e=[e]);const s=this.graphic.clone(),r=i.clone();let o=g(r);const n=[];e instanceof t&&(e=[e]);for(const t of e){const{x:e,y:i}=t.geometry;for(let t=0;t<o.length;t++){const s=o[t];for(let r=0;r<s.length;r++){const[a,h]=s[r];e===a&&i===h&&(n.push({coordinates:o[t][r],componentIndex:t,vertexIndex:r}),o[t].splice(Number(r),1))}}}if(\"polygon\"===r.type)o=o.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[s,r]=e[e.length-1];return(2!==e.length||t!==s||i!==r)&&(t===s&&i===r||e.push(e[0]),!0)})),r.rings=o;else{for(const e of o)1===e.length&&o.splice(o.indexOf(e),1);r.paths=o}this.graphic.geometry=r,this.refresh(),this._emitVertexRemoveEvent(e,s,n)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_emitMoveStartEvent(e,t){const i=new A(this.graphic,e,t);this.emit(\"move-start\",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new T(this.graphic,e,t);this.emit(\"move\",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const{totalDx:e,totalDy:t}=this._activeOperationInfo,i=new U(this.graphic,e,t);this.emit(\"move-stop\",i),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(i)}_emitReshapeStartEvent(e){const t=new R(this.graphic,e,this.selectedVertices);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new j(this.graphic,e,this.selectedVertices);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new H(this.graphic,e,this.selectedVertices);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new D(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new F(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const s=new z(e,this.graphic,t,i);this.emit(\"vertex-add\",s),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(s)}_emitVertexRemoveEvent(e,t,i){const s=new L(e,this.graphic,t,i);this.emit(\"vertex-remove\",s),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(s)}_logGeometryTypeError(){q.error(new s(\"reshape:invalid-geometry\",\"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"))}};e([y()],B.prototype,\"callbacks\",void 0),e([y()],B.prototype,\"enableMidpoints\",void 0),e([y()],B.prototype,\"enableMovement\",void 0),e([y()],B.prototype,\"enableVertices\",void 0),e([y()],B.prototype,\"graphic\",void 0),e([y({readOnly:!0})],B.prototype,\"vertexGraphics\",void 0),e([y()],B.prototype,\"layer\",void 0),e([y({readOnly:!0})],B.prototype,\"midpointGraphics\",void 0),e([y()],B.prototype,\"midpointSymbol\",void 0),e([y({readOnly:!0})],B.prototype,\"selectedVertices\",void 0),e([y()],B.prototype,\"snappingManager\",void 0),e([y({readOnly:!0})],B.prototype,\"state\",null),e([y({value:K})],B.prototype,\"symbols\",null),e([y({readOnly:!0})],B.prototype,\"type\",void 0),e([y()],B.prototype,\"view\",void 0),B=e([_(N)],B);var J=B;export{J as default};\n"],"sourceRoot":""}