"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[44138],{17150:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(6326),r=i(69539),o=i(91967),s=i(46053),a=(i(81806),i(76460),i(47249),i(87990));i(27347);let l=e=>({vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}),c=(e,t,i)=>{for(let n=0,r=t.length;n<r;n++){let r=t[n];Array.isArray(r)?c(e,r,i):null!=r&&!1!==r&&("string"==typeof r&&(r=l(r)),i.push(r))}};i(48396);const d={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let h=class extends o.A{get position(){return[this.x,this.y]}set position(e){this._set("x",e[0]),this._set("y",e[1])}get _textShadowColor(){const{textColor:e,backgroundColor:t}=this,i=t.clone();return i.a*=e.a,i}get _textShadow(){const e=this._textShadowColor.toCss(!0);return"0 0 ".concat(this._textShadowSize,"px ").concat(e)}get padding(){return.5*this.fontSize}get borderRadius(){return this.padding}set borderRadius(e){this._overrideIfSome("borderRadius",e)}constructor(e){super(e),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new r.A([0,0,0,.6]),this.textColor=new r.A([255,255,255]),this._textShadowSize=1}render(){return function(e,t,i){if(Array.isArray(t))i=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let n,r;return i&&1===i.length&&"string"==typeof i[0]?n=i[0]:i&&(r=[],c(e,i,r),0===r.length&&(r=void 0)),{vnodeSelector:e,properties:t,children:r,text:""===n?void 0:n,domNode:null}}("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+"px",borderRadius:this.borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(e){if(!this.visible)return;const t=e.font.replace(/^(.*?)px/,"");e.font="".concat(this.fontSize,"px ").concat(t);const{padding:i,borderRadius:n}=this,r=e.measureText(this.text).width,o=""!==this.text?this.fontSize:0,s=p[this.anchor];e.textAlign="center",e.textBaseline="middle";const a=r+2*i,l=o+2*i,c=this.x+s.x*a,d=this.y+s.y*l;this._roundedRect(e,c,d,a,l,n),e.fillStyle=this.backgroundColor.toCss(!0),e.fill();const h=this.x+(s.x+.5)*a,u=this.y+(s.y+.5)*l;this._renderTextShadow(e,this.text,h,u),e.fillStyle=this.textColor.toCss(!0),e.fillText(this.text,h,u)}_renderTextShadow(e,t,i,n){e.lineJoin="miter",e.fillStyle="rgba(".concat(this._textShadowColor.r,", ").concat(this._textShadowColor.g,", ").concat(this._textShadowColor.b,", ").concat(1/u.length,")");const r=this._textShadowSize;for(const[o,s]of u)e.fillText(t,i+r*o,n+r*s)}_roundedRect(e,t,i,n,r,o){o=Math.min(o,r/2,n/2),e.beginPath(),e.moveTo(t,i+o),e.arcTo(t,i,t+o,i,o),e.lineTo(t+n-o,i),e.arcTo(t+n,i,t+n,i+o,o),e.lineTo(t+n,i+r-o),e.arcTo(t+n,i+r,t+n-o,i+r,o),e.lineTo(t+o,i+r),e.arcTo(t,i+r,t,i+r-o,o),e.closePath()}_cssClasses(){const e={"esri-text-overlay-item":!0};let t;for(t in d)e[d[t]]=this.anchor===t;return e}};(0,n.Cg)([(0,s.MZ)()],h.prototype,"x",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"y",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"position",null),(0,n.Cg)([(0,s.MZ)()],h.prototype,"text",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"fontSize",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"anchor",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"visible",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"isDecoration",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"backgroundColor",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"textColor",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"_textShadowSize",void 0),(0,n.Cg)([(0,s.MZ)()],h.prototype,"_textShadowColor",null),(0,n.Cg)([(0,s.MZ)()],h.prototype,"_textShadow",null),(0,n.Cg)([(0,s.MZ)()],h.prototype,"padding",null),(0,n.Cg)([(0,s.MZ)()],h.prototype,"borderRadius",null),h=(0,n.Cg)([(0,a.$)("esri.views.overlay.TextOverlayItem")],h);const p={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},u=[];{const e=16;for(let t=0;t<360;t+=360/e)u.push([Math.cos(Math.PI*t/180),Math.sin(Math.PI*t/180)])}},20481:(e,t,i)=>{i.d(t,{B:()=>d,GP:()=>l,ZY:()=>a,qg:()=>h});var n=i(89379),r=i(88685),o=i(38042);const s={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],no:[",","\xa0"],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.JK)(),t=(e=e.toLowerCase())in s;if(!t){const i=e.split("-");i.length>1&&i[0]in s&&(e=i[0],t=!0),t||(e="en")}const[i,n,r="#,##0.###"]=s[e];return{decimal:i,group:n,pattern:r}}function l(e,t){const i=a((t=(0,n.A)({},t)).locale);t.customs=i;const r=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,i){const n=(i=i||{}).customs.group,r=i.customs.decimal,o=t.split(";"),s=o[0];if((t=o[e<0?1:0]||"-"+s).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xa4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}const a=c,l=s.match(a);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return!1===i.fractional&&(i.places=0),t.replace(a,function(e,t,i){!0===(i=i||{}).places&&(i.places=0),i.places===1/0&&(i.places=6);const n=t.split("."),r="string"==typeof i.places&&i.places.indexOf(",");let o=i.places;r?o=i.places.slice(r+1):+o>=0||(o=(n[1]||[]).length),i.round<0||(e=Number(e.toFixed(Number(o))));const s=String(Math.abs(e)).split("."),a=s[1]||"";if(n[1]||i.places){r&&(i.places=i.places.slice(0,Math.max(0,r)));const e=void 0!==i.places?i.places:n[1]&&n[1].lastIndexOf("0")+1;+e>a.length&&(s[1]=a.padEnd(Number(e),"0")),+o<a.length&&(s[1]=a.slice(0,Math.max(0,Number(o))))}else s[1]&&s.pop();const l=n[0].replace(",","");let c=l.indexOf("0");-1!==c&&(c=l.length-c,c>s[0].length&&(s[0]=s[0].padStart(c,"0")),l.includes("#")||(s[0]=s[0].slice(-c)));let d,h,p=n[0].lastIndexOf(",");if(-1!==p){d=n[0].length-p-1;const e=n[0].slice(0,p);p=e.lastIndexOf(","),-1!==p&&(h=e.length-p-1)}const u=[];for(let g=s[0];g;){const e=g.length-d;u.push(e>0?g.slice(Math.max(0,e)):g),g=e>0?g.slice(0,e):"",h&&(d=h,h=void 0)}return s[0]=u.reverse().join(i.group||","),s.join(i.decimal||".")}(e,l[0],{decimal:r,group:n,places:i.places,round:i.round}))}(e,r,t)}const c=/[#0,]*[#0](?:\.0*#*)?/;function d(e){const t=a((e=e||{}).locale),i=e.pattern||t.pattern,n=t.group,o=t.decimal;let s=1;if(i.includes("%"))s/=100;else if(i.includes("\u2030"))s/=1e3;else if(i.includes("\xa4"))throw new Error("currency notation not supported");const l=i.split(";");1===l.length&&l.push("-"+l[0]);const d=u(l,t=>(t="(?:"+(0,r.Cj)(t,".")+")").replace(c,t=>{const i={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:o,exponent:!1},r=t.split(".");let a=e.places;1===r.length&&1!==s&&(r[1]="###"),1===r.length||0===a?i.fractional=!1:(void 0===a&&(a=e.pattern?r[1].lastIndexOf("0")+1:1/0),a&&null==e.fractional&&(i.fractional=!0),!e.places&&+a<r[1].length&&(a+=","+r[1].length),i.places=a);const l=r[0].split(",");return l.length>1&&(i.groupSize=l.pop().length,l.length>1&&(i.groupSize2=l.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!String(e.places).startsWith("0")||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=p(e),i=u(e.fractional,t=>{let i="";return t&&0!==e.places&&(i="\\"+e.decimal,e.places===1/0?i="(?:"+i+"\\d+)?":i+="\\d{"+e.places+"}"),i},!0);let n=t+i;return i&&(n="(?:(?:"+n+")|(?:"+i+"))"),n+u(e.exponent,t=>t?"([eE]"+p({signed:e.eSigned})+")":"")}(i)+")"}),!0);return{regexp:d.replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:o,factor:s}}function h(e,t){const i=d(t),n=new RegExp("^"+i.regexp+"$").exec(e);if(!n)return NaN;let r=n[1];if(!n[1]){if(!n[2])return NaN;r=n[2],i.factor*=-1}return r=r.replaceAll(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(r)*i.factor}function p(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",u(e.signed,e=>e?"[-+]":"",!0)+u(e.separator,t=>{if(!t)return"(?:\\d+)";" "===(t=(0,r.Cj)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");const i=e.groupSize,n=e.groupSize2;if(n){const e="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+i+"})";return i-n>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0)}const u=(e,t,i)=>{if(!Array.isArray(e))return t(e);const n=[];for(let r=0;r<e.length;r++)n.push(t(e[r]));return g(n.join("|"),Boolean(i))},g=(e,t)=>"("+(t?"?:":"")+e+")"},29083:(e,t,i)=>{i.r(t),i.d(t,{default:()=>we});var n=i(6326),r=i(69539),o=(i(11265),i(63241)),s=i(76460),a=i(68134),l=i(96820),c=i(46053),d=(i(81806),i(47249),i(87990)),h=i(25329),p=i(94126),u=i(98108),g=i(71981),v=i(15187),m=i(63582),y=i(54761),f=i(54099),b=i(15941),w=i(30726),_=i(31633),C=i(19247),x=i(56611),S=i(68002),M=i(42553),P=i(6409);let A=class extends M.o{constructor(e){super(e),this.center=new C.A,this.dynamicScaling=!0,this.majorLineColor=r.A.fromArray([115,115,115,1]),this.majorLineInterval=10,this.minorLineColor=r.A.fromArray([165,165,165,1]),this.rotateWithMap=!1,this.rotation=0,this.spacing=1,this.type="measured",this.units="miles"}};(0,n.Cg)([(0,c.MZ)()],A.prototype,"center",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"dynamicScaling",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"majorLineColor",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"majorLineInterval",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"minorLineColor",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"rotateWithMap",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"rotation",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"spacing",void 0),(0,n.Cg)([(0,P.e)({measured:"measured"})],A.prototype,"type",void 0),(0,n.Cg)([(0,c.MZ)()],A.prototype,"units",void 0),A=(0,n.Cg)([(0,d.$)("esri.grids.MeasuredGrid")],A);var T=i(18117),Z=i(19747);const I={readOnly:!0,get(){return(0,Z.c)(this.view)}};var R=i(7246),k=i(76940),O=i(58272),E=i(86524),G=i(42376),L=(i(6363),i(44342),i(62209),i(57308)),K=i(82307),j=i(83973),z=i(70330),D=i(91967);let W=class extends D.A{constructor(e){super(e),this.color=new r.A([255,127,0,1]),this.isDecoration=!0,this.length=34,this.rotation=0,this.thickness=2,this.visible=!0}get _strokeStyle(){return this.color.toCss(!0)}render(){const{x:e,y:t,length:i,thickness:n,rotation:r}=this,o=i/2,s="0 0 ".concat(i," ").concat(i),a="M".concat(o," 0 V").concat(i," M0 ").concat(o," H").concat(i);return(0,y.K)("div",{classes:{"esri-box-overlay-item":!0},dir:"ltr",styles:{left:"".concat((null!==e&&void 0!==e?e:0)-o,"px"),top:"".concat((null!==t&&void 0!==t?t:0)-o,"px"),width:"".concat(i,"px"),height:"".concat(i,"px"),transform:"rotate(".concat(r,"deg)"),visibility:this.visible?"visible":"hidden"}},(0,y.K)("svg",{styles:{overflow:"visible"},viewbox:s},(0,y.K)("path",{d:a,stroke:this._strokeStyle,"stroke-width":n})))}renderCanvas(){}};(0,n.Cg)([(0,c.MZ)()],W.prototype,"color",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"isDecoration",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"length",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"rotation",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"thickness",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"visible",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"x",void 0),(0,n.Cg)([(0,c.MZ)()],W.prototype,"y",void 0),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],W.prototype,"_strokeStyle",null),W=(0,n.Cg)([(0,d.$)("esri.views.overlay.CrosshairOverlayItem")],W);var N=i(17150),B=i(50621),V=i(68655),U=i(20481),F=(i(38042),i(50076)),H=i(58905),q=i(13312),$=i(80963),X=i(45417);function J(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function Y(e,t){const i=e.includes(",")?",":" ",[n,r,o]=e.split(i).map(e=>{const t=e.trim();return t?Number(t):null});if(!Q(n)||!Q(r))return null;const s=new C.A({x:n,y:r,spatialReference:t||q.A.WGS84});return o&&(s.z=o,s.hasZ=!0),s}function Q(e){return"number"==typeof e&&isFinite(e)}function ee(e){return!!e&&Q(e.x)&&Q(e.y)}function te(e,t){if(e.spatialReference.isGeographic&&t){const[i,n]=function(e,t){const i=J(t);return[e[0].toFixed(i),e[1].toFixed(i)]}([e.x,e.y],t);return"".concat(i,", ").concat(n)}return"".concat(e.x.toFixed(3),", ").concat(e.y.toFixed(3))}let ie=class extends D.A{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this._currentPattern=void 0,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){var e;return null!==(e=this._currentPattern||this.defaultPattern)&&void 0!==e?e:""}set currentPattern(e){this._currentPattern=e}get label(){var e;return null!==(e=this.name)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){var e,t;return"basemap"===this.name?this._viewSpatialReference:null!==(e=null===(t=this.conversionInfo)||void 0===t?void 0:t.spatialReference)&&void 0!==e?e:q.A.WGS84}set spatialReference(e){this._overrideIfSome("spatialReference",e)}get _viewSpatialReference(){var e,t;return null!==(e=null===(t=this.viewModel)||void 0===t||null===(t=t.view)||void 0===t?void 0:t.spatialReference)&&void 0!==e?e:q.A.WGS84}get _additionalCharactersPattern(){const e=this.coordinateSegments;if(!e)return null;const t=e.map(e=>e.alias),i=this.currentPattern.replaceAll(new RegExp('["nsew'.concat(t.join(),"]"),"gi"),"").replaceAll(" ","");return new RegExp("[".concat(i,"]"),"g")}get test(){}async convert(e){var t;if(!ee(e))throw new F.A("format:invalid-point","Could not convert invalid point.",{point:e});const i=null===(t=this.conversionInfo)||void 0===t?void 0:t.convert;if(i)return Promise.resolve().then(()=>i(e));const n=this._project(e,this.spatialReference);return{location:n,coordinate:this._getCoordinate(n)}}getConversionStrategy(){var e,t;const i=this._viewSpatialReference;return null!==(e=this.conversionInfo)&&void 0!==e&&e.convert||null!==(t=this.viewModel)&&void 0!==t&&t.formatterAvailable||"xy"===this.name&&(i.isWebMercator||i.isWGS84)||"basemap"===this.name?"client":"server"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;let t=this.currentPattern;const i=this._getSegmentMatches(e,!1);for(let n=this.coordinateSegments.length-1;n>=0;n--){const e=this.coordinateSegments[n];t=t.replace(e.alias,i[n])}return t}_parseUserInput(e){const{defaultPattern:t,_additionalCharactersPattern:i,coordinateSegments:n}=this;if(!t||!i)return"";let r=t.replace(i,"");e=e.replace(i,"");const o=this._getSegmentMatches(e,!0);if(n)for(let s=n.length-1;s>=0;s--){const e=n[s];r=r.replace(e.alias,o[s])}return r}_getSegmentMatches(e,t){const i=new Array,{coordinateSegments:n}=this;if(!n)return i;for(let r=0;r<n.length;r++){const o=n[r],s=e.match(o.searchPattern);if(!s){i.push("");continue}let a=s[0];if(e=e.replace(a,"").trim(),o.substitution){const e=t?o.substitution.input(a):o.substitution.output(a);e&&(a="".concat(e))}i.push(a)}return i}async reverseConvert(e){var t,i;const n=this._parseUserInput(e),r=null===(t=this.conversionInfo)||void 0===t?void 0:t.reverseConvert;let o;if(r)o=r(n);else if("xy"===this.name||"basemap"===this.name)o=Y(n,this.spatialReference);else if(null!==(i=this.viewModel)&&void 0!==i&&i.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":o=(0,H.o6)(n,this.spatialReference);break;case"mgrs":{const e="automatic";o=(0,H.qn)(n,this.spatialReference,e);break}case"utm":{const e="latitude-band-indicators";o=(0,H.ht)(n,this.spatialReference,e);break}case"usng":o=(0,H.U_)(n,this.spatialReference);break;default:o=null}if(!o)throw new F.A("format:invalid-input","Could not parse input into point.",{coordinate:e});return this._project(o,this._viewSpatialReference)}_getCoordinate(e){var t,i,n;const r=null!==(t=null===(i=this.viewModel)||void 0===i||null===(i=i.view)||void 0===i?void 0:i.scale)&&void 0!==t?t:0;if(!ee(e))throw new F.A("format:invalid-point","Could not transform invalid point into coordinate.",{point:e});if(null!==(n=this.viewModel)&&void 0!==n&&n.formatterAvailable||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":{const t=J(r);return(0,H.TH)(e,this.name,t)}case"mgrs":return(0,H.LM)(e,"automatic",5,!1);case"usng":return(0,H.Nf)(e,5,!1);case"utm":return(0,H.yy)(e,"latitude-band-indicators",!0);default:return te(e,r)}return te(e,r)}_project(e,t){var i,n;if((0,$.aI)(e.spatialReference,t)||!t)return e;if(null!==(i=this.viewModel)&&void 0!==i&&i.formatterAvailable&&(0,x.isLoaded)())return(0,x.project)(e,t);if(null===(n=this.viewModel)||void 0===n||!n.formatterAvailable){const i=(0,X.Cv)(e,t);if(null!=i)return i}return null}};(0,n.Cg)([(0,c.MZ)()],ie.prototype,"conversionInfo",void 0),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"coordinateSegments",void 0),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"currentPattern",null),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"_currentPattern",void 0),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"label",null),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"defaultPattern",void 0),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],ie.prototype,"hasDisplayProperties",null),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"name",void 0),(0,n.Cg)([(0,c.MZ)({type:q.A})],ie.prototype,"spatialReference",null),(0,n.Cg)([(0,c.MZ)()],ie.prototype,"viewModel",void 0),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],ie.prototype,"_viewSpatialReference",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],ie.prototype,"_additionalCharactersPattern",null),ie=(0,n.Cg)([(0,d.$)("esri.widgets.CoordinateConversion.support.Format")],ie);const ne=(0,U.ZY)().decimal,re="\xb0".concat("\u200e");new RegExp("-?\\d+[\\.|\\".concat(ne,"]?\\d*"));const oe=e=>{if(null==e||isNaN(e))return 0;const t=e+180;return Math.trunc((0,b.OS)(t,360))},se=(e,t)=>{if(!e||t.length<3)return;const[i,n,o,s]=t,[a,l]=void 0===s?[1,.25]:[s,.25*s];e.majorLineColor=r.A.fromArray([i,n,o,a]),e.minorLineColor=r.A.fromArray([i,n,o,l])},ae=Symbol("grid-interactivity");let le=class extends f.nJ{constructor(e){super(e),this._drawGraphicTool=null,this._keybindings=null,this._crosshairLabel=null,this._crosshairItem=null,this.snappingManager=null,this.snappingOptions=null,this.view=null,this.placementDisabled=!1,this._mostRecentlyShownGrid=null,this._sketchedVertexCount=0}initialize(){this.addHandles([(0,a.z7)(()=>!this.displayEnabled,()=>{this.interactivePlacementState=null}),(0,a.wB)(()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.viewpoint},()=>{this._renderOverlays()}),(0,a.wB)(()=>{var e;return null===(e=this.snappingOptions)||void 0===e?void 0:e.gridEnabled},e=>{null!=e&&this.trySetDisplayEnabled(e)}),(0,a.wB)(()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.grid},(e,t)=>{this._mostRecentlyShownGrid=!e&&t?t:null})])}destroy(){var e,t;this._resetGridPlacementState(),this._crosshairItem&&(null!==(e=this.view)&&void 0!==e&&null!==(e=e.overlay)&&void 0!==e&&e.removeItem(this._crosshairItem),this._crosshairItem=(0,w.pR)(this._crosshairItem)),this._crosshairLabel&&(null!==(t=this.view)&&void 0!==t&&null!==(t=t.overlay)&&void 0!==t&&t.removeItem(this._crosshairLabel),this._crosshairLabel=(0,w.pR)(this._crosshairLabel))}get displayEnabled(){var e;return!(null===(e=this.view)||void 0===e||!e.grid)}get dynamicScaling(){var e,t;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.dynamicScaling)&&void 0!==e&&e}set dynamicScaling(e){this.grid&&(this.grid.dynamicScaling=e)}get grid(){var e,t;return null!==(e=null===(t=this.view)||void 0===t?void 0:t.grid)&&void 0!==e?e:this._mostRecentlyShownGrid}set gridColor(e){var t;if(null!==e&&void 0!==e&&e.equals(null===(t=this.grid)||void 0===t?void 0:t.majorLineColor))return;if(!e)return;const[i,n,r,o]=e.toArray();se(this.grid,[i,n,r,o/255])}get gridColor(){var e;return null===(e=this.grid)||void 0===e?void 0:e.majorLineColor}get gridControlsEnabled(){return this.displayEnabled&&!this.interactivePlacementState}set interactivePlacementState(e){this._set("interactivePlacementState",e),this._resetGridPlacementState(),e&&this._startGridManipulation(e)}get majorLineInterval(){var e,t;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.majorLineInterval)&&void 0!==e?e:10}set majorLineInterval(e){this.grid&&(this.grid.majorLineInterval=e<1?1:e>15?15:e)}get rotateWithMap(){var e,t;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.rotateWithMap)&&void 0!==e&&e}set rotateWithMap(e){this.grid&&(this.grid.rotateWithMap=e)}get rotation(){var e,t;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.rotation)&&void 0!==e?e:-180}set rotation(e){this.grid&&(this.grid.rotation=e)}get snappingEnabled(){var e,t;return null!==(e=this.grid&&(null===(t=this.snappingOptions)||void 0===t?void 0:t.gridEnabled))&&void 0!==e&&e}set snappingEnabled(e){const{snappingOptions:t}=this;t&&(t.gridEnabled=e)}get spacing(){var e,t;return null!==(e=null===(t=this.grid)||void 0===t?void 0:t.spacing)&&void 0!==e?e:1}set spacing(e){this.grid&&e>0&&(this.grid.spacing=e)}get unit(){var e;return null===(e=this.grid)||void 0===e?void 0:e.units}set unit(e){this.grid&&(this.grid.units=e)}get gridOutOfScale(){return!this.dynamicScaling&&null!=this._pixelsPerStride&&this._pixelsPerStride<O.b}get effectiveSpacingAfterDynamicScaling(){var e;return this.majorLineInterval<1||!this.dynamicScaling||!this.view||null==this._pixelsPerStride||null===(e=this.grid)||void 0===e||!e.spacing?null:this.grid.spacing*(0,E.Ge)(this.majorLineInterval,this._pixelsPerStride,this.dynamicScaling)}get numericSpacingInputShouldBeVisible(){var e;return!(null===(e=this.view)||void 0===e||!e.spatialReference)&&(0,E.XV)(this.view.spatialReference)}get _metersPerSRUnit(){if(!(this.view&&this.displayEnabled&&this.grid&&(0,x.isLoadedOrLoadFor)(this.grid.center.spatialReference,this.view.spatialReference)))return null;const e=(0,x.project)(this.grid.center,this.view.spatialReference);return(0,E.WT)(e)}get _pixelsPerStride(){var e;if(null===(e=this.view)||void 0===e||!e.scale||!this.displayEnabled||!this.grid||null==this._metersPerSRUnit)return null;const t=this.grid,{scale:i,spatialReference:n}=this.view;return(0,_.oU)(t.spacing,t.units,"meters")/(this._metersPerSRUnit*(0,S.i1)(i,n))}get _isPlacing(){if(!this._drawGraphicTool)return!1;const e=this.interactivePlacementState;return"place"===e||"interactive"===e&&0===this._sketchedVertexCount}get _isRotating(){if(!this._drawGraphicTool)return!1;const e=this.interactivePlacementState;return"rotate"===e||"interactive"===e&&1===this._sketchedVertexCount}get _isScaling(){return!!this._drawGraphicTool&&("interactive"===this.interactivePlacementState&&1===this._sketchedVertexCount)}togglePlacementState(e){this.interactivePlacementState=this.interactivePlacementState===e?null:e}trySetDisplayEnabled(e){const{view:t}=this;if(null!==t&&void 0!==t&&t.ready)if(!t.grid&&e)if(this._mostRecentlyShownGrid)t.grid=this._mostRecentlyShownGrid;else{var i;const e="imperial"===this.defaultUnit?"feet":"meters";t.grid=new A({units:e,center:null!==(i=t.center)&&void 0!==i?i:new C.A,rotateWithMap:!0}),se(this.grid,[115,115,115])}else e||(t.grid=null);else s.A.getLogger(this).warn("Attempting to enable grid display while view is not ready")}async startPlacement(e){const{view:t,snappingManager:i}=this;if(!t)return;this._set("interactivePlacementState",e),this._sketchedVertexCount=0;const n=new G.F({view:t,graphicProperties:{attributes:{[z.io]:z.io}},sketchOptions:{tooltips:{enabled:!0,visibleElements:{direction:!1,rotation:!1,totalLength:!1,elevation:!1,distance:!1,area:!1}}},geometryType:"polyline",mode:"click",snapToScene:!1,snappingManager:i,forceUniformSize:!0,centered:!1,cursor:"interactive"===this.interactivePlacementState||"place"===this.interactivePlacementState?"none":null,regularVerticesSymbol:void 0,activeVertexSymbol:de,activeLineSymbol:ce,graphicSymbol:ce,automaticAreaMeasurementUtils:await(0,B.E)(),automaticLengthMeasurementUtils:await(0,V.f)()});if(this._drawGraphicTool=n,t.addAndActivateTool(n),this._renderOverlays(),!this._keybindings){const e=new K.oe;e.add(K.NE.complete,()=>this._onDrawComplete()),e.add(K.NE.vertexAdd,()=>{var e;return null===(e=this._drawGraphicTool)||void 0===e?void 0:e.drawOperation.commitStagedVertex()}),this._keybindings=e}this.addHandles([n.on("cursor-update",e=>this._onCursorUpdate(e)),n.on("complete",()=>this._onDrawComplete()),n.on("vertex-add",t=>this._onVertexAdd(t,e)),this._keybindings.register(t,L.oj.WIDGET)],ae)}async _startGridManipulation(e){const{view:t}=this;if(!t)return void(this.interactivePlacementState=null);const i=new CustomEvent("before-placement",{cancelable:!0});this.emit("before-placement",i),i.defaultPrevented||await this.startPlacement(e)}_onCursorUpdate(e){try{if(this._isPlacing){const t=e.vertices[0].coordinates;return void this._handlePlace(t)}if(this._drawGraphicTool.cursor=null,this._isRotating&&this._handleRotate(e.vertices[0].coordinates),this._isScaling){var t;const e=null===(t=this._drawGraphicTool)||void 0===t?void 0:t.drawOperation.cursorVertex;this._handleScale(e)}}finally{this._renderOverlays()}}_onDrawComplete(){this._drawGraphicTool.cursor=null,this.interactivePlacementState=null}_onVertexAdd(e,t){const i=e.vertices[0].coordinates;this._isPlacing&&this._handlePlace(i),this._isRotating&&this._sketchedVertexCount>0&&this._handleRotate(i),this._isScaling&&this._sketchedVertexCount>0&&this._handleScale((0,T.TH)(i[0],i[1],void 0,this.view.spatialReference)),this._sketchedVertexCount++,this._drawGraphicTool.cursor=null,2!==this._sketchedVertexCount&&"interactive"===t||(this.interactivePlacementState=null),this._renderOverlays()}_handlePlace(e){const{grid:t,view:i}=this;t&&i&&(t.center=new C.A({x:e[0],y:e[1],spatialReference:i.spatialReference}))}_handleRotate(e){var t,i;const{grid:n,view:r}=this;if(!n||!r)return;null===(t=this._drawGraphicTool)||void 0===t||t.sketchOptions.tooltips.set("enabled",!1);const{x:o,y:s}=n.center,[a,l]=e,c=r.toScreen(n.center,{pickClosestTarget:!0}),d=c&&r.toMap(c),h=r.toScreen((0,T.TH)(a,l,void 0,r.spatialReference),{pickClosestTarget:!0}),p=h&&r.toMap(h),u=d?d.x:o,g=d?d.y:s,v=u-(p?p.x:a),m=g-(p?p.y:l);if(0===v&&0===m)return;const y=Math.atan2(m,v),f=(0,b.KJ)(y),w=n.rotateWithMap,_=null!==(i=r.viewpoint.rotation)&&void 0!==i?i:0,C=w?f:f-_;n.rotation=Math.fround(C)%360}_handleScale(e){var t;const{view:i,grid:n,_drawGraphicTool:r,interactivePlacementState:o,_metersPerSRUnit:s}=this;if(!(e&&i&&n&&r&&s))return;r.sketchOptions.tooltips.enabled=!1;const a="interactive"===o?n.center:r.drawOperation.firstVertex;if(!a||!e)return;const l=null===i||void 0===i?void 0:i.toScreen(a),c=l&&i.toMap(l),d=null===i||void 0===i?void 0:i.toScreen(e),h=null!==c&&void 0!==c?c:a,p=null!==(t=d&&i.toMap(d))&&void 0!==t?t:e,u=Math.sqrt((h.x-p.x)**2+(h.y-p.y)**2),g=(0,_.oU)(u*s,"meters",n.units);this.spacing=g}_renderOverlays(){this._renderCrosshairOverlay(),this._renderTextOverlay()}_renderTextOverlay(){const{grid:e,view:t,_drawGraphicTool:i}=this,n=this._getCrosshairLabel();if(!(e&&null!==t&&void 0!==t&&t.overlay&&i&&n))return;const r=t.toScreen(e.center,{pickClosestTarget:!0});r&&(n.position=[r.x+12,r.y+12]),this._isRotating?(n.text="".concat(oe(e.rotation)).concat(re),n.visible=!0):n.visible=!1}_renderCrosshairOverlay(){const{grid:e,view:t,_drawGraphicTool:i}=this;if(!e||null===t||void 0===t||!t.overlay||!i)return;const n=this._getCrosshair();if(!n)return;const r=t.toScreen(e.center);r&&(n.x=r.x,n.y=r.y,n.rotation=e.rotateWithMap?t.viewpoint.rotation-e.rotation:-e.rotation,n.visible=!!i)}_getCrosshairLabel(){if(this._crosshairLabel)return this._crosshairLabel;const{grid:e,view:t,_drawGraphicTool:i}=this;if(!e||null===t||void 0===t||!t.overlay||!i)return null;const n=new N.A({anchor:"top-left",fontSize:10,textColor:new r.A([21,21,21]),backgroundColor:new r.A([248,248,248]),padding:8,borderRadius:20});return t.overlay.addItem(n),this._crosshairLabel=n,n}_getCrosshair(){var e;const{_crosshairItem:t,view:i}=this;return null!==i&&void 0!==i&&i.overlay?t&&i.overlay.items.includes(t)?t:(this._crosshairItem=new W({color:i.effectiveTheme.accentColor,thickness:4,length:36,visible:!0}),null!==(e=i.overlay)&&void 0!==e&&e.addItem(this._crosshairItem),this._crosshairItem):null}_resetGridPlacementState(){var e,t;this.removeHandles(ae),this._crosshairItem&&(this._crosshairItem.visible=!1),this._crosshairLabel&&(this._crosshairLabel.visible=!1),this._drawGraphicTool&&((null===(e=this.view)||void 0===e?void 0:e.activeTool)===this._drawGraphicTool&&(this.view.activeTool=null),null!==(t=this.view)&&void 0!==t&&t.tools.remove(this._drawGraphicTool)),this._drawGraphicTool=(0,w.pR)(this._drawGraphicTool)}};(0,n.Cg)([(0,c.MZ)(I)],le.prototype,"defaultUnit",void 0),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],le.prototype,"displayEnabled",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"dynamicScaling",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"grid",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"gridColor",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],le.prototype,"gridControlsEnabled",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"interactivePlacementState",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"majorLineInterval",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"rotateWithMap",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"rotation",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"snappingEnabled",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"snappingManager",void 0),(0,n.Cg)([(0,c.MZ)({type:j.A})],le.prototype,"snappingOptions",void 0),(0,n.Cg)([(0,c.MZ)()],le.prototype,"spacing",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"unit",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"view",void 0),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],le.prototype,"gridOutOfScale",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],le.prototype,"effectiveSpacingAfterDynamicScaling",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],le.prototype,"numericSpacingInputShouldBeVisible",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"placementDisabled",void 0),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_metersPerSRUnit",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_pixelsPerStride",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_isPlacing",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_isRotating",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_isScaling",null),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_mostRecentlyShownGrid",void 0),(0,n.Cg)([(0,c.MZ)()],le.prototype,"_sketchedVertexCount",void 0),le=(0,n.Cg)([(0,d.$)("esri.widgets.support.GridControls.GridControlsViewModel")],le);const ce=new R.default({width:0}),de=new k.default({color:r.A.fromArray([0,0,0,0]),outline:new R.default({color:r.A.fromArray([0,0,0,0])})});var he=i(10286),pe=i(39348);const ue="esri-grid-controls",ge={base:ue,borderedSwitch:"".concat(ue,"__switch--bordered"),container:"".concat(ue,"__container"),numericInputsContainer:"".concat(ue,"__numeric-inputs__container"),tilegroup:"".concat(ue,"__tilegroup"),tile:"".concat(ue,"__tile"),tileDisabled:"".concat(ue,"__tile--disabled"),tileContent:"".concat(ue,"__tile__content"),suffixedInputContainer:"".concat(ue,"__input-with-suffix__container"),inlineIcon:"".concat(ue,"__inline-icon")},ve={widgetIcon:"grid-unit",gridTheme:{light:"circle",dark:"circle-area",custom:"palette"},placementState:{interactive:"maximum-territory-distance",place:"move",rotate:"rotate"},warning:"exclamation-mark-triangle"},me=r.A.fromArray([115,115,115]),ye=r.A.fromArray([200,200,200]),fe=["interactive","place","rotate"];let be=class extends h.A{constructor(e,t){super(e,t),this.customColor=null,this.messages=null,this.messagesUnits=null,this.viewModel=new le,this.visibleElements=new he.A,(0,o.ED)(s.A.getLogger(this),"Grid Controls","arcgis-grid-controls",{version:"4.33"})}initialize(){this.addHandles([(0,a.wB)(()=>this.viewModel.gridColor,e=>{!e||me.equals(e)||ye.equals(e)||(this.customColor=e)},a.Vh)])}loadDependencies(){return Promise.all([(0,p.W)({action:()=>Promise.all([i.e(55304),i.e(9474),i.e(85375),i.e(90596)]).then(i.bind(i,85375)),"action-bar":()=>Promise.all([i.e(55304),i.e(9474),i.e(91654),i.e(85375),i.e(62428),i.e(51866),i.e(44204)]).then(i.bind(i,44204)),label:()=>Promise.all([i.e(55304),i.e(11839)]).then(i.bind(i,11839)),icon:()=>Promise.all([i.e(55304),i.e(16702)]).then(i.bind(i,16702)),popover:()=>Promise.all([i.e(55304),i.e(9474),i.e(91654),i.e(85375),i.e(62428),i.e(51866)]).then(i.bind(i,51866)),tooltip:()=>Promise.all([i.e(55304),i.e(91654),i.e(31748)]).then(i.bind(i,31748)),"color-picker":()=>Promise.all([i.e(55304),i.e(9474),i.e(36175),i.e(43285),i.e(41763),i.e(7342),i.e(85348)]).then(i.bind(i,85348)),"input-number":()=>Promise.all([i.e(55304),i.e(9474),i.e(36175),i.e(41763),i.e(91730)]).then(i.bind(i,41763))}),(0,g.m)()])}get icon(){return ve.widgetIcon}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages.widgetLabel}set label(e){this._overrideIfSome("label",e)}get snappingManager(){return this.viewModel.snappingManager}set snappingManager(e){this.viewModel.snappingManager=e}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get theme(){const e=this.viewModel.gridColor;return e?me.equals(e)?"dark":ye.equals(e)?"light":"custom":null}set theme(e){var t;const{viewModel:i,customColor:n,view:r}=this;switch(e){case"light":i.gridColor=ye;break;case"dark":i.gridColor=me;break;case"custom":i.gridColor=null!==(t=null!==n&&void 0!==n?n:null===r||void 0===r?void 0:r.effectiveTheme.accentColor)&&void 0!==t?t:me}}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return(0,y.K)("div",{"aria-label":this.label,class:this.classes(ge.base,u.D.widget,u.D.panel)},(0,y.K)("div",{class:ge.container},this._renderContent()))}_renderContent(){const{visibleElements:e}=this;return[e.gridEnabledToggle?this._renderEnabledToggle():null,e.placementButtons?this._renderGridPlacementButtons():null,e.numericInputs?this._renderNumericInputs():null,e.lineIntervalInput?this._renderIntervalInput():null,e.gridSnapEnabledToggle&&this.viewModel.snappingOptions?this._renderSnappingToggle():null,e.dynamicScaleToggle?this._renderDynamicScaleToggle():null,e.rotateWithMapToggle?this._renderRotateToggle():null,e.colorSelection?this._renderColorSelection():null]}_renderGridPlacementButtons(){const{interactivePlacementState:e,placementDisabled:t,gridControlsEnabled:i}=this.viewModel,n=t||!i;return(0,y.K)("calcite-label",{key:"grid-placement-buttons",scale:"s"},this.messages.placementOptions,(0,y.K)("calcite-action-bar",{expandDisabled:!0,layout:"horizontal"},fe.map(t=>this._renderPlacementModeButton(t,n,e))))}_renderPlacementModeButton(e,t,i){const n=this.messages.placementState[e],r="__placement-action-".concat(e);return(0,y.K)("div",null,(0,y.K)("calcite-action",{active:i===e,alignment:"center",disabled:t,icon:ve.placementState[e],id:r,onclick:()=>this.viewModel.togglePlacementState(e),text:n}),(0,y.K)("calcite-tooltip",{overlayPositioning:"fixed",placement:"top",referenceElement:r},n))}_renderNumericInputs(){const{rotation:e,spacing:t,effectiveSpacingAfterDynamicScaling:i,numericSpacingInputShouldBeVisible:n,unit:r="meters"}=this.viewModel,o=this.messagesUnits.units[r].abbr,s=this.viewModel.gridControlsEnabled,a=null!=i&&i!==this.viewModel.spacing,c="__spacing_input_scaled-".concat(this.id);return(0,y.K)("div",{class:this.classes(ge.numericInputsContainer)},[n?(0,y.K)("calcite-label",{key:"spacing-label",scale:"s"},(0,y.K)("span",null,this.messages.inputLabel.spacing,a?(0,y.K)("calcite-icon",{class:this.classes(ge.inlineIcon),icon:ve.warning,id:c,scale:"s",tabIndex:0}):void 0),(0,y.K)("div",{class:ge.suffixedInputContainer},(0,y.K)("calcite-input-number",{disabled:!s,numberButtonType:"none",suffixText:o,value:"".concat(null===t||void 0===t?void 0:t.toFixed(2)),onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;const i=parseFloat(t.value);this.viewModel.spacing=i,i!==this.viewModel.spacing&&(t.value="".concat(this.viewModel.spacing))}}),a?(0,y.K)("calcite-tooltip",{overlayPositioning:"fixed",placement:"leading",referenceElement:c},(0,pe.V)(this.messages.warnings.dynamicSpacing,{actualSpacingIncludingUnit:(0,l.zJ)(this.messagesUnits,i,r,2,"plural")})):void 0)):void 0,(0,y.K)("calcite-label",{key:"angle-label",scale:"s"},this.messages.inputLabel.angle,(0,y.K)("calcite-input-number",{disabled:!s,integer:!0,numberButtonType:"none",suffixText:this.messagesUnits.units.degrees.abbr,value:"".concat(oe(e)),onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;return this.viewModel.rotation=(e=>{let t=e;return null==t?0:("string"==typeof t&&(t=parseInt(t,10)),isNaN(t)?0:(0,b.OS)(Math.trunc(t),360)-180)})(t.value)}}))])}_renderIntervalInput(){const{majorLineInterval:e,gridControlsEnabled:t}=this.viewModel;return(0,y.K)("div",{class:this.classes(ge.numericInputsContainer)},(0,y.K)("calcite-label",{scale:"s"},this.messages.inputLabel.interval,(0,y.K)("calcite-input-number",{disabled:!t,integer:!0,max:15,min:1,numberButtonType:"vertical",value:"".concat(e),onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;const i=Number.parseInt(t.value,10);this.viewModel.majorLineInterval=i,i!==this.viewModel.majorLineInterval&&(t.value="".concat(this.viewModel.majorLineInterval))}})))}_renderSnappingToggle(){var e;const{snappingOptions:t,gridControlsEnabled:i}=this.viewModel;return(0,y.K)(g.o,{checked:!(null===(e=null===t||void 0===t?void 0:t.gridEnabled)||void 0===e||!e),disabled:!(i&&t),key:"grid-snap-enabled-toggle",label:this.messages.switchLabel.snap,onChange:e=>{var t;return null===(t=this.viewModel.snappingOptions)||void 0===t?void 0:t.set("gridEnabled",e)}})}_renderDynamicScaleToggle(){const{viewModel:e,messages:t}=this,i=this.visibleElements.outOfScaleWarning&&e.gridOutOfScale;return(0,y.K)(g.o,{checked:e.dynamicScaling,disabled:!e.gridControlsEnabled,hint:i?t.warnings.outOfScale:void 0,hintIcon:ve.warning,hintKind:"warning",key:"grid-dynamic-scale-toggle-".concat(this.id),label:t.switchLabel.scaling,onChange:t=>e.dynamicScaling=t})}_renderRotateToggle(){const{gridControlsEnabled:e,rotateWithMap:t}=this.viewModel;return(0,y.K)(g.o,{checked:t,disabled:!e,key:"grid-rotate-map-toggle",label:this.messages.switchLabel.rotateWithMap,onChange:e=>this.viewModel.rotateWithMap=e})}_renderEnabledToggle(){return(0,y.K)("div",{class:ge.borderedSwitch},(0,y.K)(g.o,{checked:this.viewModel.displayEnabled,disabled:!!this.viewModel.interactivePlacementState,key:"grid-enabled-toggle",label:this.messages.switchLabel.display,onChange:e=>this.viewModel.trySetDisplayEnabled(e)}))}_renderColorSelection(){var e;const{customColor:t}=this,i="".concat(this.id,"--custom-grid-color-button");return(0,y.K)("calcite-label",{scale:"s"},this.messages.inputLabel.theme,(0,y.K)("div",{class:ge.tilegroup},[this._renderThemeTile({value:"dark"}),this._renderThemeTile({value:"light"}),this._renderThemeTile({value:"custom",id:i}),(0,y.K)("calcite-popover",{autoClose:!0,label:this.messages.gridLineColorPopoverLabel,overlayPositioning:"fixed",referenceElement:i},(0,y.K)("calcite-color-picker",{alphaChannel:!0,savedDisabled:!0,value:null!==(e=null===t||void 0===t?void 0:t.toHex({digits:8}))&&void 0!==e?e:"#000000ff",onCalciteColorPickerChange:e=>{const t=r.A.fromHex(e.currentTarget.value);t&&(this.customColor=t,this.theme="custom")}}))]))}_renderThemeTile(e){const{theme:t}=this,{value:i}=e,n=this.messages.gridTheme[i],r="".concat(this.id,"--theme_tile_").concat(i),o="".concat(r,"__label"),s=ve.gridTheme[i],a=this.viewModel.gridControlsEnabled;return(0,y.K)("div",{class:(0,v.Ly)({[ge.tile]:!0,[ge.tileDisabled]:!a}),id:e.id,role:"button"},(0,y.K)("input",{"aria-labelledby":o,checked:t===i,disabled:!a,id:r,name:"".concat(this.id,"--theme"),onchange:e=>{var t;this.theme=i,null===(t=e.target)||void 0===t||t.focus()},tabIndex:0,type:"radio"}),(0,y.K)("div",{class:ge.tileContent},(0,y.K)("calcite-icon",{icon:s,scale:"l"}),(0,y.K)("calcite-label",{for:r,id:o},n)))}};(0,n.Cg)([(0,c.MZ)({type:r.A})],be.prototype,"customColor",void 0),(0,n.Cg)([(0,c.MZ)()],be.prototype,"icon",null),(0,n.Cg)([(0,c.MZ)()],be.prototype,"label",null),(0,n.Cg)([(0,c.MZ)(),(0,m.G)("esri/widgets/support/GridControls/t9n/GridControls")],be.prototype,"messages",void 0),(0,n.Cg)([(0,c.MZ)(),(0,m.G)("esri/core/t9n/Units")],be.prototype,"messagesUnits",void 0),(0,n.Cg)([(0,c.MZ)()],be.prototype,"snappingManager",null),(0,n.Cg)([(0,c.MZ)()],be.prototype,"snappingOptions",null),(0,n.Cg)([(0,c.MZ)()],be.prototype,"theme",null),(0,n.Cg)([(0,c.MZ)()],be.prototype,"view",null),(0,n.Cg)([(0,c.MZ)({type:le})],be.prototype,"viewModel",void 0),(0,n.Cg)([(0,c.MZ)({type:he.A,nonNullable:!0})],be.prototype,"visibleElements",void 0),be=(0,n.Cg)([(0,d.$)("esri.widgets.support.GridControls")],be);const we=be},58272:(e,t,i)=>{i.d(t,{X:()=>n,b:()=>r});const n=50,r=5},74e3:(e,t,i)=>{i.d(t,{CI:()=>o,fk:()=>s});i(81806);var n=i(15941),r=i(80963);function o(e,t){return e===t||null!=e&&null!=t&&(0,r.aI)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function s(e,t,i){var o,s,a,l;return e===t||null!=e&&null!=t&&(0,r.aI)(e.spatialReference,t.spatialReference)&&(0,n.Sp)(e.x,t.x,i)&&(0,n.Sp)(e.y,t.y,i)&&(0,n.Sp)(null!==(o=e.z)&&void 0!==o?o:0,null!==(s=t.z)&&void 0!==s?s:0,i)&&(0,n.Sp)(null!==(a=e.m)&&void 0!==a?a:0,null!==(l=t.m)&&void 0!==l?l:0,i)}},86524:(e,t,i)=>{i.d(t,{Ge:()=>p,WT:()=>g,XV:()=>u});var n=i(31633),r=i(19247),o=i(23701),s=i(13312),a=i(7137),l=i(1438),c=i(80963),d=i(45417),h=i(58272);function p(e,t,i){const n=1===e?10:e;return n**(i?Math.round(function(e,t){return Math.log(e)/Math.log(t)}(h.X/t,n)):0)}function u(e){const{isGeographic:t,isWebMercator:i}=e;return!t&&!i}function g(e,t,i){var h,p;const g="number"==typeof e?null:e,v=null!==i&&void 0!==i?i:null===g||void 0===g?void 0:g.spatialReference;if(null==v||!(0,c.fn)(v)||u(v))return(0,n.GA)(v);let m=null!==(h=null===g||void 0===g?void 0:g.x)&&void 0!==h?h:e,y=null!==(p=null===g||void 0===g?void 0:g.y)&&void 0!==p?p:t;const f=1/Math.sqrt(2);let b=m+f,w=y+f;const{isWebMercator:_,isGeographic:C}=v;let x=C&&!(0,a.TT)(v)?s.A.WGS84:v;if(_){let e=new r.A({x:m,y:y,spatialReference:v});(0,d.ci)(e,!0,e),m=e.x,y=e.y,e=new r.A({x:b,y:w,spatialReference:v}),(0,d.ci)(e,!0,e),b=e.x,w=e.y,x=s.A.WGS84}const S=new o.A({paths:[[[m,y],[b,w]]],spatialReference:x}),M=(0,l.XX)(S,10);let P;try{[P]=(0,a.l1)([M],"meters")}catch(A){return(0,n.GA)(v)}return P}}}]);
//# sourceMappingURL=44138.b8e19bec.chunk.js.map