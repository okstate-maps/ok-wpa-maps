{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js"],"names":["i","t","e","r","a","n","bitmap","s","coordScale","once","ready","this","destroy","stage","stencilRef","transforms","dvs","tileMat3","arguments","isCustomTilingScheme","_getTileBounds","_tileInfoView","tileInfo","size","registerRenderPass","name","brushes","raster","target","children","map","drawPhase","MAP","visible","getTileBounds","world","spatialReference","lodAt","level","resolution","o","l","_emptyTilePixelBlock","container","layer","tileSize","useWebGLForProcessing","fetchTile","row","col","join","width","height","pixels","Uint8Array","mask","pixelType","prototype","type","symbolizer","canRenderInWebGL","interpolation","_canUseMajorityInterpolationOnDataSource","bandIds","_getLayerInterpolation","canUseWebGLForProcessing","source","symbolizerParams","globalSymbolizerParams","c","suspended","p","coords","u","d","x","y","pixelBlock","extent","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","createEmptyTilePixelBlock","invalidateTexture","local","global","tileInfoView","addChild","removeAllChildren","remove","rasterInfo","bandCount","attributeTable","colormap","renderer","colorRamp","_source","_symbolizerParameters","_vaoInvalidated","vaoData","magdir","vao","dispose","scalar","JSON","stringify","invalidateVAO","requestRender","style","_createVectorFieldVAO","context","vertexData","indexData","createVertex","Float32Array","createIndex","Uint32Array","geometry","location","count","normalized","attributes","bufferLayouts","elementCount","length","tileData","pixelRatio","offset","h","toScreenNoRotation","f","m","symbolTileSize","Math","round","D","rangeX","rangeY","displayViewMat3","symbolTypes","forEach","renderPass","_handle","dataType","convertVectorFieldData","key","_getTileSymbolOffset","_sampleVectorFieldData","Promise","resolve","_updateSymbolType","watch","L","getLogger","V","q","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","subview","_redrawOrRefetch","doRefresh","_redrawImage","updateFullExtent","addResolvingPromise","_get","_set","useProgressiveUpdate","_getCacheSize","R","cachePolicy","acquireTile","releaseTile","cacheSize","requestUpdate","view","toMap","pause","state","update","resume","scale","getClosestInfoForScale","toJSON","F","fromJSON","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","notifyChange","increaseRasterJobHandlerUsage","k","supportsTextureFloat","_initializeTileInfo","P","fullExtent","_computeFetchConcurrency","S","concurrency","process","_updatesubview","handles","add","catch","error","blendMode","effect","_updateBlockCacheRegistry","decreaseRasterJobHandlerUsage","uninstall","clear","g","abort","signal","then","j","updateRenderer","reset","tiles","push","_enqueueTileFetch","createTile","id","removeChild","allowPartialFill","registryId","requestRawData","srcResolution","datumTransformation","_isVectorField","C","I","install","xmin","ymax","w","scales","srcResolutions","create","origin","storageInfo","blockBoundary","maxCol","minCol","maxRow","minRow","has","moving","getTileCoords","getTileResolution","updateTileSource","_updateGlobalSymbolizerParams","updateTileSymbolizerParameters","fetchPixels","generateWebGLParameters","b","isGCS","isGeographic","factor","outMin","outMax","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","_","_rasterFieldPrefix","dynamicRangeAdjustment","reject","popupEnabled","popupTemplate","identify","value","magdirValue","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","features","filter","Value","VALUE","String","hasOwnProperty","clone","sourceLayer","fieldInfos","_getFieldInfo","format","trim","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","some","fieldName","replace","split","Number","isNaN","readOnly","U","z","v","T","G","parent","when","title","declaredClass","get","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","Boolean","triangleCountReportedInDebug","triangleCount","texture","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","on","whenLayerView","destroyed","attach","detach","minScale","maxScale","isFulfilled","isResolved","isVisibleAtScale","set","sortChildren","setStencilReference","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","setTransform","Map","PI","esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour","sqrt","atan2","cos","sin","createEmptyBand","M","validPixelCount","maskIsAlpha","updateStatistics","equals","max","ceil","xmax","ymin","floor","A","N","B","E","J","pennants","barbs","shaft","min","MAX_VALUE","inputUnit","random","outputUnit","breakValues","isWGS84","isWebMercator","cols","rows","abs","center","normalize","apply","wkid","W","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","blockWidth","pyramidScalingFactor","transform","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","inverseTransform","NaN","offsets","coefficients","spacing","pixelSize","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","projectedPixelSize","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_timer","_cachedBlocks","_size","_duration","_interval","refCount","delete","controller","ts","Date","now","block","updateTimer","clearTimer","setInterval","Array","from","clearInterval","cache","decreaseRefCount","getBlock","isRejected","putBlock","deleteBlock","Set","pyramidBlockWidth","pyramidBlockHeight","blockHeight","$","H"],"mappings":"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","file":"static/js/31.6f2fa2e4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../layers/support/PixelBlock.js\";let l=class extends r{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this.container=null,this.layer=null,this.tileSize=null,this.useWebGLForProcessing=!0}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}createEmptyTilePixelBlock(e=null){const r=null==e||e.join(\",\")===this.tileSize.join(\",\");if(r&&o(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this.tileSize;const[t,i]=e,l=new s({width:t,height:i,pixels:[new Uint8Array(t*i)],mask:new Uint8Array(t*i),pixelType:\"u8\"});return r&&(this._emptyTilePixelBlock=l),l}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([i(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],l);export{l as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as s}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as i}from\"./BaseImageryTileSubView2D.js\";let l=class extends i{constructor(){super(...arguments),this.container=null,this.layer=null,this.tileSize=null,this.type=\"raster\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:o}=this.layer,s=this._getLayerInterpolation(),i=this.canUseWebGLForProcessing(),{source:l,symbolizerParams:a,globalSymbolizerParams:n,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,l&&r(l)&&r(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};if(d.rawPixelData=e,i)d.source=l.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==n?void 0:n.type)?n:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=i?a:null,i?d.transformGrid||(d.transformGrid=l.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=i?a:null,d.transformGrid=null}d.bandIds=i?o:null,d.width=this.tileSize[0],d.height=this.tileSize[1],d.interpolation=s,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:o,global:s}=t,{bandIds:i}=this.layer,l=this._getLayerInterpolation(),a=this.canUseWebGLForProcessing(),{bitmap:n}=e,{rawPixelData:c}=n;!a&&r(c)?(n.source=await this.layer.applyRenderer(c,\"stretch\"===(null==s?void 0:s.type)?s:null),n.isRendereredSource=!0):(n.isRendereredSource&&r(c)&&(n.source=c.pixelBlock),n.isRendereredSource=!1),n.symbolizerParameters=a?s||o:null,n.bandIds=a?i:null,n.interpolation=l,n.suspended=!1}install(e,r){this.container=new s(r.tileInfoView),this.container.isCustomTilingScheme=r.isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove()}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:r,colormap:t,pixelType:o}=this.layer.rasterInfo;return 1===e&&(null!=r||null!=t||\"u8\"===o||\"s8\"===o)}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([o(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],l);var a=l;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/renderState.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.tileSize=null,this.type=\"rasterVF\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this.tileSize[0],s.height=this.tileSize[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this.tileSize[0]-s.offset[0])/o),Math.round((this.tileSize[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e,t){this.container=new o(t.tileInfoView),this.container.isCustomTilingScheme=t.isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove()}_getTileSymbolOffset(e,t){const i=e.col*this.tileSize[0]%t,r=e.row*this.tileSize[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"tileSize\",void 0),e([i()],a.prototype,\"type\",void 0),e([i()],a.prototype,\"useWebGLForProcessing\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);var c=a;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isNone as s,unwrap as r}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as a,createAbortController as l,eachAlways as h}from\"../../../core/promiseUtils.js\";import{createScreenPoint as n}from\"../../../core/screenUtils.js\";import{watch as c,init as u}from\"../../../core/watchUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../layers/support/TileInfo.js\";import{update as y,unregister as g,register as f,getRasterId as _}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as b}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{LayerView2DMixin as v}from\"./LayerView2D.js\";import I from\"./imagery/ImageryTileView2D.js\";import C from\"./imagery/VectorFieldTileView2D.js\";import P from\"../tiling/TileInfoView.js\";import S from\"../tiling/TileQueue.js\";import R from\"../tiling/TileStrategy.js\";import{ImageryTileLayerView as U}from\"../../layers/ImageryTileLayerView.js\";import T from\"../../layers/LayerView.js\";import{RefreshableLayerView as z}from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as j}from\"../../support/drapedUtils.js\";import k from\"../../webgl/capabilities.js\";import F from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const L=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),V=[0,0];let q=class extends(U(z(v(T)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.subview=null,this._redrawOrRefetch=o(((e,t)=>e?this.doRefresh():this._redrawImage(t)))}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this.subview&&(this.subview.useWebGLForProcessing=e),this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){var t;this._tileStrategy.destroy(),null==(t=this.subview)||t.container.removeAllChildren();const i=this._getCacheSize(e);this._tileStrategy=new R({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:i,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,i){if(this.suspended)return Promise.resolve(null);const s=this.view.toMap(n(e,i));return Promise.resolve(new t({attributes:{},geometry:s}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var o;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:F.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(o=this._previousLOD)?void 0:o.level)!==r.level&&(this._previousLOD=r,null==this._symbolizerParams||this.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),k().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new P(this.tileInfo,this.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new S({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this.fetchTile(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new R({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updatesubview(),this.handles.add([c(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,t,i)=>{const s=\"multidimensionalDefinition\"===i,r=\"interpolation\"===i&&(\"majority\"===e||\"majority\"===t)&&this._canUseMajorityInterpolationOnDataSource(),o=\"renderer\"===i&&\"vector-field\"===t.type!=(\"vector-field\"===t.type);o&&this._updatesubview();const l=s||r||o;this._redrawOrRefetch(l).catch((e=>{a(e)||L.error(e)}))})),u(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),u(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0)],\"attach\"),this._updateBlockCacheRegistry()}detach(){var e;this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),null==(e=this.subview)||e.uninstall(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,g(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=l(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return j(e,t,this.view)}async doRefresh(){if(this.suspended)return;await this.layer.updateRenderer(),this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await h(e),this.notifyChange(\"updating\")}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this.subview.container.createTile(e);return this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){var t;this._fetchQueue.abort(e.key.id),null==(t=this.subview)||t.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,t){const i=!s(t)&&t.signal,o=this.subview.canUseWebGLForProcessing(),a={allowPartialFill:!0,tileInfo:this.tileInfo,signal:r(i),registryId:this._blockCacheRegistryId,requestRawData:o,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:o?\"nearest\":this.layer.interpolation};return this.subview.fetchTile(e,a)}_updatesubview(){const e=this._isVectorField()?\"rasterVF\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:t}=this,i=new(\"rasterVF\"===e?C:I)({layer:t,tileSize:this.tileInfo.size,useWebGLForProcessing:this.useWebGLForProcessing});i.install(this.container,{tileInfoView:this._tileInfoView,isCustomTilingScheme:this._isCustomTilingScheme}),i.container.blendMode=t.blendMode,i.container.effect=t.effect,this.subview=i}_isVectorField(){return\"vector-field\"===this.layer.renderer.type}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new x({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),o=m.create({spatialReference:e,size:512,scales:i});(0===o.origin.x||o.origin.x>t.x)&&(o.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",o),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){a(i)&&L.error(i)}this._globalUpdateRequested=!1}!this.subview.canUseWebGLForProcessing()&&!this._isVectorField()||this.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const o=this._tileInfoView.getTileCoords(V,e.key),l=this._tileInfoView.getTileResolution(e.key);await this.subview.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:o,resolution:l}),e.once(\"attach\",(()=>this.requestUpdate())),this.subview.container.addChild(e)}catch(i){a(i)||L.error(i)}this.requestUpdate()}}async _redrawImage(e){if(0===this.subview.container.children.length)return;await this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.subview.container.children.map((async e=>this.subview.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await h(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:b(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this.subview.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,o=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,a=_(t,o);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&g(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=f(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];y(a,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}};e([d()],q.prototype,\"subview\",void 0),e([d()],q.prototype,\"useWebGLForProcessing\",null),e([d()],q.prototype,\"useProgressiveUpdate\",null),q=e([p(\"esri.views.2d.layers.ImageryTileLayerView2D\")],q);var G=q;export{G as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{getDefaultDatumTransformationForDataset as s,projectExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const u=u=>{let p=class extends u{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:a}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a}));const{popupEnabled:s}=a,n=l(a,o);if(!s||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:s,popupTemplate:n});const u=[],{value:p,magdirValue:m}=await a.identify(e);let f=\"\";if(p&&p.length){var c,h;f=\"imagery-tile\"===a.type&&a.hasStandardTime()&&null!=p[0]?p.map((e=>a.getStandardTimeValue(e))).join(\", \"):p.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(c=a.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=a.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==m?void 0:m[0],e[\"Raster.Direction\"]=null==m?void 0:m[1]);const s=new t(this.fullExtent.clone(),null,e);s.layer=a,s.sourceLayer=s.layer,u.push(s)}return u}updateFullExtent(){const e=this.layer.tileInfo;let t;e&&e.spatialReference||(t=new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));const i=s(this.layer.fullExtent,this.view.spatialReference,!1),o=n(this.layer.fullExtent,this.view.spatialReference,i);return null==o&&(t=new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})),this._set(\"fullExtent\",o),this.datumTransformation||(this.datumTransformation=s(this.layer.fullExtent,this.view.spatialReference,!0)),t?Promise.reject(t):Promise.resolve()}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([o()],p.prototype,\"layer\",void 0),e([o()],p.prototype,\"view\",void 0),e([o()],p.prototype,\"fullExtent\",void 0),e([o()],p.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],p.prototype,\"hasTilingEffects\",null),p=e([a(\"esri.views.layers.ImageryTileLayerView\")],p),p};export{u as ImageryTileLayerView,u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),d=e([p(\"esri.views.layers.LayerView\")],d);var u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};e([r({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),e([r({readOnly:!0})],c.prototype,\"version\",null),c=y=e([o(\"esri.views.layers.support.Geometry\")],c);var a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as a}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([o(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/watchUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const a=a=>{let c=class extends a{initialize(){this.handles.add(o(this,\"layer\",\"refresh\",(()=>{this.doRefresh().catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([i(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{a as RefreshableLayerView,a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../core/jsonMap.js\";import{isSome as e}from\"../../../core/maybe.js\";import n from\"../PixelBlock.js\";import{isValidPixelBlock as r}from\"./pixelUtils.js\";const o=new Map;o.set(\"meter-per-second\",1),o.set(\"kilometer-per-hour\",.277778),o.set(\"knots\",.514444),o.set(\"feet-per-second\",.3048),o.set(\"mile-per-hour\",.44704);const a=180/Math.PI,s=5,i=new t({esriMetersPerSecond:\"meter-per-second\",esriKilometersPerHour:\"kilometer-per-hour\",esriKnots:\"knots\",esriFeetPerSecond:\"feet-per-second\",esriMilesPerHour:\"mile-per-hour\"});function h(t,e){return o.get(t)/o.get(e)||1}function l(t){return(450-t)%360}function c(t,e=\"geographic\"){const[n,r]=t,o=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n)*a;return s=(360+s)%360,\"geographic\"===e&&(s=l(s)),[o,s]}function u(t,e=\"geographic\"){let n=t[1];\"geographic\"===e&&(n=l(n)),n%=360;const r=t[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function f(t,e,o=\"geographic\",a=1){if(!r(t))return t;const{pixels:s,width:i,height:h}=t,l=i*h,f=s[0],p=s[1],m=n.createEmptyBand(t.pixelType,l),M=n.createEmptyBand(t.pixelType,l);let x=0;for(let n=0;n<h;n++)for(let t=0;t<i;t++)\"vector-uv\"===e?([m[x],M[x]]=c([f[x],p[x]],o),m[x]*=a):([m[x],M[x]]=u([f[x],p[x]],o),m[x]*=a,M[x]*=a),x++;const d=new n({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[m,M]});return d.updateStatistics(),d}function p(t,e,n=1){if(1===n||!r(t))return t;const o=t.clone(),{pixels:a,width:s,height:i}=o,h=a[0],l=a[1];let c=0;for(let r=0;r<i;r++)for(let t=0;t<s;t++)\"vector-uv\"===e?(h[c]*=n,l[c]*=n):h[c]*=n,c++;return o.updateStatistics(),o}function m(t,n,r,o,a){if(!e(a)||!a.spatialReference.equals(t.spatialReference))return{extent:t,width:n,height:r,resolution:t.width/n};const s=a.xmin,i=a.ymax;o=Math.max(o||0,30);const h=Math.ceil(n*(1/o)),l=Math.ceil(r*(1/o)),c=((t.xmax-t.xmin)/h+(t.ymax-t.ymin)/l)/2;return t.xmin=s+Math.floor((t.xmin-s)/c)*c,t.xmax=s+Math.ceil((t.xmax-s)/c)*c,t.ymin=i+Math.floor((t.ymin-i)/c)*c,t.ymax=i+Math.ceil((t.ymax-i)/c)*c,{extent:t,width:Math.round(t.width/c),height:Math.round(t.height/c),resolution:c}}const M=x(0,0,0);function x(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,a=13*o,s=-7*o,i=-2*o,h=-16*o,l=29,[c,u]=g(0,e+a,n,l),[f,p]=g(t-5.5,e+s,n,l),[m,M]=g(t+5.5,e+s,n,l),[x,d]=g(t-1.5,e+i,n,l),[k,w]=g(t+1.5,e+i,n,l),[y,P]=g(t-1.5,e+h,n,l),[b,I]=g(t+1.5,e+h,n,l);return[c,u,f,p,x,d,k,w,m,M,y,P,b,I]}function d(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,a=5*o,i=20*o,h=25*o,l=45,c=0,u=0,f=2,p=0,m=f*o;let[M,x]=[c+r/2,u-i],[d,k]=[M+f,x],[w,y]=[d-p,k+m],[P,b]=[c-r/2,u-h],[I,v]=[P+p,b-m],A=Math.ceil(t/s),_=Math.floor(A/10);A-=8*_;const U=[],S=[];for(let s=0;s<A/2;s++,_--){_<=0&&A%2==1&&s===(A-1)/2&&(P=c,I=P+p,b=(b+x)/2,v=b-m);const[t,n]=g(P,b,e,l);if(_>0){const[r,o]=g(d,b,e,l),[a,s]=g(M,x,e,l);U.push(r),U.push(o),U.push(t),U.push(n),U.push(a),U.push(s)}else{const[r,o]=g(d,k,e,l),[a,s]=g(w,y,e,l),[i,h]=g(I,v,e,l);S.push(t),S.push(n),S.push(i),S.push(h),S.push(a),S.push(s),S.push(r),S.push(o)}b+=a,x+=a,k+=a,y+=a,v+=a}const[D,F]=g(c+r/2,u+i,e,l),j=r/2+f,[N,T]=g(c+j,u+i,e,l),[q,B]=g(c+r/2,u-h,e,l),[E,J]=g(c+j,u-h,e,l);return{pennants:U,barbs:S,shaft:[D,F,N,T,q,B,E,J]}}function g(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,a=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+a-n)%(2*Math.PI)]}const k=[0,1,3,6,10,16,21,27,33,40,47,55,63],w=[0,.5,1,1.5,2],y=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(t,e,n,r){const o=h(r||\"knots\",n);let a;for(a=1;a<e.length;a++)if(a===e.length-1){if(t<e[a]*o)break}else if(t<=e[a]*o)break;return Math.min(a-1,e.length-2)}function b(t,e,n,r,o){let a=0;switch(e){case\"beaufort_kn\":a=P(t,k,\"knots\",n);break;case\"beaufort_km\":a=P(t,k,\"kilometer-per-hour\",n);break;case\"beaufort_ft\":a=P(t,k,\"feet-per-second\",n);break;case\"beaufort_m\":a=P(t,k,\"meter-per-second\",n);break;case\"classified_arrow\":a=P(t,o,r,n);break;case\"ocean_current_m\":a=P(t,w,\"meter-per-second\",n);break;case\"ocean_current_kn\":a=P(t,y,\"knots\",n)}return a}function I(t,e){const{style:n,inputUnit:r,outputUnit:o,breakValues:a}=e,s=i.fromJSON(r),h=i.fromJSON(o),l=7*6,c=15;let u=0,f=0;const{width:p,height:m,mask:x}=t,d=t.pixels[0],g=t.pixels[1],k=x?x.filter((t=>t>0)).length:p*m,w=new Float32Array(k*l),y=new Uint32Array(c*k);for(let i=0;i<m;i++)for(let t=0;t<p;t++){const e=i*p+t;if(!x||x[i*p+t]){var P;const r=null!=(P=(g[e]+360)%360/180*Math.PI)?P:2*Math.PI*Math.random(),o=b(d[e],n,s,h,a);for(let n=0;n<M.length;n+=2)w[u++]=(t+.5)/p,w[u++]=(i+.5)/m,w[u++]=M[n],w[u++]=M[n+1]+r,w[u++]=o,w[u++]=d[e];const c=7*(u/l-1);y[f++]=c,y[f++]=c+1,y[f++]=c+2,y[f++]=c+0,y[f++]=c+4,y[f++]=c+3,y[f++]=c+0,y[f++]=c+2,y[f++]=c+3,y[f++]=c+2,y[f++]=c+5,y[f++]=c+3,y[f++]=c+5,y[f++]=c+6,y[f++]=c+3}}return{vertexData:w,indexData:y}}const v=[];function A(t,e){if(0===v.length)for(let s=0;s<30;s++)v.push(d(5*s,0));const n=h(i.fromJSON(e.inputUnit),\"knots\"),{width:r,height:o,mask:a}=t,l=t.pixels[0],c=t.pixels[1],u=6,f=[],p=[];let m=0,M=0;for(let i=0;i<o;i++)for(let t=0;t<r;t++){const e=i*r+t,h=l[e]*n;if((!a||a[i*r+t])&&h>=s){var x;const n=null!=(x=(c[e]+360)%360/180*Math.PI)?x:2*Math.PI*Math.random(),{pennants:a,barbs:s,shaft:l}=v[Math.min(Math.floor(h/5),29)];if(a.length+s.length===0)continue;let d=f.length/u;const g=(t+.5)/r,k=(i+.5)/o;for(let t=0;t<a.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=a[t],f[m++]=a[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<s.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=s[t],f[m++]=s[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<l.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=l[t],f[m++]=l[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<a.length/6;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,d+=3;for(let t=0;t<s.length/8;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+2,p[M++]=d+3,d+=4;p[M++]=d+0,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+3,p[M++]=d+2,d+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function _(t,e){const n=4*6;let r=0,o=0;const{width:a,height:i,mask:h}=t,l=t.pixels[0],c=[],u=[],f=\"wind_speed\"===e.style?s:Number.MAX_VALUE;for(let s=0;s<i;s++)for(let t=0;t<a;t++){const e=s*a+t;if((!h||h[s*a+t])&&l[e]<f){for(let n=0;n<4;n++)c[r++]=(t+.5)/a,c[r++]=(s+.5)/i,c[r++]=n<2?-.5:.5,c[r++]=n%2==0?-.5:.5,c[r++]=0,c[r++]=l[e];const h=4*(r/n-1);u[o++]=h,u[o++]=h+1,u[o++]=h+2,u[o++]=h+1,u[o++]=h+2,u[o++]=h+3}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(u)}}function U(t,e){return\"simple_scalar\"===e.style?_(t,e):\"wind_speed\"===e.style?A(t,e):I(t,e)}function S(t,e,r,o=[0,0],a=.5){const{width:s,height:i,mask:h}=t,[l,f]=t.pixels,[p,m]=o,M=Math.round((s-p)/r),x=Math.round((i-m)/r),d=M*x,g=new Float32Array(d),k=new Float32Array(d),w=new Uint8Array(d),y=\"vector-uv\"===e;for(let n=0;n<x;n++)for(let t=0;t<M;t++){let e=0;const o=n*M+t,x=Math.max(0,n*r+m),d=Math.max(0,t*r+p),P=Math.min(i,x+r),b=Math.min(s,d+r);for(let t=x;t<P;t++)for(let n=d;n<b;n++){const r=t*s+n;if(!h||h[r]){e++;const t=y?[l[r],f[r]]:[l[r],(360+f[r])%360],[n,a]=y?t:u(t);g[o]+=n,k[o]+=a}}if(e>=(P-x)*(b-d)*(1-a)){w[o]=1;const[t,n]=c([g[o]/e,k[o]/e]);g[o]=t,k[o]=n}else w[o]=0,g[o]=0,k[o]=0}const P=new n({width:M,height:x,pixels:[g,k],mask:w});return P.updateStatistics(),P}export{f as convertVectorFieldData,p as convertVectorFieldUnit,U as createVFMesh,_ as createVFMeshScalar,h as getUnitConversionFactor,S as sampleVectorField,m as snapImageToSymbolTile,i as unitKebabDict,c as uvComponentToVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as t,isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isLoaded as r,isSupported as i,load as a,getTransformation as s,project as l}from\"../../../geometry/projection.js\";import{project as c}from\"../../../geometry/support/webMercatorUtils.js\";import x from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";const f=5e-4,u=function(e,t){const n=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||n)},p=function(e,t){const n=(e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4,o=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs(n-e[2*t.rows+2]),Math.abs(o-e[2*t.rows+3])]},h={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},y=32;async function M(){if(r()||!i())return null;await a()}function d(t,n,o){if(!u(t.spatialReference,n))return null;if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?s(n,t.spatialReference,t):s(t.spatialReference,n,t)}function g(n,o,i,a=null){if(n.spatialReference.equals(o))return n;const s=u(n.spatialReference,o);if(s&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const m=i.center,f=new x({xmin:m.x-n.x/2,xmax:m.x+n.x/2,ymin:m.y-n.y/2,ymax:m.y+n.y/2,spatialReference:n.spatialReference}),p=s?l(f,o,a):c(f,o);if(t(p))return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,t=.01){return o(e)?t/o(e):0}function R(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;let x=c(n,o);if(t(x)){if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");x=l(n,o,i)}if(a&&o.isGeographic){const[e,t]=N(s,!0),o=w(s);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<f?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<f&&(x.x+=360))}return x}function j(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new x({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function b(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=z(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return v(e,t,o,r);return j(e.clone().normalize().map((e=>v(e,t,o,r))))}function v(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;if(u(s,o)&&!r())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");let x=c(n,o);t(x)&&(x=l(n,o,i));let[p,h]=N(s,!0);if(x&&a&&s.isWebMercator&&o.isGeographic&&null!=p&&null!=h){const e=.001,t=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>t&&Math.abs(180-x.xmax)<f){x.xmin=-180;const e=[];e.push(new m(n.xmax,n.ymin,s)),e.push(new m(n.xmax,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmax,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmax=Math.max.apply(null,t)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>t&&Math.abs(180+x.xmin)<f){x.xmax=180;const e=[];e.push(new m(n.xmin,n.ymin,s)),e.push(new m(n.xmin,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmin,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmin=Math.min.apply(null,t)}}[p,h]=N(o,!0);const y=w(o);return y&&null!=p&&null!=h&&(Math.abs(x.xmin-p)<y&&(x.xmin=p),Math.abs(x.xmax-h)<y&&(x.xmax=h)),x}function S(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*h[e.wkid]||null}function N(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function W(e,t,n,o){let r=(e-t)/n;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function z(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return W(e.xmax,r,o,!0)-W(e.xmin,r,o,!1)}function G(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const f=[],u=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=u?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,u=(c-Math.round(h/m)%c)%c;f.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:u,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:f,hasGCSSShiftTransform:u}}function P(t,o,i,a=null,s=null,l=!1,c=[y,y]){if(u(t.spatialReference,o.spatialReference)&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&o&&i))return null;const{xmin:x,ymin:f,xmax:h,ymax:M}=t,d=t.spatialReference,g=o.spatialReference,w=S(g);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((h-x)/j.x-.1/c[0])+1,rows:Math.ceil((M-f)/j.y-.1/c[1])+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let r=0;r<b.rows;r++){let i=R(new m({x:x+v*e,y:M-N*r,spatialReference:d}),g,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[r]&&n(w)&&i.x<z[r].x&&(i.x+=w),i?(W.push((i.x-o.xmin)/(o.xmax-o.xmin)),W.push((o.ymax-i.y)/(o.ymax-o.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=p(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let t=0;t<b.rows-1;t++){let n=e*b.rows*2+2*t;const o=W[n],r=W[n+1],i=W[n+2],a=W[n+3];n+=2*b.rows;const s=W[n],l=W[n+1],c=W[n+2],x=W[n+3];let m=0,f=12*(t*(b.cols-1)+e);for(let e=0;e<3;e++)C[f++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function C(e){const t=e.clone().normalize();return 1===t.length?t[0]:j(t)}function L(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,x=(i.x+i.y)/2;if(n<=x)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=x;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const f=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new m({x:f.x,y:f.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,x=Math.log(e.y/i.y)/Math.LN2,f=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,x)):\"up\"===o?Math.ceil(Math.max(c,x)):Math.round((c+x)/2),a<0?a=0:a>f&&(s=a>f+3,a=f);const u=2**a;return{pyramidLevel:a,pyramidResolution:new m({x:u*t.nativePixelSize.x,y:u*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function k(e,t,n=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new m({x:s.x,y:s.y,spatialReference:a}),t,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,x=o(t),f=c*x*96*39.37,u=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=b(i,t);p||r&&(t.isGeographic||t.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=f;const d=1.001;if(p){M=u;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*x*39.37),o=t.isGeographic?4326:3857;y=g(new m({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/n,y.y*=M/n}else{y={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;M<u*(d/2)&&n<t;)n++,M*=2,y.x*=2,y.y*=2;Math.max(M,u)/Math.min(M,u)<=d&&(M=u)}const w=[M],R=[{x:y.x,y:y.y}],j=70.5310735,v=Math.min(j,f)/d;for(;M>=v;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{k as computeProjectedScales,y as defaultGridSpacing,d as getDefaultDatumTransformationForDataset,P as getProjectionOffsetGrid,G as getRasterDatasetAlignmentInfo,z as getWorldWrapCount,M as load,b as projectExtent,R as projectPoint,g as projectResolution,C as snapExtent,L as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n"],"sourceRoot":""}