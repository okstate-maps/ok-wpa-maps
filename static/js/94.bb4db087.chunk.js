(this["webpackJsonpok-wpa-maps"]=this["webpackJsonpok-wpa-maps"]||[]).push([[94],{523:function(n,t,e){"use strict";e.r(t),e.d(t,"previewCIMSymbol",(function(){return f}));var r=e(4),a=e.n(r),u=e(9),i=e(35),o=e(1026),c=e(444),l=new o.CIMSymbolRasterizer(null,!0),s=120;function f(n){return m.apply(this,arguments)}function m(){return m=Object(u.a)(a.a.mark((function n(t){var e,r,u,o,f,m,p,h,g,d,y,v,b,O,x,j,w,M,z,k=arguments;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=k.length>1&&void 0!==k[1]?k[1]:{},r=e.size,u=e.maxSize,o=e.node,f=e.opacity,m=e.cimOptions||e,p=m.feature,h=m.fieldMap,g=m.geometryType,d=m.style,y=Object(c.b)(t),(v=Math.min(null!=r?r:y,null!=u?u:Object(i.h)(s)))!==y&&(t=t.clone(),Object(c.d)(t,v,{preserveOutlineWidth:!0})),b=3,t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(b=1),n.next=7,l.rasterizeCIMSymbolAsync(t,p,h,g,{scaleFactor:b,style:d});case 7:return O=n.sent,(x=document.createElement("canvas")).width=O.imageData.width,x.height=O.imageData.height,x.getContext("2d").putImageData(O.imageData,0,0),j=x.width/b,w=x.height/b,null==r||null!=(null==e?void 0:e.scale)&&!(null==e?void 0:e.scale)||(j=(M=j/w)<=1?Math.ceil(v*M):v,w=M<=1?v:Math.ceil(v/M)),z=new Image(j,w),n.abrupt("return",(z.src=x.toDataURL(),null!=f&&(z.style.opacity="".concat(f)),o&&o.appendChild(z),z));case 15:case"end":return n.stop()}}),n)}))),m.apply(this,arguments)}},566:function(n,t,e){"use strict";e.d(t,"a",(function(){return x})),e.d(t,"b",(function(){return v})),e.d(t,"c",(function(){return l})),e.d(t,"d",(function(){return j})),e.d(t,"e",(function(){return w})),e.d(t,"f",(function(){return M})),e.d(t,"g",(function(){return z}));var r=e(23),a=e(7),u=e(73);var i=function(n,t,e){return[t,e]},o=function(n,t,e){return[t,e,n[2]]},c=function(n,t,e){return[t,e,n[2],n[3]]};function l(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}:null}function s(n,t){var e=n.scale,r=n.translate;return Math.round((t-r[0])/e[0])}function f(n,t){var e=n.scale,r=n.translate;return Math.round((r[1]-t)/e[1])}function m(n,t,e){for(var r,a,u,i,o=[],c=0;c<e.length;c++){var l=e[c];c>0?(u=s(n,l[0]),i=f(n,l[1]),u===r&&i===a||(o.push(t(l,u-r,i-a)),r=u,a=i)):(r=s(n,l[0]),a=f(n,l[1]),o.push(t(l,r,a)))}return o.length>0?o:null}function p(n,t){var e=n.scale,r=n.translate;return t*e[0]+r[0]}function h(n,t){var e=n.scale;return n.translate[1]-t*e[1]}function g(n,t,e){var a=new Array(e.length);if(!e.length)return a;var u=Object(r.a)(n.scale,2),i=u[0],o=u[1],c=p(n,e[0][0]),l=h(n,e[0][1]);a[0]=t(e[0],c,l);for(var s=1;s<e.length;s++){var f=e[s];c+=f[0]*i,l-=f[1]*o,a[s]=t(f,c,l)}return a}function d(n,t,e){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=g(n,t,e[a]);return r}function y(n,t,e,r,a){return t.points=function(n,t,e,r){return m(n,e?r?c:o:r?o:i,t)}(n,e.points,r,a),t}function v(n,t,e,r,a){return t.x=s(n,e.x),t.y=f(n,e.y),t!==e&&(r&&(t.z=e.z),a&&(t.m=e.m)),t}function b(n,t,e,r,a){var u=function(n,t,e,r){for(var a=[],u=e?r?c:o:r?o:i,l=0;l<t.length;l++){var s=m(n,u,t[l]);s&&s.length>=3&&a.push(s)}return a.length?a:null}(n,e.rings,r,a);return u?(t.rings=u,t):null}function O(n,t,e,r,a){var u=function(n,t,e,r){for(var a=[],u=e?r?c:o:r?o:i,l=0;l<t.length;l++){var s=m(n,u,t[l]);s&&s.length>=2&&a.push(s)}return a.length?a:null}(n,e.paths,r,a);return u?(t.paths=u,t):null}function x(n,t){return n&&t?Object(u.f)(t)?v(n,{},t,!1,!1):Object(u.h)(t)?O(n,{},t,!1,!1):Object(u.g)(t)?b(n,{},t,!1,!1):Object(u.e)(t)?y(n,{},t,!1,!1):Object(u.d)(t)?function(n,t,e,r,a){return t.xmin=s(n,e.xmin),t.ymin=f(n,e.ymin),t.xmax=s(n,e.xmax),t.ymax=f(n,e.ymax),t!==e&&(r&&(t.zmin=e.zmin,t.zmax=e.zmax),a&&(t.mmin=e.mmin,t.mmax=e.mmax)),t}(n,{},t,!1,!1):null:null}function j(n,t,e,r,u){return Object(a.k)(e)&&(t.points=function(n,t,e,r){return g(n,e?r?c:o:r?o:i,t)}(n,e.points,r,u)),t}function w(n,t,e,r,u){return Object(a.j)(e)||(t.x=p(n,e.x),t.y=h(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m))),t}function M(n,t,e,r,u){return Object(a.k)(e)&&(t.rings=function(n,t,e,r){return d(n,e?r?c:o:r?o:i,t)}(n,e.rings,r,u)),t}function z(n,t,e,r,u){return Object(a.k)(e)&&(t.paths=function(n,t,e,r){return d(n,e?r?c:o:r?o:i,t)}(n,e.paths,r,u)),t}},584:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e(10),a=e(18),u=e(11),i=e(566);function o(n,t,e,a,i){var o=n.referencesGeometry()&&i?l(t,a,i):t,c=n.repurposeFeature(o);try{return n.evaluate(Object(r.a)(Object(r.a)({},e),{},{$feature:c}))}catch(s){return u.a.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",s),null}}var c=new Map;function l(n,t,e){var o=e.transform,l=e.hasZ,s=e.hasM;c.has(t)||c.set(t,function(n){var t={};switch(n){case"esriGeometryPoint":return function(n,e,r,a){return Object(i.e)(e,t,n,r,a)};case"esriGeometryPolygon":return function(n,e,r,a){return Object(i.f)(e,t,n,r,a)};case"esriGeometryPolyline":return function(n,e,r,a){return Object(i.g)(e,t,n,r,a)};case"esriGeometryMultipoint":return function(n,e,r,a){return Object(i.d)(e,t,n,r,a)};default:return u.a.getLogger("esri.views.2d.support.arcadeOnDemand").error(new a.a("mapview-arcade","Unable to handle geometryType: ".concat(n))),function(n){return n}}}(t));var f=c.get(t)(n.geometry,o,l,s);return Object(r.a)(Object(r.a)({},n),{},{geometry:f})}}}]);
//# sourceMappingURL=94.bb4db087.chunk.js.map