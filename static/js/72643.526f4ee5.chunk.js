"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[72643],{5539:(e,t,r)=>{r.r(t),r.d(t,{DrawScreenTool:()=>m,geometryTypeToDrawOperationGeometryType:()=>w});var o=r(6326),n=r(54901),i=r(30726),s=r(46053),l=(r(81806),r(76460),r(47249),r(87990)),a=r(99809),c=r(91554),u=r(66812),d=r(48384),p=r(42151),h=r(46975),v=r(91967),g=r(2413),y=(r(15187),r(54761));let f=class extends v.A{constructor(e){super(e),this.coordinates=void 0,this.strokeDash=[],this.strokeWidth=1,this.strokeColor=[0,0,0,1],this.strokeDashColor=[255,255,255,1],this.fillColor=[0,0,0,0],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const e=this.strokeColor;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}get _strokeBackgroundStyle(){const e=this.strokeDashColor;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}get _fillStyle(){const e=this.fillColor;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}get _renderCoordinates(){const e=[];if(!this.coordinates)return{coordinates:e,rect:g.qv};const t=(0,g.eV)((0,g.Jf)((0,g.vt)(g.qv),this.coordinates),2*this.strokeWidth);t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]+.5),t[3]=Math.ceil(t[3]+.5);for(const r of this.coordinates)e.push([Math.floor(r[0]-t[0])+.5,Math.floor(r[1]-t[1])+.5]);return e.reverse(),{coordinates:e,rect:t}}render(){const{coordinates:e,rect:t}=this._renderCoordinates,r=(0,g.VL)(t),o=(0,g.uJ)(t);return(0,y.K)("div",{classes:{"esri-outline-overlay-item":!0},styles:{left:t[0]+"px",top:t[1]+"px",width:r+"px",height:o+"px",visibility:this.visible?"visible":"hidden"}},(0,y.K)("svg",{height:o,styles:{display:"block"},width:r},(0,y.K)("polygon",{fill:this._fillStyle,points:e.map(e=>{let[t,r]=e;return"".concat(t,",").concat(r)}).join(" "),stroke:this._strokeBackgroundStyle,"stroke-width":this.strokeWidth}),(0,y.K)("polygon",{fill:"transparent",points:e.map(e=>{let[t,r]=e;return"".concat(t,",").concat(r)}).join(" "),stroke:this._strokeStyle,"stroke-dasharray":this.strokeDash.length?this.strokeDash.join(" "):void 0,"stroke-width":this.strokeWidth})))}renderCanvas(){}};(0,o.Cg)([(0,s.MZ)()],f.prototype,"coordinates",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"strokeDash",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"strokeWidth",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"strokeColor",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"strokeDashColor",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"fillColor",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"visible",void 0),(0,o.Cg)([(0,s.MZ)()],f.prototype,"isDecoration",void 0),(0,o.Cg)([(0,s.MZ)({readOnly:!0})],f.prototype,"_strokeStyle",null),(0,o.Cg)([(0,s.MZ)({readOnly:!0})],f.prototype,"_strokeBackgroundStyle",null),(0,o.Cg)([(0,s.MZ)({readOnly:!0})],f.prototype,"_fillStyle",null),(0,o.Cg)([(0,s.MZ)({readOnly:!0})],f.prototype,"_renderCoordinates",null),f=(0,o.Cg)([(0,l.$)("esri.views.overlay.OutlineOverlayItem")],f);let m=class extends h.g{constructor(e){super(e),this.drawOperation=null,this._overlayItem=void 0,this.geometryType=null,this.mode=null,this.type="draw-screen"}initialize(){this.drawOperation=this._makeDrawOperation();const e=e=>{var t,r;return null!==(t=null===(r=this.drawOperation)||void 0===r?void 0:r.on(e,t=>{this._updateVisuals(),this.emit(e,t)}))&&void 0!==t?t:(0,n.hA)()};this.addHandles([e("vertex-add"),e("vertex-remove"),e("vertex-update"),e("cursor-update"),e("complete")]),this.finishToolCreation()}destroy(){this.drawOperation=(0,i.pR)(this.drawOperation),this._set("view",null)}get canRedo(){var e;return!(null===(e=this.drawOperation)||void 0===e||!e.canRedo)}get canUndo(){var e;return!(null===(e=this.drawOperation)||void 0===e||!e.canUndo)}set centeredToggled(e){this._set("centeredToggled",e),this._updateVisuals()}set enabled(e){const{drawOperation:t}=this;t&&(t.interactive=e),this._set("enabled",e)}set uniformSizeToggled(e){this._set("uniformSizeToggled",e),this._updateVisuals()}get updating(){var e,t;return null!==(e=null===(t=this.drawOperation)||void 0===t?void 0:t.updating)&&void 0!==e&&e}get cursor(){var e;return null!==(e=this._get("cursor"))&&void 0!==e?e:"crosshair"}set cursor(e){this._set("cursor",e);const{drawOperation:t}=this;t&&(t.cursor=e)}completeCreateOperation(){var e;null===(e=this.drawOperation)||void 0===e||e.complete()}onInputEvent(e){var t;this.destroyed||null===(t=this.drawOperation)||void 0===t||t.onInputEvent(e)}redo(){var e;null===(e=this.drawOperation)||void 0===e||e.redo()}undo(){var e;null===(e=this.drawOperation)||void 0===e||e.undo()}reset(){}_makeDrawOperation(){const{view:e}=this;return new c.O0({view:e,manipulators:this.manipulators,geometryType:w(this.geometryType),drawingMode:this.mode,hasZ:!1,defaultZ:0,snapToSceneEnabled:!1,drawSurface:new u.Sl,hasM:!1,snappingManager:null,snappingVisualizer:null,graphic:null,cursor:this.cursor,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils})}get coordinates(){const{drawOperation:e}=this;if(null===e||void 0===e||!e.geometryIncludingUncommittedVertices.length)return[];const{coordinateHelper:t}=e,r=e.committableVertex,o=e.committedVertices.slice();null!=r&&o.push(t.pointToArray(r));const n=o.length;switch(this.geometryType){case"point":return o.slice(0,1);case"circle":case"rectangle":{const t=new p.vz(a.zK,u.Sl.spatialReference),r="circle"===this.geometryType?d.zV:d.GF,v="circle"===this.geometryType?d.zd:d._T;if(1===n&&e.isCompleted){var i,s;const e=o[0];return null!==(i=null===(s=r([e,t.makeMapPoint(e[0]+C,e[1])],t,!0))||void 0===s?void 0:s.geometry.rings[0])&&void 0!==i?i:[]}if(2===n){var l,c,h;const e="rectangle"!==this.geometryType,n=this.centeredToggled!==e,i="rectangle"!==this.geometryType;return null!==(l=this.uniformSizeToggled!==i?null===(c=r(o,t,n))||void 0===c?void 0:c.geometry.rings[0]:null===(h=v(o,t,n))||void 0===h?void 0:h.geometry.rings[0])&&void 0!==l?l:[]}return[]}}return o}_updateVisuals(){if(!this._overlayItem){var e;const t=new f({strokeDash:[5],strokeDashColor:[255,255,255,255]});null!==(e=this.view.overlay)&&void 0!==e&&e.addItem(t),this.addHandles((0,n.hA)(()=>{var e;null!==(e=this.view.overlay)&&void 0!==e&&e.removeItem(t),null!==t&&void 0!==t&&t.destroy(),this._overlayItem=void 0})),this._overlayItem=t}this._overlayItem.coordinates=this.coordinates}onDeactivate(){var e,t;(null===(e=this.drawOperation)||void 0===e?void 0:e.isCompleted)||null===(t=this.drawOperation)||void 0===t||t.cancel()}};function w(e){switch(e){case"polygon":case"point":return e;case"circle":case"rectangle":return"segment"}}(0,o.Cg)([(0,s.MZ)({value:!1})],m.prototype,"centeredToggled",null),(0,o.Cg)([(0,s.MZ)()],m.prototype,"drawOperation",void 0),(0,o.Cg)([(0,s.MZ)({value:!0})],m.prototype,"enabled",null),(0,o.Cg)([(0,s.MZ)({value:!1})],m.prototype,"uniformSizeToggled",null),(0,o.Cg)([(0,s.MZ)({constructOnly:!0})],m.prototype,"geometryType",void 0),(0,o.Cg)([(0,s.MZ)({constructOnly:!0})],m.prototype,"mode",void 0),(0,o.Cg)([(0,s.MZ)({readOnly:!0})],m.prototype,"type",void 0),(0,o.Cg)([(0,s.MZ)({readOnly:!0})],m.prototype,"updating",null),(0,o.Cg)([(0,s.MZ)({constructOnly:!0,nonNullable:!0})],m.prototype,"view",void 0),(0,o.Cg)([(0,s.MZ)({constructOnly:!0})],m.prototype,"automaticLengthMeasurementUtils",void 0),(0,o.Cg)([(0,s.MZ)()],m.prototype,"cursor",null),m=(0,o.Cg)([(0,l.$)("esri.views.draw.DrawScreenTool")],m);const C=48},5845:(e,t,r)=>{r.d(t,{A:()=>u});var o=r(6326),n=r(69098),i=r(42553),s=r(46053),l=(r(81806),r(76460),r(47249),r(6409)),a=r(87990),c=r(9392);let u=class extends((0,n.OU)(i.o)){constructor(e){super(e),this.type="local",this.origin=(0,c.vt)()}};(0,o.Cg)([(0,l.e)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,o.Cg)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,o.Cg)([(0,a.$)("esri.geometry.support.MeshLocalVertexSpace")],u)},14894:(e,t,r)=>{r.d(t,{A:()=>d});var o,n,i=r(6326),s=r(69098),l=r(42553),a=r(46053),c=(r(81806),r(76460),r(47249),r(6409)),u=r(87990);let d=(n=o=class extends((0,s.OU)(l.o)){constructor(e){super(e),this.type="georeferenced",this.origin=null}},o.absolute=new n,o);(0,i.Cg)([(0,c.e)({georeferenced:"georeferenced"},{readOnly:!0})],d.prototype,"type",void 0),(0,i.Cg)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],d.prototype,"origin",void 0),d=n=(0,i.Cg)([(0,u.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],d)},22375:(e,t,r)=>{r.d(t,{R:()=>a,b:()=>c});var o=r(44680),n=r(86300),i=r(52796),s=r(10484),l=r(83658);function a(e,t,r,o,n,a,u,d){const p=null!==t&&void 0!==t?t:r.leftVertex.pos,h=(0,s.aO)(e)?(0,i.XE)(p,e):e,[v,g,y,f,m,w,C]=h.a,M=null!==m&&void 0!==m?m:0,k=null!==w&&void 0!==w?w:Math.hypot(v[0]-g[0],v[1]-g[1]),O=null!==C&&void 0!==C?C:1,_=c(o[0],o[1],n[0],n[1],a[0],a[1],u,d);return(0,l.H8)(p,{a:[v,g,y,f,M,k,O]},_)}function c(e,t,r,i,s,l,a,c){const u=(0,o.fA)(1,0,0,0,1,0,-e,-t,1),d=a-1,p=(0,o.fA)(r*r*d+1,i*r*d,0,r*i*d,i*i*d+1,0,0,0,1),h=c-1,v=(0,o.fA)(s*s*h+1,l*s*h,0,s*l*h,l*l*h+1,0,0,0,1),g=(0,o.fA)(1,0,0,0,1,0,e,t,1),y=(0,o.vt)();return(0,n.lK)(y,p,u),(0,n.lK)(y,v,y),(0,n.lK)(y,g,y),y}},31287:(e,t,r)=>{r.d(t,{FM:()=>a,MJ:()=>s,bH:()=>l});var o=r(44680),n=r(19555),i=r(83658);function s(e,t,r,n){const[s,l,a,c,u,d,p]=t.a,h=null!==u&&void 0!==u?u:0,v=null!==d&&void 0!==d?d:Math.hypot(s[0]-l[0],s[1]-l[1]),g=null!==p&&void 0!==p?p:1,y=Math.cos(n),f=Math.sin(n),[m,w]=r,C=(0,o.fA)(y,f,0,-f,y,0,m-y*m+f*w,w-f*m-y*w,1);return(0,i.H8)(e,{a:[s,l,a,c,h,v,g]},C)}function l(e,t,r){const[o,i,s]=e.b,l=[...o],a=[...i],c=[...s];return(0,n.e$)(l,l,t,r),(0,n.e$)(a,a,t,r),(0,n.e$)(c,c,t,r),{b:[l,a,c]}}function a(e,t,r){const[o,i]=e.c,s=[...o],l=[...i];return(0,n.e$)(s,s,t,r),(0,n.e$)(l,l,t,r),{c:[s,l]}}},74e3:(e,t,r)=>{r.d(t,{CI:()=>i,fk:()=>s});r(81806);var o=r(15941),n=r(80963);function i(e,t){return e===t||null!=e&&null!=t&&(0,n.aI)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function s(e,t,r){var i,s,l,a;return e===t||null!=e&&null!=t&&(0,n.aI)(e.spatialReference,t.spatialReference)&&(0,o.Sp)(e.x,t.x,r)&&(0,o.Sp)(e.y,t.y,r)&&(0,o.Sp)(null!==(i=e.z)&&void 0!==i?i:0,null!==(s=t.z)&&void 0!==s?s:0,r)&&(0,o.Sp)(null!==(l=e.m)&&void 0!==l?l:0,null!==(a=t.m)&&void 0!==a?a:0,r)}},89646:(e,t,r)=>{r.d(t,{$h:()=>h,Ef:()=>k,IP:()=>g,P1:()=>w,hF:()=>M,jQ:()=>m,rT:()=>C,uR:()=>y});var o=r(73582),n=r(24648),i=r(31633),s=r(19555),l=r(72745),a=r(20664),c=r(9392),u=r(14487),d=r(7137),p=r(80963);function h(e,t){if(null==e||null==t)return;const r=v(e,t);return null!=r?(0,n.Wq)(r,"radians","geographic"):void 0}const v=(()=>{const e=(0,c.vt)(),t=(0,c.vt)();return(r,o)=>{var n,i;return(0,a.j)(e,r.x,r.y,null!==(n=r.z)&&void 0!==n?n:0),(0,a.j)(t,o.x,o.y,null!==(i=o.z)&&void 0!==i?i:0),g(e,t,r.spatialReference,o.spatialReference)}})(),g=(()=>{const e=(0,l.vt)(),t=(0,c.vt)(),r=(0,c.vt)();return(o,n,c,h)=>{if((0,a.q)(o,n))return;const v=(0,d.Xn)(c),g=(0,d.Xn)(h);if(v&&g&&(0,p.aI)(v,g)&&(0,u.F)(o,c,t,v)&&(0,u.F)(n,h,r,g)){const{azimuth:e}=(0,d._3)(_,t,r,v);return null!=e?(0,i.oU)(e,"degrees","radians"):void 0}e[0]=n[0]-o[0],e[1]=n[1]-o[1];let y=(0,s.g7)(l.JP,e);return e[0]<0&&(y=b-y),y}})();function y(e,t,r){if(t&&r)switch(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"absolute"){case"absolute":return h(t,r);case"relative":return m(f(e,t,r),"relative");case"relative-bilateral":return m(f(e,t,r),"relative-bilateral")}}function f(e,t,r){if(!e||!t||!r)return;const o=v(e,t),i=v(t,r);return null!=o&&null!=i?(0,n.Wq)(i-o,"radians","geographic"):void 0}function m(e,t){if(null!=e)switch(t){case"absolute":return w(e);case"relative":{const t=M(e);let r=Z.normalize(t,0,!0);return-180===r&&(r=180),(0,n.Wq)(r,"degrees","geographic")}case"relative-bilateral":{const t=M(e),r=Math.abs(Z.normalize(t,0,!0));return(0,n.Wq)(r,"degrees","geographic")}}}function w(e){const t=M(e),r=T.normalize(t,0,!0);return(0,n.Wq)(r,"degrees","geographic")}const C=(()=>{const e=(0,c.vt)();return function(t,r,o,s,l){let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"geodesic";(0,a.d)(e,r);const p=M(l);if("geodesic"===c){const n=(0,d.Xn)(o);if(n&&(0,u.F)(e,o,e,n))return(0,d.vN)(t,e,p,s,n),t[2]=r[2],!!(0,u.F)(t,n,t,o)}const h=(0,n.g2)(p,"geographic","arithmetic"),v=(0,i.oU)(h,"degrees","radians"),g=r[0]+s*Math.cos(v),y=r[1]+s*Math.sin(v),f=r[2];return(0,a.j)(t,g,y,f),!0}})();function M(e){if(null!=e)return(0,n.g2)(O(e),e.rotationType,"geographic")}function k(e){if(null!=e)return(0,n.g2)(O(e),e.rotationType,"arithmetic")}function O(e){return(0,i.oU)(e.value,e.unit,"degrees")}const _=new d.Zj,b=2*Math.PI,T=o.ie,Z=new o.hr(-180,180)},99773:(e,t,r)=>{r.d(t,{CK:()=>c,E9:()=>l,Hq:()=>a,MW:()=>u,TE:()=>d,yJ:()=>p});var o=r(20664),n=r(19247),i=r(14894),s=r(5845);function l(e){return null==e.origin}function a(e){return null!=e.origin}function c(e){return a(e.vertexSpace)}function u(e,t){if(!a(e))return null;const[r,o,i]=e.origin;return new n.A({x:r,y:o,z:i,spatialReference:t})}function d(e,t){var r;const{x:o,y:n,z:l,spatialReference:a}=e,c=[o,n,null!==l&&void 0!==l?l:0];return"local"===(null!==(r=null===t||void 0===t?void 0:t.vertexSpace)&&void 0!==r?r:function(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}(a))?new s.A({origin:c}):new i.A({origin:c})}function p(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,o.q)(e.origin,t.origin))}}}]);
//# sourceMappingURL=72643.526f4ee5.chunk.js.map