"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[3177],{13177:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var s=i(27366),n=i(93169),r=i(94172),a=(i(32718),i(25243),i(63780),i(10064),i(69912)),l=i(18661),o=i(20089);let u=class extends o.default{initialize(){this.addHandles([(0,r.YP)((()=>this.view.scale),(()=>this._update()),r.nn)],"constructor")}isUpdating(){var e;const t=this.layer.sublayers.some((e=>null!=e.renderer)),i=this._commandsQueue.updating,s=null!=this._updatingRequiredFieldsPromise,r=!this._proxy||!this._proxy.isReady,a=this._pipelineIsUpdating,l=null==this.tileRenderer||(null===(e=this.tileRenderer)||void 0===e?void 0:e.updating),o=t&&(i||s||r||a||l);return(0,n.Z)("esri-2d-log-updating")&&console.log("Updating FLV2D: ".concat(o,"\n  -> hasRenderer ").concat(t,"\n  -> hasPendingCommand ").concat(i,"\n  -> updatingRequiredFields ").concat(s,"\n  -> updatingProxy ").concat(r,"\n  -> updatingPipeline ").concat(a,"\n  -> updatingTileRenderer ").concat(l,"\n")),o}_injectOverrides(e){let t=super._injectOverrides(e);const i=this.view.scale,s=this.layer.sublayers.filter((e=>function(e,t){return!e.visible||0!==e.minScale&&t>e.minScale||0!==e.maxScale&&t<e.maxScale}(e,i))).map((e=>e.subtypeCode));if(!s.length)return t;t=null!=t?t:(new l.Z).toJSON();const n="NOT ".concat(this.layer.subtypeField," IN (").concat(s.join(","),")");return t.where=t.where?"(".concat(t.where,") AND (").concat(n,")"):n,t}_setLayersForFeature(e){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),i=e.attributes[t.name],s=this.layer.sublayers.find((e=>e.subtypeCode===i));e.layer=e.sourceLayer=s}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))},t=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),i=this.layer.sublayers.length?"".concat(this.layer.subtypeField," IN (").concat(t,")"):"1=2";let s=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return s+=i,{...super._createSchemaConfig(),...e,definitionExpression:s}}};u=(0,s._)([(0,a.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],u);const d=u}}]);
//# sourceMappingURL=3177.2c155bff.chunk.js.map