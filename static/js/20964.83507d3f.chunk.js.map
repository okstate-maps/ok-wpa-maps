{"version":3,"file":"static/js/20964.83507d3f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/layers/save/imageryUtils.js","../node_modules/@arcgis/core/layers/save/utils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach(({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)})}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getPrimaryRasters as r}from\"../support/rasterDatasets/datasetUtils.js\";import{getWGS84ExtentForItem as a,removeTypeKeyword as s,typeKeyword as i,toggleTypeKeyword as y}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",o=\"imagery-layer-save\",m=\"imagery-layer-save-as\",n=\"imagery-tile-layer-save\",c=\"imagery-tile-layer-save-as\",p=\"WCS\",u=\"wcs-layer-save\",g=\"wcs-layer-save-as\";function v(e){if(\"imagery\"===e.type||\"wcs\"===e.type)return{isValid:!0};const{raster:t}=e,a=r(t)[0];return{isValid:\"RasterTileServer\"===a?.datasetFormat&&(\"Raster\"===a.tileType||\"Map\"===a.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function f(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function d(e,t){const{parsedUrl:r,title:l,fullExtent:o}=e;t.url=r.path,t.title||=l;try{t.extent=await a(o)}catch{t.extent=void 0}s(t,i.METADATA),y(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function I(t,r){const a=\"imagery\"===t.type?o:\"imagery-tile\"===t.type?n:u,s=\"wcs\"===t.type?p:l;return e({layer:t,itemType:s,validateLayer:v,createItemData:f,errorNamePrefix:a},r)}async function T(e,r,a){const s=\"imagery\"===e.type?m:\"imagery-tile\"===e.type?c:g,i=\"wcs\"===e.type?p:l;return t({layer:e,itemType:i,validateLayer:v,createItemData:f,errorNamePrefix:s,newItem:r,setItemProperties:d},a)}export{I as save,T as saveAs};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{updateOrigins as t}from\"../../core/accessorSupport/originUtils.js\";import r from\"../../portal/Portal.js\";import a from\"../../portal/PortalItem.js\";import{createForItemWrite as o}from\"../../portal/support/jsonContext.js\";import{addTypeKeyword as i,typeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{evaluateWriteErrors as s}from\"../../webdoc/support/saveUtils.js\";function p(t,r,a){const o=a(t);if(!o.isValid)throw new e(`${r}:invalid-parameters`,o.errorMessage,{layer:t})}async function l(e){const{layer:t,errorNamePrefix:r,validateLayer:a}=e;await t.load(),p(t,r,a)}function m(e,t){return`Layer (title: ${e.title}, id: ${e.id}) of type '${e.declaredClass}' ${t}`}function c(t){const{item:r,errorNamePrefix:a,layer:o,validateItem:i}=t;if(u(t),i){const t=i(r);if(!t.isValid)throw new e(`${a}:invalid-parameters`,t.errorMessage,{layer:o})}}function u(t){const{item:r,itemType:a,additionalItemType:o,errorNamePrefix:i,layer:n}=t,s=[a];if(o&&s.push(o),!s.includes(r.type)){const t=s.map(e=>`'${e}'`).join(\", \");throw new e(`${i}:portal-item-wrong-type`,`Portal item type should be one of: \"${t}\"`,{item:r,layer:n})}}function f(t){const{layer:r,errorNamePrefix:a}=t,{portalItem:o}=r;if(!o)throw new e(`${a}:portal-item-not-set`,m(r,\"requires the portalItem property to be set\"));if(!o.loaded)throw new e(`${a}:portal-item-not-loaded`,m(r,\"cannot be saved to a portal item that does not exist or is inaccessible\"));c({...t,item:o})}function d(e){const{newItem:t,itemType:o}=e;let i=a.from(t);return i.id&&(i=i.clone(),i.id=null),i.type??=o,i.portal??=r.getDefault(),c({...e,item:i}),i}function y(e){return o(e,\"portal-item\")}async function w(e,t,r){\"beforeSave\"in e&&\"function\"==typeof e.beforeSave&&await e.beforeSave();const a=e.write({},t);return await Promise.all(t.resources?.pendingOperations??[]),s(t,{errorName:\"layer-write:unsupported\"},r),a}function I(e){i(e,n.JSAPI),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter((e,t,r)=>r.indexOf(e)===t))}async function v(e,t,r){const a=e.portal;await a.signIn(),await a.user.addItem({item:e,data:t,folder:r?.folder})}async function P(e,r){const{layer:a,createItemData:o,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=e;await l(e),f(e);const m=a.portalItem,c=i?i(m):y(m),u=await w(a,c,{...r,supplementalUnsupportedErrors:p}),d=await o({layer:a,layerJSON:u},m);return await(n?.(a,m,d)),I(m),await m.update({data:d}),t(c),await(s?.(m,c)),m}async function $(e,r){const{layer:a,createItemData:o,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=e;await l(e);const m=d(e),c=i?i(m):y(m),u=await w(a,c,{...r,supplementalUnsupportedErrors:p}),f=await o({layer:a,layerJSON:u},m);return await n(a,m,f),I(m),await v(m,f,r),a.portalItem=m,t(c),await(s?.(m,c)),m}export{v as addItem,m as createErrorMessage,f as ensureItemConfig,p as ensureLayerConfig,w as getLayerJSON,d as getPortalItem,P as save,$ as saveAs,I as setCommonItemProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{getLayersWithChartSupport as r}from\"../../layers/support/layerUtils.js\";async function o(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const t=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function s(r,o,s){let n=(r.messages??[]).filter(({type:e})=>\"error\"===e).map(({name:r,message:o,details:t})=>new e(r,o,t));if(r.blockedRelativeUrls&&(n=n.concat(r.blockedRelativeUrls.map(r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`)))),s){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:o}=s;e&&(n=n.filter(({name:e})=>!(t.has(e)||r.includes(e)))),o&&(n=n.filter(e=>\"web-document-write:property-required\"!==e.name))}if(n.length>0)throw new e(o.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:n})}function n(e){return r(e).some(e=>!!e.charts?.length)}export{o as beforeSave,s as evaluateWriteErrors,n as hasCharts};\n"],"names":["i","writtenProperties","forEach","_ref","target","propName","t","newOrigin","e","r","originOf","updateOrigin","l","v","type","isValid","raster","a","datasetFormat","tileType","errorMessage","f","layerJSON","Promise","resolve","Object","keys","length","async","d","parsedUrl","title","fullExtent","o","url","path","extent","_unused","s","METADATA","y","TILED_IMAGERY","I","layer","itemType","validateLayer","createItemData","errorNamePrefix","T","newItem","setItemProperties","load","concat","p","m","id","declaredClass","c","item","validateItem","additionalItemType","n","push","includes","map","join","u","portalItem","loaded","_objectSpread","_i","_i$type","_i2","_i2$portal","from","clone","portal","getDefault","w","_t$resources$pendingO","_t$resources","beforeSave","write","all","resources","pendingOperations","errorName","JSAPI","typeKeywords","filter","indexOf","P","createJSONContext","saveResources","supplementalUnsupportedErrors","update","data","$","signIn","user","addItem","folder","allLayers","allSettled","Set","_r$messages","messages","_ref2","name","message","details","blockedRelativeUrls","ignoreUnsupported","requiredPropertyChecksDisabled","_ref3","has","errors"],"sourceRoot":""}