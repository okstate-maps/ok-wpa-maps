{"version":3,"file":"static/js/90260.d3b0e360.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js","../node_modules/@arcgis/core/layers/mixins/SceneService.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach(({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)})}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{debounce as i}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{updateOrigins as l}from\"../../core/accessorSupport/originUtils.js\";import p from\"../../geometry/Extent.js\";import c from\"../../geometry/HeightModelInfo.js\";import d from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as m,parse as u,cleanTitle as h}from\"../support/arcgisLayerUrl.js\";import{id as y}from\"../support/commonProperties.js\";import{fetchIndexInfo as f}from\"../support/I3SIndexInfo.js\";import{urlProperty as v,normalizeParsedUrlObject as S}from\"../support/multiLayerServiceUtils.js\";import{getLoader as g}from\"../support/schemaValidatorLoader.js\";import w from\"../../portal/Portal.js\";import x from\"../../portal/PortalItem.js\";import{createForItemWrite as I}from\"../../portal/support/jsonContext.js\";import{saveResources as j,updateItemWithResources as b}from\"../../webdoc/support/resourceUtils.js\";import{evaluateWriteErrors as N}from\"../../webdoc/support/saveUtils.js\";const _=_=>{const A=_;let E=class extends A{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.url=null,this.indexInfo=null,this._debouncedSaveOperations=i(async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}})}readSpatialReference(e,t){return L(t)}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:L(t)}:e;return p.fromJSON(o,r)}const o=t.store,i=L(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some(e=>e<R)?null:new p({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\";return this.parseVersionString(o)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?m(this.url,t.name):t.name;let o=t.name;if(!o&&this.url){const e=u(this.url);null!=e&&(o=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),h(o)}get parsedUrl(){return S(this,{separator:\"layers\"})}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=f(this.parsedUrl?.path??\"\",this.rootNode,e,this.customParameters,this.apiKey,o.getLogger(this),t);const{fullExtent:r}=this;null==r||r.hasZ||this._updateExtent(r,await this.indexInfo)}_updateExtent(e,t){if(\"page\"===t?.type){const r=t.rootIndex%t.pageSize,o=t.rootPage?.nodes?.[r];O(e,o?.obb)}else if(\"node\"===t?.type){const r=t.rootNode?.mbs;if(!Array.isArray(r)||4!==r.length||r[0]<R)return;const o=r[2],i=r[3];e.zmin=o-i,e.zmax=o+i}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl?.path??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&this.url&&(this.url=this.url.replace(/^http:/i,\"https:\"));let o=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl?.path+\"/layer\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}async _saveAs(e,t){const o={...P,...t};let i=x.from(e);if(!i)throw new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\");i.id&&(i=i.clone(),i.id=null);const s=i.portal||w.getDefault();await this._ensureLoadBeforeSave(),i.type=U,i.portal=s;const a=I(i,\"portal-item\",!0),n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),this.url&&(i.url=this.url),i.title||(i.title=this.title),T(i,o,1),await s.signIn(),await s.user.addItem({item:i,folder:o?.folder,data:n}),await j(this.resourceReferences,a),this.portalItem=i,l(a),a.portalItem=i,i}async _save(e){const t={...P,...e};if(!this.portalItem)throw new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\");if(this.portalItem.type!==U)throw new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${U}\"`);await this._ensureLoadBeforeSave();const o=I(this.portalItem,\"portal-item\",!0),i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.url&&(this.portalItem.url=this.url),this.portalItem.title||(this.portalItem.title=this.title),T(this.portalItem,t,0),await b(this.portalItem,i,this.resourceReferences,o),l(o),this.portalItem}async _validateAgainstJSONSchema(e,t,i){const s=i?.validationOptions;N(t,{errorName:\"sceneservice:save\"},{ignoreUnsupported:s?.ignoreUnsupported,supplementalUnsupportedErrors:[\"scenemodification:unsupported\"]});const a=s?.enabled,n=g();if(a&&n){const t=(await n()).validate(e,i.portalItemLayerType);if(!t.length)return;const a=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(o.getLogger(this).error(`_validateAgainstJSONSchema(): ${a}`),\"throw\"===s.failPolicy){const e=t.map(e=>new r(\"sceneservice:schema-validation\",e));throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{validationErrors:e})}}}};return e([s(y)],E.prototype,\"id\",void 0),e([s({type:d})],E.prototype,\"spatialReference\",void 0),e([a(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],E.prototype,\"readSpatialReference\",null),e([s({type:p})],E.prototype,\"fullExtent\",void 0),e([a(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],E.prototype,\"readFullExtent\",null),e([s({readOnly:!0,type:c})],E.prototype,\"heightModelInfo\",void 0),e([s({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],E.prototype,\"minScale\",void 0),e([s({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],E.prototype,\"maxScale\",void 0),e([s({readOnly:!0})],E.prototype,\"version\",void 0),e([a(\"version\",[\"store.version\"])],E.prototype,\"readVersion\",null),e([s({type:String,json:{read:{source:\"copyrightText\"}}})],E.prototype,\"copyright\",void 0),e([s({type:String,json:{read:!1}})],E.prototype,\"sublayerTitleMode\",void 0),e([s({type:String})],E.prototype,\"title\",void 0),e([a(\"portal-item\",\"title\")],E.prototype,\"readTitlePortalItem\",null),e([a(\"service\",\"title\",[\"name\"])],E.prototype,\"readTitleService\",null),e([s({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],E.prototype,\"layerId\",void 0),e([s(v({separator:\"layers\"}))],E.prototype,\"url\",void 0),e([s({readOnly:!0})],E.prototype,\"parsedUrl\",null),e([s({readOnly:!0})],E.prototype,\"store\",void 0),e([s({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],E.prototype,\"rootNode\",void 0),E=e([n(\"esri.layers.mixins.SceneService\")],E),E},R=-1e38;function L(e){if(null!=e.spatialReference)return d.fromJSON(e.spatialReference);const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.slice(r.lastIndexOf(\"/\")+1),10);return null!=o?new d(o):null}function O(e,t){if(null==t?.center||null==t.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(t.center[0]<R)return;const o=t.halfSize,i=t.center[2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);e.zmin=i-s,e.zmax=i+s}function T(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter((e,t,r)=>r.indexOf(e)===t),1===r&&(e.typeKeywords=e.typeKeywords.filter(e=>\"Hosted Service\"!==e)))}const U=\"Scene Service\",P={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{_ as SceneService,U as sceneServiceItemType,O as updateExtentFromPageObb};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map(({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)}))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map(e=>e.resource.path)),i=new Set,m=[];h.forEach(e=>{u.delete(e),o.paths.push(e)});const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push(()=>p(n))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push(()=>t(e.resource)),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push(()=>t(e.resource))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach(e=>e()),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{getLayersWithChartSupport as r}from\"../../layers/support/layerUtils.js\";async function o(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const t=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function s(r,o,s){let n=(r.messages??[]).filter(({type:e})=>\"error\"===e).map(({name:r,message:o,details:t})=>new e(r,o,t));if(r.blockedRelativeUrls&&(n=n.concat(r.blockedRelativeUrls.map(r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`)))),s){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:o}=s;e&&(n=n.filter(({name:e})=>!(t.has(e)||r.includes(e)))),o&&(n=n.filter(e=>\"web-document-write:property-required\"!==e.name))}if(n.length>0)throw new e(o.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:n})}function n(e){return r(e).some(e=>!!e.charts?.length)}export{o as beforeSave,s as evaluateWriteErrors,n as hasCharts};\n"],"names":["i","writtenProperties","forEach","_ref","target","propName","t","newOrigin","e","r","originOf","updateOrigin","n","u","_","A","E","constructor","super","arguments","this","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","url","indexInfo","_debouncedSaveOperations","async","_save","_saveAs","readSpatialReference","L","readFullExtent","o","_objectSpread","p","fromJSON","store","extent","Array","isArray","some","R","xmin","ymin","xmax","ymax","parseVersionString","split","length","parseInt","readVersion","toString","readTitlePortalItem","readTitleService","_this$portalItem","portalItem","m","name","h","parsedUrl","S","separator","_fetchIndexAndUpdateExtent","_this$parsedUrl$path","_this$parsedUrl","f","path","rootNode","customParameters","apiKey","getLogger","hasZ","_updateExtent","type","_t$rootPage","rootIndex","pageSize","rootPage","nodes","O","obb","_t$rootNode","mbs","zmin","zmax","_fetchService","test","_fetchFirstLayerId","_fetchServiceLayer","_this$url","query","token","responseType","signal","data","layers","id","_this$parsedUrl$path2","_this$parsedUrl2","ssl","replace","layerType","_fetchVoxelServiceLayer","read","_getServiceContext","validateLayer","_this$parsedUrl3","_this$portalItem2","origin","portal","_ensureLoadBeforeSave","load","beforeSave","_a$resources$pendingO","P","x","from","clone","s","w","getDefault","U","a","I","write","Promise","all","resources","pendingOperations","_validateAgainstJSONSchema","T","signIn","user","addItem","item","folder","j","resourceReferences","l","_o$resources$pendingO","concat","b","validationOptions","N","errorName","ignoreUnsupported","supplementalUnsupportedErrors","enabled","g","validate","portalItemLayerType","join","error","failPolicy","map","validationErrors","y","prototype","d","readOnly","c","json","origins","service","source","String","isRequired","ignoreOrigin","v","indexCRS","geographicCRS","slice","lastIndexOf","center","halfSize","Math","sqrt","typeKeywords","getTypeKeywords","push","filter","indexOf","floor","nodesPerPage","lodMetric","lodSelectionMetricType","urlPrefix","warn","pop","pageError","nodeError","undefined","itemUrl","start","num","sortOrder","sortField","request","total","nextStart","created","size","resource","Date","resourceFromPath","Map","content","compress","access","hasPath","has","set","prefix","files","get","fileName","userItemUrl","values","FormData","append","method","body","deleteAll","blob","Blob","jsonString","update","Set","paths","toKeep","delete","toUpdate","finish","add","toAdd","addOrUpdateResources","errors","removeResource","allLayers","allSettled","_r$messages","messages","_ref2","message","details","blockedRelativeUrls","requiredPropertyChecksDisabled","_ref3","includes"],"sourceRoot":""}