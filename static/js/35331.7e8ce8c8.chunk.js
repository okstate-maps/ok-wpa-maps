"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[35331],{35331(e,r,t){t.r(r),t.d(r,{reconcile:()=>h,serverVersionCacheMap:()=>d});var s=t(89379),o=t(3825),n=t(50076),i=t(54994),a=t(94487),c=t(6326),p=t(42553),l=t(46053),u=(t(81806),t(76460),t(47249),t(87990));let v=class extends p.o{constructor(e){super(e),this.hasConflicts=!1,this.moment=null,this.didPost=!1,this.success=!1}};(0,c.Cg)([(0,l.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"hasConflicts",void 0),(0,c.Cg)([(0,l.MZ)({type:Date,json:{type:Number,write:{writer:(e,r)=>{r.moment=e?e.getTime():null}}}})],v.prototype,"moment",void 0),(0,c.Cg)([(0,l.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"didPost",void 0),(0,c.Cg)([(0,l.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"success",void 0),v=(0,c.Cg)([(0,u.$)("esri.rest.versionManagement.gdbVersion.support.ReconcileResult")],v);const d=new Map;async function h(e,r,t,c){var p;d.has(e)||await(0,a.t)(d,e);const l=d.get(e);if((null!==(p=null===l||void 0===l?void 0:l.serverVersion)&&void 0!==p?p:0)<=11.1)throw new n.A("reconcile:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n.A("reconcile:missing-guid","guid for version is missing");const u=(0,i.Dl)(e),h=t.toJSON(),g=(0,i.jV)(u.query,(0,s.A)((0,s.A)({query:(0,i.lF)((0,s.A)((0,s.A)({},h),{},{f:"json"}))},c),{},{method:"post"}));r.startsWith("{")&&(r=r.slice(1,-1));const m="".concat(u.path,"/versions/").concat(r,"/reconcile"),{data:w}=await(0,o.A)(m,g);return v.fromJSON(w)}},94487(e,r,t){t.d(r,{t:()=>o});var s=t(3825);async function o(e,r){let t=null;const o="string"==typeof r?r:r.path;if(!e.has(o)){const n=await(0,s.A)(o.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});t={serverVersion:Number(n.data.currentVersion),featureServerUrl:o.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,t)}}}}]);
//# sourceMappingURL=35331.7e8ce8c8.chunk.js.map