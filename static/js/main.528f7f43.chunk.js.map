{"version":3,"sources":["../node_modules/@arcgis/core/node_modules/@stencil/core/internal/client lazy /^/.*$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","IntroJoyride.jsx","loader.svg","FormTemplates.jsx","WebMapView.js","App.js","serviceWorker.js","index.js"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","IntroJoyride","props","useState","content","className","alt","src","process","placement","target","disableBeacon","scale","icon","href","steps","callback","data","status","type","STATUS","FINISHED","SKIPPED","includes","toggleIntro","continuous","floaterProps","disableAnimation","run","runIntro","scrollToFirstStep","showProgress","showSkipButton","styles","options","zIndex","width","_path","CreateFormTemplate","title","elements","label","fieldName","ReviewFormTemplate","fieldInfos","actions","_excluded","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLoader","_ref","svgRef","titleId","x","y","viewBox","ref","fill","d","ForwardRef","getRandomInt","max","Math","floor","random","WebMapView","featureTileUrl","featureVectorUrl","backgroundFeatureUrl","reviewerTableUrl","mapRef","React","createRef","workflow","editThis","bind","incrementReviewerCount","sayThanks","reviewWorkflow","getRandomFeatureForReview","getRandomBackgroundFeature","toggleLoadIndicator","rotationChange","updateTimesChecked","state","updateFeature","mapRotation","backgroundFeatureObjectIds","loadIndicator","that","randomId","objectIds","q","featureVectorLayer","createQuery","where","queryFeatures","response","view","goTo","features","geometry","extent","popup","visible","setState","whenLayerView","layerView","highlightedFeature","highlight","backgroundFeatureExtent","oids","featId","backgroundFeatureLayer","definitionExpression","when","queryExtent","query","spatialRelationship","distance","units","returnCentroid","returnGeometry","resp","queryObjectIds","newLoadVal","oldLoadVal","loadIndicatorWatch","remove","newRot","oldRot","propName","ui","add","compass","prevProps","prevState","snapshot","graphic","Graphic","featureTileLayer","TileLayer","url","map","ArcGISMap","basemap","Basemap","baseLayers","FeatureLayer","MapView","container","current","highlightOptions","color","fillOpacity","dockEnabled","dockOptions","buttonEnabled","breakpoint","Compass","watch","refreshButton","document","createElement","addEventListener","alert","popupTemplate","formTemplate","groupDisplay","on","updatedFeatures","editor","addedFeatures","addedFeatureId","objectId","outFields","feats","setAttribute","creds","userId","edits","updateFeatures","applyEdits","ReactGA","event","category","action","Editor","allowedWorkflows","snappingOptions","enabled","featureSources","layer","layerInfos","allowAttachments","deleteEnabled","supportingWidgetDefaults","featureForm","postInitialize","watchUtils","messages","widgetLabel","addFeature","editFeature","viewModel","sketchViewModel","attributes","newVal","oldVal","editButton","getElementsByClassName","disabled","classList","removeAttribute","popupEnabled","reviewerTable","upFeat","currentTimesChecked","getAttribute","reviewCount","addFeatures","setModalContent","openModal","setTimeout","closeModal","close","activeWorkFlow","startUpdateWorkflowAtFeatureEdit","selectedFeature","spinnerEnabled","arrComp","domNode","evt","preventDefault","Component","config","window","location","protocol","host","pathname","customStyles","top","left","right","bottom","marginRight","transform","App","welcomeScreen","toggleWelcomeScreen","modalIsOpen","setIsOpen","setWorkflow","modalContent","creatorCount","setCreatorCount","setCreds","userName","setUserName","info","setInfo","listOfRandomPraise","randomPraise","signUpUrl","Modal","setAppElement","useEffect","oauth_info","OAuthInfo","appId","esriId","registerOAuthInfos","hash","aURL","vars","hashes","slice","split","parseHashArgs","token","access_token","un","username","exp","expires_in","registerToken","expires","server","getCredential","portalUrl","checkSignInStatus","Portal","load","p","user","fullName","outStatistics","onStatisticField","outStatisticFieldName","statisticType","catch","oauthInfo","isOpen","onAfterOpen","onRequestClose","style","contentLabel","tabIndex","onClick","class","credential","fontSize","destroy","Boolean","hostname","match","initialize","send","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.528f7f43.chunk.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 499;","import React, { useState, useEffect } from 'react';\r\nimport Joyride, { CallBackProps, STATUS, Step, StoreHelpers } from 'react-joyride';\r\nexport function IntroJoyride(props) {\r\n\tconst [steps, setSteps] = useState([\r\n  \r\n    {\r\n      content: \r\n          <div>\r\n            <h1>Draw and transcribe map data</h1>\r\n            <div className='imgContainer'>\r\n              <img alt='Draw a shape representing a \r\n                    parcel of land and transcribe the ' \r\n                  src={process.env.PUBLIC_URL + '/img/wpa3.gif'}/>\r\n            </div>\r\n          </div>,\r\n      placement: 'auto',\r\n      target: '.drawShapes',\r\n      disableBeacon: true\r\n    },    \r\n    // {\r\n    //   content: \r\n    //       <div>\r\n    //         <h1>Draw and transcribe map data</h1>\r\n    //         <div>\r\n              \r\n    //         </div>\r\n    //       </div>,\r\n    //   placement: 'auto',\r\n    //   target: '.drawShapes',\r\n    //   disableBeacon: false\r\n    // },\r\n\r\n    {\r\n      content: \r\n      <div>\r\n        <h1>Review existing entries</h1>\r\n        <h3>If you don't see any errors, click \r\n          <strong>\r\n            <calcite-icon scale='s' icon=\"check\"></calcite-icon>\r\n            Looks Good!\r\n          </strong>\r\n        </h3>\r\n        <div className='imgContainer'>\r\n          <img alt='Reviewing parcels' \r\n               src={process.env.PUBLIC_URL + '/img/wpa7.gif'}/>\r\n        </div>\r\n      </div>,\r\n      placement: 'auto',\r\n      target: '.reviewShapes',\r\n      disableBeacon: true\r\n    \r\n    },\r\n    {\r\n      content: \r\n      <div>\r\n        <h1>Review existing entries</h1>\r\n        <h3>If you see something incorrect or missing, click \r\n          <strong>\r\n            <calcite-icon scale='s' icon=\"pencil\"></calcite-icon>\r\n            Edit feature\r\n          </strong>\r\n        </h3>\r\n        <div className='imgContainer'>\r\n          <img alt='Reviewing parcels' \r\n               src={process.env.PUBLIC_URL + '/img/wpa8.gif'}/>\r\n        </div>\r\n      </div>,\r\n      placement: 'auto',\r\n      target: '.reviewShapes',\r\n      disableBeacon: true\r\n\r\n    },\r\n    {\r\n      content: \r\n      <>\r\n        <h3>Right click and drag to change the rotation of the map.</h3>\r\n        <div className='imgContainer'>\r\n          <img alt='Demonstration of rotating the map' \r\n               src={process.env.PUBLIC_URL + '/img/wpa4.gif'}/>\r\n        </div>\r\n        <p> Press the compass button to reset</p>\r\n      </>,\r\n      placement: 'center',\r\n      target: 'body',\r\n      disableBeacon: true\r\n\r\n    },\r\n    {\r\n      content: \r\n      <>\r\n        <h3>Keep track of your progress.</h3>\r\n        <div className='imgContainer'>\r\n        </div>\r\n        <p>Sign in with your ArcGIS Online account. Or, <a href={\"https://www.arcgis.com/sharing/rest/oauth2/signup?client_id=l3OWRmRCGfkAN4Dh&redirect_uri=http://localhost:3000/ok-wpa-maps&response_type=code\"}>\r\ncreate one</a> for free.</p>\r\n\r\n      </>,\r\n      placement: 'center',\r\n      target: '.trackProgress',\r\n      disableBeacon: true\r\n\r\n    },\r\n    {\r\n      content: \r\n          <div>\r\n            <a href=\"https://info.library.okstate.edu/map-room/wpa-maps\"><h1>Click to learn more about the collection</h1></a>\r\n          </div>,\r\n      placement: 'center',\r\n      target: 'body',\r\n      disableBeacon: true\r\n    },      \r\n    \r\n  ]);\r\n\r\n  function handleJoyrideCallback(data) {\r\n    const { status, type } = data;\r\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED];\r\n    if (finishedStatuses.includes(status)) {\r\n      props.toggleIntro(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n   <Joyride\r\n          callback={handleJoyrideCallback}\r\n          continuous={true}\r\n          floaterProps={{disableAnimation:true}}\r\n          run={props.runIntro}\r\n          scrollToFirstStep={true}\r\n          showProgress={true}\r\n          showSkipButton={true}\r\n          steps={steps}\r\n          styles={{\r\n            options: {\r\n              zIndex: 10000,\r\n              width: 800\r\n            },\r\n          }}\r\n        />\r\n  )\r\n}\r\n\r\nexport default IntroJoyride;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"svg-loader\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 80 80\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"spinner\",\n    fill: \"#Fe5c00\",\n    d: \"M40,72C22.4,72,8,57.6,8,40C8,22.4,   22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2   s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6,   28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoader);\nexport default __webpack_public_path__ + \"static/media/loader.22b7df0d.svg\";\nexport { ForwardRef as ReactComponent };","const editThisAction = {\r\n    title: 'Edit feature',\r\n    id: 'edit-this',\r\n    className: 'esri-icon-edit'\r\n};\r\n\r\nconst thisLooksOkAction = {\r\n    title: 'Looks good!',\r\n    id: 'this-looks-ok',\r\n    className: 'esri-icon-check-mark'\r\n};\r\n\r\nexport const CreateFormTemplate = {\r\n        title: 'Land Info',\r\n        elements: [{ \r\n          type: 'group',\r\n          label: 'Owner Information',\r\n          elements: [\r\n              {\r\n                type: 'field',\r\n                fieldName: 'OwnerLastName',\r\n                id: 'HITHEREIMTHEID',\r\n                label: 'Owner\\'s Last Name (if an individual)'\r\n              },\r\n\r\n              {\r\n                type: 'field',\r\n                fieldName: 'OwnerFirstNameAndMI',\r\n                label: 'Owner\\'s First Name or initials (if an individual)'\r\n              },   \r\n              {\r\n                type: 'field',\r\n                fieldName: 'OwnerOrgName',\r\n                label: 'Owner (if an entity or organization)'\r\n              }\r\n          ]\r\n        },\r\n\r\n        { \r\n          type: 'group',\r\n          label: 'Land and Improvement Valuation',\r\n          elements: [\r\n             {\r\n                type: 'field',\r\n                fieldName: 'LandValue',\r\n                label: 'Land Value'\r\n              },\r\n              {\r\n                type: 'field',\r\n                fieldName: 'ImprovementsValue2',\r\n                label: 'Improvements Value'\r\n              },\r\n          ]\r\n        },\r\n           {\r\n                type: 'field',\r\n                fieldName: 'TaxExempt',\r\n                label: 'Marked with an X?'\r\n              }\r\n        ]\r\n      }\r\n\r\n\r\nexport const ReviewFormTemplate = {\r\n    title: 'Please doublecheck the info below.',\r\n    content: [\r\n      {\r\n        type: 'fields',\r\n        fieldInfos: [\r\n          {\r\n            fieldName: 'OwnerLastName',\r\n            label: 'Owner\\'s Last Name (if an individual)'\r\n          },\r\n\r\n          {\r\n            fieldName: 'OwnerFirstNameAndMI',\r\n            label: 'Owner\\'s First Name or initials (if an individual)'\r\n          },   \r\n          {\r\n            fieldName: 'OwnerOrgName',\r\n            label: 'Owner (if an entity or organization)'\r\n          },\r\n          {\r\n            fieldName: 'LandValue',\r\n            label: 'Land Value'\r\n          },\r\n          {\r\n            fieldName: 'ImprovementsValue2',\r\n            label: 'Improvements Value'\r\n          },\r\n          {\r\n            fieldName: 'TaxExempt',\r\n            label: 'Marked with an X?'\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    //overwriteActions: true,\r\n    actions: [thisLooksOkAction, editThisAction]\r\n}\r\n\r\n\r\n\r\nexport default CreateFormTemplate;","import React from 'react';\r\nimport ReactGA from \"react-ga4\";\r\nimport ArcGISMap from '@arcgis/core/Map';\r\nimport Basemap from '@arcgis/core/Basemap';\r\nimport MapView from '@arcgis/core/views/MapView';\r\nimport FeatureLayer from '@arcgis/core/layers/FeatureLayer';\r\n//import FeatureLayerView from '@arcgis/core/views/layers/FeatureLayerView';\r\nimport TileLayer from '@arcgis/core/layers/TileLayer';\r\nimport Compass from '@arcgis/core/widgets/Compass';\r\nimport Editor from '@arcgis/core/widgets/Editor';\r\n//import Sketch from '@arcgis/core/widgets/Sketch';\r\nimport Graphic from '@arcgis/core/Graphic';\r\n//import DistanceMeasurement2D from '@arcgis/core/widgets/DistanceMeasurement2D';\r\nimport * as watchUtils from \"@arcgis/core/core/watchUtils\";\r\nimport {CreateFormTemplate, ReviewFormTemplate} from './FormTemplates';\r\nimport {ReactComponent as LoadIndicator} from './loader.svg';\r\n\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nexport class WebMapView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    //TODO move these URLs into a separate file\r\n    this.featureTileUrl = 'https://tiles.arcgis.com/tiles/jWQlP64OuwDh6GGX/arcgis/rest/services/_wpa_all_6Aug2020/MapServer';\r\n    this.featureVectorUrl = 'https://services1.arcgis.com/jWQlP64OuwDh6GGX/arcgis/rest/services/WPA_Maps_Land_Parcels_Public/FeatureServer/0';\r\n    this.backgroundFeatureUrl = 'https://services1.arcgis.com/jWQlP64OuwDh6GGX/ArcGIS/rest/services/Oklahoma_Public_Land_Survey_Sections/FeatureServer/0';\r\n    this.reviewerTableUrl = 'https://services1.arcgis.com/jWQlP64OuwDh6GGX/arcgis/rest/services/WPA_Reviewers/FeatureServer/0';\r\n\r\n    this.mapRef = React.createRef();\r\n    this.workflow = props.workflow;\r\n    this.editThis = this.editThis.bind(this);\r\n    this.incrementReviewerCount = this.incrementReviewerCount.bind(this);\r\n    this.sayThanks = this.sayThanks.bind(this);\r\n    this.reviewWorkflow = this.reviewWorkflow.bind(this);\r\n    this.getRandomFeatureForReview = this.getRandomFeatureForReview.bind(this);\r\n    this.getRandomBackgroundFeature = this.getRandomBackgroundFeature.bind(this);\r\n    this.toggleLoadIndicator = this.toggleLoadIndicator.bind(this);\r\n    this.rotationChange = this.rotationChange.bind(this);\r\n    this.updateTimesChecked = this.updateTimesChecked.bind(this);\r\n    this.state = {\r\n      updateFeature: null,\r\n      mapRotation: 0,\r\n      backgroundFeatureObjectIds: null,\r\n      loadIndicator: true\r\n    };\r\n  }\r\n\r\n  getRandomFeatureForReview() {\r\n    var that = this;\r\n    var randomId = getRandomInt(this.objectIds.length - 1);     \r\n    var q = this.featureVectorLayer.createQuery();\r\n    q.where = 'OBJECTID = ' + this.objectIds[randomId];\r\n    this.featureVectorLayer.queryFeatures(q).then((response) => {\r\n      that.view.goTo(response.features[0].geometry.extent);\r\n      that.view.popup.features = response.features;\r\n      that.view.popup.visible = true;\r\n      that.setState({updateFeature: response.features[0]});\r\n      this.view.whenLayerView(this.featureVectorLayer).then(function(layerView){\r\n        that.highlightedFeature = layerView.highlight(response.features[0]);\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  getRandomBackgroundFeature() {\r\n    var backgroundFeatureExtent;\r\n    var oids = this.state.backgroundFeatureObjectIds;\r\n    var featId = oids[getRandomInt(oids.length)];\r\n\r\n    this.backgroundFeatureLayer.definitionExpression = 'OBJECTID = ' + featId;\r\n    \r\n    this.backgroundFeatureLayer\r\n    .when(() =>{\r\n      return this.backgroundFeatureLayer.queryExtent();\r\n    })\r\n    .then((response) => {\r\n      backgroundFeatureExtent = response.extent;\r\n      let query = this.featureVectorLayer.createQuery();\r\n      query.spatialRelationship = 'contains';\r\n      query.distance = 250;\r\n      query.units = 'feet';\r\n      query.returnCentroid = true;\r\n      query.returnGeometry = false;\r\n      query.geometry = response.extent; \r\n      return this.featureVectorLayer.queryFeatures(query)\r\n    }).then((resp) => {\r\n      if (resp.features.length === 0){\r\n        this.view.goTo(backgroundFeatureExtent);\r\n      }\r\n      else {\r\n        this.getRandomBackgroundFeature();\r\n      }\r\n    });\r\n  }\r\n\r\n  reviewWorkflow() {\r\n    var that = this;    \r\n    this.featureVectorLayer.queryObjectIds().then((objectIds) => {\r\n      that.objectIds = objectIds;\r\n      that.getRandomFeatureForReview();\r\n    });\r\n  }\r\n\r\n  toggleLoadIndicator(newLoadVal, oldLoadVal) {\r\n    this.setState({\"loadIndicator\": newLoadVal});\r\n    this.loadIndicatorWatch.remove(); //remove after initial load. It gets too messy IMO \r\n  }\r\n\r\n  rotationChange(newRot, oldRot, propName) {\r\n    if (oldRot === 0 && newRot !== 0) {\r\n      this.view.ui.add(this.compass, 'top-left');\r\n    }\r\n\r\n    if (oldRot !== 0 && newRot === 0) {\r\n      this.view.ui.remove(this.compass);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevState.backgroundFeatureObjectIds === null &&\r\n      this.state.backgroundFeatureObjectIds !== null) {\r\n      this.getRandomBackgroundFeature();\r\n  }\r\n}\r\n\r\ncomponentDidMount() {\r\n      this.graphic = Graphic;\r\n\r\n      let featureTileLayer = new TileLayer({\r\n        url: this.featureTileUrl\r\n      });\r\n      \r\n      this.map = new ArcGISMap({\r\n        basemap: new Basemap({baseLayers:[featureTileLayer]})\r\n      });\r\n      \r\n      this.backgroundFeatureLayer = new FeatureLayer({\r\n        url: this.backgroundFeatureUrl\r\n      });\r\n\r\n      \r\n      this.view = new MapView({\r\n        container: this.mapRef.current,\r\n        map: this.map,\r\n        highlightOptions: {\r\n          color: '#fe5c00',\r\n          fillOpacity: 0.1\r\n        },\r\n        popup: {\r\n          dockEnabled: true,\r\n          dockOptions: {\r\n            // Disables the dock button from the popup\r\n            buttonEnabled: false,\r\n            // Ignore the default sizes that trigger responsive docking\r\n            breakpoint: false\r\n          }\r\n        }\r\n      });\r\n\r\n      this.compass = new Compass({\r\n        view: this.view\r\n      });\r\n      \r\n      this.loadIndicatorWatch = this.view.watch('updating', this.toggleLoadIndicator);\r\n      this.view.watch('rotation', this.rotationChange);\r\n\r\n      var refreshButton = document.createElement('div');\r\n      refreshButton.className = 'esri-icon-refresh esri-widget--button esri-widget esri-interactive ';\r\n      refreshButton.title = this.workflow === 'create' ? \r\n      'Go to another random location.' : \r\n      'Get another entry to review.';\r\n      \r\n      refreshButton.addEventListener('click', () => {\r\n        switch (this.workflow) {\r\n          case 'create': \r\n          this.getRandomBackgroundFeature();\r\n          break;\r\n          case 'update':\r\n          this.getRandomFeatureForReview();\r\n          break;\r\n          default:\r\n          alert('moo');\r\n        }\r\n      });\r\n\r\n      this.view.ui.add(refreshButton, 'bottom-left');\r\n\r\n      //measurement widget, but let's not use it for now\r\n      \r\n      // this.measurement = new DistanceMeasurement2D({\r\n      //   view: this.view,\r\n      //   activeTool: 'distance',\r\n      //   unit: 'feet'\r\n      // });\r\n      //this.view.ui.add(this.measurement, 'bottom-left');\r\n         \r\n\r\n      this.featureVectorLayer = new FeatureLayer({\r\n        url: this.featureVectorUrl,\r\n        popupTemplate: ReviewFormTemplate,\r\n        formTemplate: CreateFormTemplate,\r\n        groupDisplay: 'sequential'\r\n      });\r\n\r\n      \r\n      this.featureVectorLayer.on('edits', (e) => {\r\n        if (e.updatedFeatures.length > 0 && this.highlightedFeature) {\r\n          this.incrementReviewerCount();\r\n          this.sayThanks();\r\n          this.view.ui.remove(this.editor);\r\n        }\r\n        if (e.addedFeatures.length > 0) {\r\n          let addedFeatureId = e.addedFeatures[0].objectId;\r\n          this.featureVectorLayer.queryFeatures({objectIds: [addedFeatureId],\r\n            outFields: ['OBJECTID','CREATOR_PUBLIC']}).then(\r\n            (feats) => {feats.features[0].setAttribute('CREATOR_PUBLIC', this.props.creds.userId);\r\n            let edits = {updateFeatures: [feats.features[0]]}\r\n            this.featureVectorLayer.applyEdits(edits);});\r\n            ReactGA.event('wpa_transcript_create',\r\n              {\r\n                category: \"TRANSCRIPTION\",\r\n                action: \"SUBMIT_NEW_RECORD\"\r\n              //   label: \"your label\", // optional\r\n              //   value: 99, // optional, must be a number\r\n              //   nonInteraction: true, // optional, true/false\r\n              //   transport: \"xhr\", // optional, beacon/xhr/image\r\n              }\r\n            );\r\n\r\n          }\r\n        } );\r\n      var that = this;\r\n      this.editor = new Editor({\r\n        view: this.view,\r\n        allowedWorkflows: [this.workflow],\r\n        snappingOptions: {\r\n           enabled: true,\r\n           featureSources: [\r\n             { layer: this.featureVectorLayer },\r\n              {layer: this.backgroundFeatureLayer}\r\n            ]\r\n           },\r\n        layerInfos: [{\r\n          view: this.view,\r\n          layer: this.featureVectorLayer,\r\n          allowAttachments: false,\r\n          deleteEnabled: false\r\n        }],\r\n        supportingWidgetDefaults: {\r\n          featureForm: {\r\n            id: 'featureFormKD'\r\n          }\r\n        }\r\n        \r\n      });\r\n     \r\n      // I can't believe this is the only way to override widget labelling, but here we are\r\n      this.editor.postInitialize = function(){\r\n        watchUtils.init(this,'messages', (messages) => {\r\n          messages.widgetLabel = 'WPA Maps';\r\n          messages.addFeature = 'Draw a new shape';\r\n          messages.editFeature = 'Review an existing record';\r\n        });\r\n      };\r\n\r\n      //prepopulate fields after done sketching shape\r\n      this.editor.viewModel.sketchViewModel.on('create', \r\n        function(e){\r\n          if (e.state === \"complete\"){\r\n            e.graphic.attributes= {\"TaxExempt\":\"No\"};\r\n          }\r\n\r\n        }\r\n      );\r\n\r\n      //an attempt to prevent identical features from being created due to lack of feedback\r\n      //from the editor widget\r\n      this.editor.viewModel.watch('syncing', \r\n        function(newVal,oldVal, propName, target){\r\n          \r\n          let editButton = document.getElementsByClassName('esri-editor__control-button');\r\n          if (editButton.length === 0){\r\n            return;\r\n          }\r\n        \r\n          that.toggleLoadIndicator(newVal,oldVal); \r\n            \r\n          if (newVal === true) {\r\n            editButton[0].disabled = 'disabled';\r\n            editButton[0].classList.add('esri-button--disabled');\r\n          }\r\n\r\n          if (newVal === false) {\r\n\r\n            editButton[0].removeAttribute('disabled');\r\n            editButton[0].classList.remove('esri-button--disabled');\r\n          }\r\n        }\r\n      );\r\n\r\n      // Event handler that fires each time an action is clicked\r\n      \r\n      this.view.popup.on('trigger-action', function (event) {\r\n        if (event.action.id === 'edit-this') {\r\n          that.editThis();\r\n        }\r\n\r\n        if (event.action.id === 'this-looks-ok'){\r\n          that.updateTimesChecked();\r\n        }\r\n\r\n      });       \r\n\r\n      // for creation, pick a random background feature and zoom to it\r\n      if (this.workflow === 'create') {\r\n    \r\n        this.backgroundFeatureLayer.queryObjectIds()\r\n          .then((oids) => {\r\n            that.setState({\"backgroundFeatureObjectIds\": oids});\r\n            that.map.add(this.backgroundFeatureLayer);\r\n          });\r\n\r\n        this.featureVectorLayer.popupEnabled = false;\r\n        this.view.ui.add(this.editor, 'bottom-right');\r\n      }\r\n\r\n      // for reviewing, pick a random polygon and zoom to it\r\n      if (this.workflow === 'update') {\r\n        this.reviewerTable = new FeatureLayer({\r\n          url: this.reviewerTableUrl\r\n        });\r\n\r\n        this.reviewWorkflow();\r\n      }\r\n\r\n      this.map.add(this.featureVectorLayer);\r\n    \r\n}\r\n\r\nupdateTimesChecked() {\r\n  var upFeat = this.state.updateFeature;\r\n  var currentTimesChecked = upFeat.getAttribute('timesChecked');\r\n  upFeat.setAttribute('timesChecked', currentTimesChecked + 1);\r\n  var edits = {updateFeatures: [upFeat]};\r\n  this.featureVectorLayer.applyEdits(edits);\r\n  this.highlightedFeature.remove();\r\n}\r\n\r\n\r\nincrementReviewerCount() {\r\n  if (this.props.creds) {\r\n    this.reviewerTable.queryFeatures(\r\n      {\r\n        where: \"userId = '\" + this.props.creds.userId + \"'\",\r\n        outFields: ['OBJECTID','reviewCount']\r\n      }).then(\r\n    (feats) => {\r\n      if (feats.features.length > 0) {\r\n        \r\n        feats.features[0].setAttribute(\r\n          'reviewCount', \r\n          feats.features[0].attributes.reviewCount + 1\r\n        );\r\n\r\n        this.reviewerTable.applyEdits(\r\n          {\r\n            updateFeatures:[feats.features[0]]\r\n          }\r\n        );\r\n      }\r\n      else {\r\n        this.reviewerTable.applyEdits(\r\n          {\r\n            addFeatures: [new this.graphic({\r\n              attributes: {\r\n                \"userId\": this.props.creds.userId,\r\n                \"reviewCount\": 1\r\n              }\r\n            })]\r\n          }\r\n        ); \r\n      }\r\n    }\r\n       );    //this.reviewerTable\r\n  }\r\n\r\n}\r\n\r\nsayThanks() {\r\n  var that = this;\r\n\r\n  //TODO move this to a separate template\r\n  this.props.setModalContent(\r\n    <div>\r\n    <h1>Thank you!</h1>\r\n    <p>Here's another entry to check.</p>\r\n    </div>\r\n    );\r\n  this.props.openModal();\r\n  setTimeout(function(){\r\n    that.props.closeModal(); \r\n  }, 2000);\r\n  this.toggleLoadIndicator(false);\r\n  this.highlightedFeature.remove();\r\n  this.getRandomFeatureForReview();\r\n  this.view.popup.close();\r\n}\r\n\r\neditThis() {\r\n  var view = this.view;\r\n  var editor = this.editor; \r\n  view.when(function () {\r\n\r\n            // If the EditorViewModel's activeWorkflow is null, make the popup not visible\r\n            if (!editor.viewModel.activeWorkFlow) {\r\n              view.popup.visible = false;\r\n              // Call the Editor update feature edit workflow\r\n              editor.startUpdateWorkflowAtFeatureEdit(\r\n                view.popup.selectedFeature\r\n                );\r\n              view.ui.add(editor, 'bottom-right');\r\n              view.popup.spinnerEnabled = false;\r\n            }\r\n\r\n            // We need to set a timeout to ensure the editor widget is fully rendered. We\r\n            // then grab it from the DOM stack\r\n            setTimeout(function () {\r\n              // Use the editor's back button as a way to cancel out of editing\r\n              let arrComp = editor.domNode.getElementsByClassName(\r\n                'esri-editor__back-button esri-interactive'\r\n                );\r\n              if (arrComp.length === 1) {\r\n                // Add a tooltip for the back button\r\n                arrComp[0].setAttribute(\r\n                  'title',\r\n                  'Cancel edits, return to popup'\r\n                  );\r\n                // Add a listerner to listen for when the editor's back button is clicked\r\n                arrComp[0].addEventListener('click', function (evt) {\r\n                  // Prevent the default behavior for the back button and instead remove the editor and reopen the popup\r\n                  evt.preventDefault();\r\n                  view.ui.remove(editor);\r\n                  // view.popup.open({\r\n                  //   features: features\r\n                  // });\r\n                });\r\n              }\r\n            }, 150);\r\n\r\n\r\n          });\r\n}\r\n\r\ncomponentWillUnmount() {\r\n  if (this.view) {\r\n      // destroy the map view\r\n      this.view.container = null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      {this.state.loadIndicator && \r\n        <div className='loadIndicator'>\r\n          <LoadIndicator/>\r\n        </div>\r\n      }\r\n      <div className='webmap' ref={this.mapRef} />\r\n      </>\r\n      );\r\n  }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport ReactGA from \"react-ga4\";\r\nimport Modal from 'react-modal';\r\n\r\n//import { loadModules } from 'esri-loader';\r\nimport OAuthInfo from '@arcgis/core/identity/OAuthInfo';\r\nimport esriId from \"@arcgis/core/identity/IdentityManager\";\r\nimport FeatureLayer from '@arcgis/core/layers/FeatureLayer';\r\nimport Portal from '@arcgis/core/portal/Portal';\r\nimport { IntroJoyride } from './IntroJoyride';\r\nimport { WebMapView } from './WebMapView';\r\n\r\n//loadModules(['@arcgis/core//identity/OAuthInfo','@arcgis/core/identity/IdentityManager',\r\n//'@arcgis/core/layers/FeatureLayer', '@arcgis/core/portal/Portal'], { css: true })\r\n//.then(([OAuthInfo, esriId, FeatureLayer, Portal]) => {\r\n\r\n//import { loadScript, loadModules } from 'esri-loader';\r\nimport \"@esri/calcite-components\";\r\nimport './App.css';\r\n\r\nconst config = {\r\n  appId: 'l3OWRmRCGfkAN4Dh',\r\n  redirect_uri: window.location.protocol + \"//\" + window.location.host + window.location.pathname\r\n  };\r\n\r\n\r\nfunction parseHashArgs(aURL) {\r\n\r\n  aURL = aURL || window.location.href;\r\n  \r\n  var vars = {};\r\n  var hashes = aURL.slice(aURL.indexOf('#') + 1).split('&');\r\n\r\n    for(var i = 0; i < hashes.length; i++) {\r\n       var hash = hashes[i].split('=');\r\n      \r\n       if(hash.length > 1) {\r\n         vars[hash[0]] = hash[1];\r\n       } else {\r\n        vars[hash[0]] = null;\r\n       }      \r\n    }\r\n\r\n    return vars;\r\n}\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)'\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [welcomeScreen, toggleWelcomeScreen] = useState(true);\r\n  const [modalIsOpen, setIsOpen] = useState(false);\r\n  const [workflow, setWorkflow] = useState(0);\r\n  const [modalContent, setModalContent] = useState('');\r\n  const [runIntro, toggleIntro] = useState(false);\r\n  const [creatorCount, setCreatorCount] = useState(false);\r\n  const [creds, setCreds] = useState(false);\r\n  const [userName, setUserName] = useState(false);\r\n  const [info, setInfo] = useState(false);\r\n\r\n  var listOfRandomPraise= [\r\n    'Good job!',\r\n    'Way to go!',\r\n    'Wow!',\r\n    'That\\'s super!',\r\n    'Awesome!',\r\n    'Alright!'\r\n  ];\r\n\r\n\r\n  const [randomPraise, setRandomPraise] = useState(\r\n    listOfRandomPraise[Math.floor(Math.random() * Math.floor(listOfRandomPraise.length))]\r\n  );\r\n\r\n  let signUpUrl = \"https://www.arcgis.com/sharing/rest/oauth2/signup?client_id=\" + config.appId +\"&redirect_uri=\"+config.redirect_uri+\"&response_type=token\";\r\n  Modal.setAppElement('#root');\r\n\r\n  function openModal() {\r\n    setIsOpen(true);\r\n  }\r\n\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\r\n  function closeModal(){\r\n    setIsOpen(false);\r\n  }\r\n  useEffect(() => {\r\n      let oauth_info = new OAuthInfo({\r\n          appId: 'l3OWRmRCGfkAN4Dh', //your app id goes here\r\n          popup: false\r\n      });\r\n      \r\n      setInfo(oauth_info);\r\n\r\n\r\n      esriId.registerOAuthInfos([oauth_info]);\r\n\r\n      let hash = parseHashArgs();\r\n\r\n      if (\"access_token\" in hash) {\r\n        let token = hash.access_token;\r\n        let un = hash.username;\r\n        let exp = hash.expires_in;\r\n        esriId.registerToken({\r\n          token: token,\r\n          userId: un,\r\n          expires: exp,\r\n          server: \"https://www.arcgis.com/sharing/rest\"\r\n        });\r\n        esriId.getCredential(oauth_info.portalUrl + '/sharing');;\r\n      }\r\n      \r\n      esriId\r\n        .checkSignInStatus(oauth_info.portalUrl + '/sharing')\r\n        .then((creds) => {\r\n          setCreds(creds);\r\n          var portal = new Portal(oauth_info.portalUrl).load().then((p) => {\r\n            setUserName(p.user.fullName);\r\n          });\r\n\r\n\r\n          var layer =  new FeatureLayer({\r\n            url: 'https://services1.arcgis.com/jWQlP64OuwDh6GGX/arcgis/rest/services/WPA_Maps_Land_Parcels_Public/FeatureServer/0'\r\n          });\r\n          var q = layer.createQuery();\r\n          q.where = 'CREATOR_PUBLIC = \\'' + creds.userId + '\\'';\r\n          q.outStatistics =[\r\n            {\r\n              onStatisticField: 'CREATOR_PUBLIC',\r\n              outStatisticFieldName: 'CREATOR_COUNT',\r\n              statisticType: 'count'\r\n            }\r\n          ];\r\n    \r\n          layer.queryFeatures(q).then(resp => {\r\n            if (resp.features.length > 0){\r\n              setCreatorCount(resp.features[0].getAttribute('CREATOR_COUNT'));\r\n            }\r\n\r\n          })\r\n        })\r\n        .catch(() => {\r\n\r\n          //esriId.getCredential(info.portalUrl + '/sharing')\r\n        });\r\n\r\n      }, []);\r\n   \r\n\r\n    return (\r\n\r\n      <div className=\"App\">\r\n        <IntroJoyride runIntro={runIntro}\r\n                      toggleIntro={toggleIntro} \r\n                      oauthInfo={info}/>\r\n        <Modal\r\n          isOpen={modalIsOpen}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Modal\"\r\n        >\r\n          {modalContent}\r\n        </Modal>\r\n\r\n        {welcomeScreen === true &&\r\n          <>\r\n\r\n            <h1>Oklahoma 1936 Land Ownership Map Transcription</h1>\r\n            \r\n            <div className='flex-row'>\r\n              <button tabIndex=\"0\" className='drawShapes' onClick={() => {ReactGA.event('wpa_transcript_create',{'category': 'TRANSCRIPTION', 'action':'INITIATE_CREATE_WORKFLOW'});\r\n                  toggleWelcomeScreen(false); setWorkflow('create')}}>\r\n                  <calcite-icon scale='l' class=\"big-icon\" icon=\"addInNew\"></calcite-icon> \r\n                  <br/>Draw some shapes\r\n              </button>\r\n              <button tabIndex=\"0\" className='reviewShapes' onClick={() => {ReactGA.event('wpa_transcript_create',{'category': 'TRANSCRIPTION', 'action':'INITIATE_REVIEW_WORKFLOW'});\r\n                  toggleWelcomeScreen(false); setWorkflow('update')}}>\r\n                  <calcite-icon scale='l' class=\"big-icon\" icon=\"editAttributes\"></calcite-icon> \r\n                  <br/>Review existing shapes\r\n              </button>\r\n              <button tabIndex=\"0\" onClick={() => {ReactGA.event('tutorial_begin',{'category': 'INTRO', 'action':'INTRO_TOGGLE'});\r\n                  toggleIntro(!runIntro)}}>\r\n                  <calcite-icon scale='l' class=\"big-icon\" icon=\"question\"></calcite-icon> \r\n                  <br/>View the intro\r\n              </button>\r\n            </div>\r\n\r\n            {userName === false &&\r\n            <div className=\"trackProgress\">\r\n              <h2>Track your progress:</h2>\r\n              <div className='flex-row'>\r\n                <br/><br/>\r\n                <button tabIndex=\"0\" className='signInOut' onClick={function(){\r\n                    ReactGA.event('login',{'category': 'TRANSCRIPTION', 'action':'login'}); \r\n                    esriId.getCredential(info.portalUrl + '/sharing')\r\n                  .then((credential) => {setCreds(credential);})}}>\r\n                  <calcite-icon scale='l' className=\"big-icon\" icon=\"sign-in\"></calcite-icon> \r\n                <br/> Sign in</button>\r\n\r\n                <a tabIndex=\"0\" href={signUpUrl}><button onClick={function(){ ReactGA.event('sign_up',{'category': 'SIGN_UP','action': 'SIGN_UP'})}} className='createAccount'>\r\n                  <calcite-icon scale='l' className=\"big-icon\" icon=\"user-plus\"></calcite-icon> \r\n                <br/> Create an account</button></a>\r\n              </div> \r\n            </div>\r\n          }\r\n            {userName !== false && creatorCount !== false &&\r\n              <div className='flex-row'>\r\n                <h3>Hi {userName}! So far you've added \r\n                  <span style={{fontSize:'2em'}}>&nbsp;{creatorCount}&nbsp;</span> \r\n                    {creatorCount === 1 ? 'shape' : 'shapes'}. {creatorCount > 0 ? randomPraise : ''}\r\n                </h3>\r\n                <br/><button className='signInOut' onClick={function(){creds.destroy(); window.location = window.location.pathname}}>\r\n                   <calcite-icon scale='l' class=\"big-icon\" icon=\"sign-out\"></calcite-icon> <br/> Click to sign out\r\n                  </button>\r\n              </div>\r\n            }\r\n        \r\n          </>\r\n        }\r\n        \r\n        {welcomeScreen === false &&\r\n          <WebMapView \r\n            workflow={workflow} \r\n            creds={creds}\r\n            openModal={openModal}\r\n            closeModal={closeModal}\r\n            setModalContent={setModalContent}/>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ReactGA from \"react-ga4\";\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactGA.initialize('G-EQMR17KKJG');\r\nReactGA.send(\"pageview\");\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}