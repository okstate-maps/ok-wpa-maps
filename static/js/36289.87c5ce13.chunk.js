"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[36289],{36289:(e,r,s)=>{s.r(r),s.d(r,{alterVersion:()=>u,serverVersionCacheMap:()=>c});var n=s(89379),t=s(3825),a=s(50076),i=s(54994),o=s(94487);const c=new Map;async function u(e,r,s,u){var l;c.has(e)||await(0,o.t)(c,e);const v=c.get(e);if((null!==(l=null===v||void 0===v?void 0:v.serverVersion)&&void 0!==l?l:0)<=11.1)throw new a.A("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new a.A("alterVersion:missing-guid","guid for version is missing");const p=(0,i.Dl)(e),h=s.toJSON(),d=(0,i.jV)(p.query,(0,n.A)((0,n.A)({query:(0,i.lF)((0,n.A)((0,n.A)({},h),{},{f:"json"}))},u),{},{authMode:"immediate",method:"post"}));r.startsWith("{")&&(r=r.slice(1,-1));const f="".concat(p.path,"/versions/").concat(r,"/alter"),{data:w}=await(0,t.A)(f,d);return!!w&&w.success}},94487:(e,r,s)=>{s.d(r,{t:()=>t});var n=s(3825);async function t(e,r){let s=null;const t="string"==typeof r?r:r.path;if(!e.has(t)){const a=await(0,n.A)(t.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});s={serverVersion:Number(a.data.currentVersion),featureServerUrl:t.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,s)}}}}]);
//# sourceMappingURL=36289.87c5ce13.chunk.js.map