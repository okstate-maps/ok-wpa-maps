"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[68131,76030],{5512:(t,e,i)=>{i.d(e,{Am:()=>I,Gk:()=>y,Ku:()=>k,S3:()=>C,fL:()=>A,em:()=>Z,LJ:()=>_,Y3:()=>M,dy:()=>x,qP:()=>O,fr:()=>b,Hw:()=>V,uf:()=>T});var o=i(89379),n=i(24648),r=i(69077),s=i(6326),a=i(91967),l=i(49723),c=i(46053),u=(i(81806),i(76460),i(47249),i(87990));let d=class extends a.A{constructor(t){super(t),this.actual=null,this.lockable=!0,this.id=(0,l.lk)(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(t){this.lockable&&this._set("committed",t)}get dirty(){return null!=this.inputValue}get locked(){return this.lockable&&null!=this.committed}onInput(t){this.inputValue=t,this.invalid=!1}onCommit(t,e,i){this.lockable?this._onCommitLockable(t,i):this._onCommitNonLockable(i),this.invalid&&"commit-and-exit"===t||i.onCommit(e,t)}_onCommitLockable(t,e){const{inputValue:i,locked:o}=this;o&&p(i)?this.unlock():("commit-and-exit"===t&&!o||null!=i)&&this._parseInputAndLock(e)}_onCommitNonLockable(t){const{inputValue:e}=this;p(e)?this.lockable?this.setActual(null):this.clearInputValue():null!=e&&this._parseInputAndSetActual(t)}applyValue(t){this.lockable?this.lock(t):this.setActual(t)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(t){this.actual=t,this.clearInputValue()}lock(t){this.lockable&&(this.committed=null!==t&&void 0!==t?t:this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(t){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(t))}getSuffix(t){const{suffix:e}=this;return"function"==typeof e?e(t):e}getFormattedValue(t){const{actual:e,committed:i,format:o}=this;return null!=i?o(i,t):null!=e?o(e,t):null}getRawDisplayValue(t){const{actual:e,committed:i,inputValue:o}=this;return null!=o?o:this.lockable&&null!=i?this.formatForInputMode(i,t):null!=e?this.formatForInputMode(e,t):null}_parseInputAndSetActual(t){const{inputValue:e}=this;if(null==e||p(e))return this.setActual(null);const i=this.parse(e,t);null!=i?this.setActual(i):this.invalid=!0}_parseInputAndLock(t){const{inputValue:e,actual:i}=this;if(p(e))return this.unlock();if(null==e)return this.lock(i);const o=this.parse(e,t);null!=o?this.lock(o):this.invalid=!0}};function p(t){return null!=t&&""===t.trim()}(0,s.Cg)([(0,c.MZ)()],d.prototype,"actual",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"committed",null),(0,s.Cg)([(0,c.MZ)()],d.prototype,"dirty",null),(0,s.Cg)([(0,c.MZ)()],d.prototype,"format",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"formatForInputMode",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"lockable",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"locked",null),(0,s.Cg)([(0,c.MZ)()],d.prototype,"id",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"inputValue",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"name",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"parse",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"readOnly",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"suffix",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"title",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"visible",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"invalid",void 0),(0,s.Cg)([(0,c.MZ)()],d.prototype,"unlockOnVertexPlacement",void 0),d=(0,s.Cg)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipField")],d);let h=class extends d{constructor(t){super(t),this.showAsZ=!1}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.verticalLength.unit;return(0,o.A)({name:"elevation",actual:n.r7,parse:(0,r.hw)({createQuantity:(t,i)=>(0,n.d_)(t,e(i))}),format:(t,e)=>e.formatters.verticalLength(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,n.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1},t)}};(0,s.Cg)([(0,c.MZ)()],h.prototype,"showAsZ",void 0),h=(0,s.Cg)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],h);var g=i(11113),v=i(89646);let m=class extends d{constructor(t){super(t),this.precision=1}normalizeCtorArgs(t){return(0,o.A)({name:"orientation",actual:null,parse:(0,r.hw)({createQuantity:(t,e)=>(0,n.Wq)(t,(t=>t.inputUnitInfos.angle.unit)(e),"geographic"),sanitize:r.D5}),format:t=>{const e=(0,v.P1)(t);return(0,g.Nk)(e,"geographic",this.precision)},formatForInputMode:(t,e)=>{const i=(0,v.P1)(t);return e.formatters.scalar(i)},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.orientation},t)}};(0,s.Cg)([(0,c.MZ)()],m.prototype,"precision",void 0),m=(0,s.Cg)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],m);let f=class extends d{constructor(t){super(t),this.precision=null}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.length.unit;return(0,o.A)({name:"size",actual:null,parse:(0,r.hw)({createQuantity:(t,i)=>(0,n.d_)(t,e(i))}),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,n.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.size},t)}};function y(t){const e=t=>t.inputUnitInfos.angle.unit,i=t=>t.sketchOptions.values.effectiveDirectionMode;return new d((0,o.A)({name:"direction",actual:n.IV,parse:(0,r.hw)({createQuantity:(t,i)=>(0,n.Wq)(t,e(i),"geographic"),sanitize:r.D5}),format:(t,e)=>{const o=i(e),n=(0,v.jQ)(t,o);switch(o){case"absolute":return e.formatters.direction(n);case"relative":return e.formatters.directionRelative(n);case"relative-bilateral":return e.formatters.directionRelativeBilateral(n)}},formatForInputMode:(t,o)=>{const r=(0,v.jQ)(t,i(o));return o.formatters.scalar((0,n.kM)(r,e(o)))},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>{const e=i(t),{absolute:o,relative:n}=t.messages.sketch.direction;switch(e){case"absolute":return o;case"relative":case"relative-bilateral":return n}}},t))}function w(t){const e=t=>t.inputUnitInfos.length.unit;return new d((0,o.A)({name:"distance",actual:n.r7,parse:(0,r.hw)({createQuantity:(t,i)=>(0,n.d_)(Math.max(t,0),e(i))}),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,n.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance},t))}function b(t){return w((0,o.A)({format:(t,e)=>e.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0},t))}function k(t){return w((0,o.A)({},t))}function M(t){return w((0,o.A)((0,o.A)({},t),{},{parse:(0,r.hw)({createQuantity:(t,e)=>(0,n.d_)(t,(t=>t.inputUnitInfos.length.unit)(e))}),format:(t,e)=>e.formatters.lengthRelative(t)}))}function C(t){return new h(t)}function _(t){return new m(t)}function O(t){return new f(t)}function x(t){return P("scale",(0,o.A)({name:"scale",actual:null,parse:(0,r.hw)({createQuantity:t=>(0,n.LF)(Math.abs(t))})},t))}function I(t){const e=t=>t.inputUnitInfos.area.unit;return new d((0,o.A)({name:"area",actual:n.iT,parse:(0,r.hw)({createQuantity:(t,i)=>(0,n.gT)(t,e(i))}),format:(t,e)=>e.formatters.area(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,n.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,readOnly:!0},t))}function Z(t){return new d((0,o.A)({name:"x",actual:n.IV,parse:r.L5,format:(t,e)=>e.formatters.longitudeDecimalDegrees(t),formatForInputMode:t=>(0,r.zX)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.longitude},t))}function A(t){return new d((0,o.A)({name:"y",actual:n.IV,parse:r.A3,format:(t,e)=>e.formatters.latitudeDecimalDegrees(t),formatForInputMode:t=>(0,r.oZ)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.latitude},t))}function V(t){return P("x",(0,o.A)({name:"x"},t))}function T(t){return P("y",(0,o.A)({name:"y"},t))}function P(t,e){return new d((0,o.A)({actual:(0,n.LF)(0),parse:(0,r.hw)({createQuantity:t=>(0,n.LF)(t)}),format:(t,e)=>e.formatters.scalar(t),formatForInputMode:(t,e)=>e.formatters.scalar(t),title:e=>e.messages.sketch[t]},e))}(0,s.Cg)([(0,c.MZ)()],f.prototype,"precision",void 0),f=(0,s.Cg)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipFieldSize")],f)},14727:(t,e,i)=>{i.d(e,{b:()=>c});var o=i(54901),n=i(30484),r=i(23543),s=i(20578),a=i(23241),l=i(56572);class c{draw(t,e){const i=function(t){const e=[];for(const i of t){let t=!0;for(const o of e)if(i.equals(o)){t=!1;break}t&&e.push(i)}return e}(t),c=this.sortUniqueHints(i),u=[];for(const o of c)o instanceof n.v&&u.push(this.visualizeIntersectionPoint(o,e)),o instanceof r.c&&u.push(this.visualizeLine(o,e)),o instanceof s.r&&u.push(this.visualizeParallelSign(o,e)),o instanceof l.l&&u.push(this.visualizeRightAngleQuad(o,e)),o instanceof a._&&u.push(this.visualizePoint(o,e));return(0,o.vE)(u)}sortUniqueHints(t){return t}}},23241:(t,e,i)=>{i.d(e,{_:()=>r});var o=i(20664),n=i(64753);class r extends n.m{constructor(t,e,i){super(e,i),this.point=t}equals(t){return t instanceof r&&(0,o.q)(this.point,t.point)}}},30120:(t,e,i)=>{i.d(e,{Bb:()=>p,G3:()=>v,fJ:()=>h});var o=i(19555),n=i(20664),r=i(9392),s=i(79650),a=i(75762),l=i(87823),c=i(14721),u=i(51230),d=i(86210);function p(t,e){return g(t,e,!1)}function h(t,e){return g(t,e,!0)}function g(t,e,i){if(t instanceof d.D){if(t.operation instanceof l.a)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=i?-1:1,a=(0,r.fA)(o*t.dx,o*t.dy,o*t.dz);(0,n.g)(e.origin,e.origin,a),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof c.m)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=i?-t.angle:t.angle;(0,n.K)(e.basis1,e.basis1,r.uY,o),(0,n.K)(e.basis2,e.basis2,r.uY,o),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof u.j)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=i?1/t.factor1:t.factor1,a=i?1/t.factor2:t.factor2;(0,n.h)(e.basis1,e.basis1,r),(0,n.h)(e.basis2,e.basis2,a),(0,o.Vj)(e.origin,e.origin,t.origin,t.axis1,r),(0,o.Vj)(e.origin,e.origin,t.origin,t.axis2,a),(0,s.u)(e)}(t.operation,e,i),!0}return!1}function v(t,e,i,r){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r||(r=(0,s.a)());const c=(0,o.hZ)(a.oG.get(),t[1],-t[0]),u=(0,o.hZ)(a.oG.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),d=(0,o.hZ)(a.oG.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),p=a.oG.get(),h=e.allVerticesUnordered;h.forEach(e=>{let{pos:i}=e;(0,o.hZ)(p,(0,o.Om)(t,i),(0,o.Om)(c,i)),(0,o.jk)(u,u,p),(0,o.T9)(d,d,p)});const g=1e-6,v=(0,o.hZ)(a.oG.get(),d[0]-u[0]<g?i/2:0,d[1]-u[1]<g?i/2:0);(0,o.Re)(u,u,v),(0,o.WQ)(d,d,v);const m=l?h.reduce((t,e)=>{var i;return t+(null!==(i=e.pos[2])&&void 0!==i?i:0)},0)/h.length:0;return(0,o.hs)(r.basis1,t,(d[0]-u[0])/2),(0,o.hs)(r.basis2,c,(d[1]-u[1])/2),(0,n.j)(r.origin,u[0]*t[0]+u[1]*c[0],u[0]*t[1]+u[1]*c[1],m),(0,n.g)(r.origin,r.origin,r.basis1),(0,n.g)(r.origin,r.origin,r.basis2),(0,s.u)(r),r}},65160:(t,e,i)=>{i.d(e,{N:()=>vt,l:()=>yt});var o=i(89379),n=i(6326),r=i(39356),s=i(91967),a=i(19276),l=i(68134),c=i(46053),u=(i(81806),i(76460),i(47249),i(87990)),d=i(19451);const p="Cannot perform operation whilst undo redo is updating",h="There are no items to Undo",g="There are no items to Redo";class v extends Error{constructor(){super(p),this.type="undo-redo-updating-error"}}class m extends Error{constructor(){super(h),this.type="undo-redo-undo-error"}}class f extends Error{constructor(){super(g),this.type="undo-redo-redo-error"}}Error;let y=class extends s.A{constructor(){super(...arguments),this._stack=new a.A,this._stackPosition=-1,this._updatingHandles=new d.U}get updating(){return this._updatingHandles.updating}get canUndo(){return this.hasUndo&&!this.updating}get hasUndo(){return this._stackPosition>=0}get canRedo(){return this.hasRedo&&!this.updating}get hasRedo(){return this._stackPosition<this._stack.length-1}_truncateForwardStack(){this._stack.splice(this._stackPosition+1,this._stack.length-this._stackPosition).forEach(t=>t.destroy())}_drainStack(){this._stack.drain(t=>t.destroy()),this._stackPosition=-1}async undo(){if(!this.hasUndo)throw new m;if(this.updating)throw new v;const t=this._stack.getItemAt(this._stackPosition);t&&await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(1),--this._stackPosition,t.canRedo||this._truncateForwardStack()})())}async redo(){if(!this.hasRedo)throw new f;if(this.updating)throw new v;const t=this._stack.getItemAt(this._stackPosition+1);if(!t)throw new f;await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(2),++this._stackPosition})())}peekUndo(){if(this.canUndo)return this._stack.getItemAt(this._stackPosition)}peekRedo(){if(this.canRedo)return this._stack.getItemAt(this._stackPosition+1)}async inject(t){if(this.updating)throw new v;await this._updatingHandles.addPromise((async()=>{0===t.status&&await t.executeUndoRedoOperation(0),t.canUndo?(this._stack.splice(this._stackPosition+1,0,t),this._stackPosition++):this._stackPosition>-1&&(this._stack.splice(0,this._stackPosition+1).forEach(t=>t.destroy()),this._stackPosition=-1)})())}async add(t){if(this.updating)throw new v;await this._updatingHandles.addPromise((async()=>{0===t.status&&await t.executeUndoRedoOperation(0),this._stackPosition>=-1&&this._truncateForwardStack(),t.canUndo?(this._stack.push(t),this._stackPosition=this._stack.length-1):this._drainStack()})())}async removeTagged(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.updating&&!e)return;await(0,l.C_)(()=>!this.updating);const i=new a.A;for(let o=0;o<this._stack.length;o++){const e=this._stack.getItemAt(o);e&&(e.tag===t?(e.destroy(),o===this._stackPosition&&(this._stackPosition=i.length-1)):i.push(e))}this._stack=i,this._stackPosition>i.length-1&&(this._stackPosition=i.length-1)}async clear(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.updating&&!t)throw new v;await(0,l.C_)(()=>!this.updating),this._drainStack()}};(0,n.Cg)([(0,c.MZ)()],y.prototype,"_stack",void 0),(0,n.Cg)([(0,c.MZ)()],y.prototype,"_stackPosition",void 0),(0,n.Cg)([(0,c.MZ)()],y.prototype,"updating",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],y.prototype,"canUndo",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],y.prototype,"hasUndo",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],y.prototype,"canRedo",null),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],y.prototype,"hasRedo",null),y=(0,n.Cg)([(0,u.$)("esri.UndoRedo")],y);var w=i(98773),b=i(54901),k=i(30726),M=i(58905),C=i(63733),_=i(74e3);class O{constructor(){this.committedVertices=null,this.cursorVertex=null,this.full=null,this.outline=null,this.cursorEdge=null,this.circle=null,this.rectangle=null}}var x=i(48384),I=i(42151),Z=i(24648),A=i(31633),V=i(40565),T=i(19247),P=i(12482),U=i(94277),L=i(76030),G=i(48851),F=i(39070),S=i(37159);let R=class extends S.w{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=Z.iT}get allFields(){return[]}};(0,n.Cg)([(0,c.MZ)()],R.prototype,"type",void 0),(0,n.Cg)([(0,c.MZ)()],R.prototype,"radius",void 0),(0,n.Cg)([(0,c.MZ)()],R.prototype,"xSize",void 0),(0,n.Cg)([(0,c.MZ)()],R.prototype,"ySize",void 0),(0,n.Cg)([(0,c.MZ)()],R.prototype,"area",void 0),(0,n.Cg)([(0,c.MZ)()],R.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],R.prototype,"allFields",null),R=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawCircleTooltipInfo")],R);var z=i(5512),H=i(65240);let D=class extends((0,H.B)(S.w)){constructor(t){super(t),this.type="draw-mesh",this.orientation=(0,z.LJ)({lockable:!1}),this.scale=(0,z.dy)({lockable:!1})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,this.orientation,this.scale]}};(0,n.Cg)([(0,c.MZ)()],D.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],D.prototype,"allFields",null),D=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawMeshTooltipInfo")],D);let E=class extends((0,H.B)(S.w)){constructor(t){super(t),this.type="draw-multipoint"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,n.Cg)([(0,c.MZ)()],E.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],E.prototype,"allFields",null),E=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawMultipointTooltipInfo")],E);let N=class extends((0,H.B)(S.w)){constructor(t){super(t),this.type="draw-point"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,n.Cg)([(0,c.MZ)()],N.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],N.prototype,"allFields",null),N=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawPointTooltipInfo")],N);let q=class extends((0,H.B)(S.w)){constructor(t){super(t),this.type="draw-polygon",this.direction=(0,z.Gk)(),this.distance=(0,z.Ku)(),this.area=(0,z.Am)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.area]}};(0,n.Cg)([(0,c.MZ)()],q.prototype,"xyMode",void 0),(0,n.Cg)([(0,c.MZ)()],q.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],q.prototype,"allFields",null),q=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawPolygonTooltipInfo")],q);let j=class extends((0,H.B)(S.w)){constructor(t){super(t),this.type="draw-polyline",this.direction=(0,z.Gk)(),this.distance=(0,z.Ku)(),this.totalLength=(0,z.fr)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.totalLength]}};(0,n.Cg)([(0,c.MZ)()],j.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],j.prototype,"xyMode",void 0),(0,n.Cg)([(0,c.MZ)()],j.prototype,"allFields",null),j=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawPolylineTooltipInfo")],j);let $=class extends S.w{constructor(t){super(t),this.type="draw-rectangle",this.xSize=Z.r7,this.ySize=Z.r7,this.area=Z.iT}get allFields(){return[]}};(0,n.Cg)([(0,c.MZ)()],$.prototype,"type",void 0),(0,n.Cg)([(0,c.MZ)()],$.prototype,"xSize",void 0),(0,n.Cg)([(0,c.MZ)()],$.prototype,"ySize",void 0),(0,n.Cg)([(0,c.MZ)()],$.prototype,"area",void 0),(0,n.Cg)([(0,c.MZ)()],$.prototype,"helpMessage",void 0),(0,n.Cg)([(0,c.MZ)()],$.prototype,"allFields",null),$=(0,n.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.DrawRectangleTooltipInfo")],$);var Q=i(89646),Y=i(29772);function B(t){const{directionOptions:e,geometryType:i,sketchOptions:o,tooltipInfos:n}=t,r=e=>{const i=lt(t).mode,o=n[e].elevation;"relative-to-ground"===i||"relative-to-scene"===i||"on-the-ground"===i?o.lock(ut(t)):o.unlock()};switch(i){case"polygon":case"polyline":r(i),(t=>{if(e){const i=n[t].direction;i.committed=e.angle,i.unlockOnVertexPlacement=!1,o.values.directionMode=e.mode}})(i);break;case"point":case"mesh":r(i)}}function X(t,e){const{drawOperation:i,view:o}=e,n=W(e),r=lt(e);if("2d"===o.type||!t||"absolute-height"!==r.mode||1!==(null===i||void 0===i?void 0:i.numCommittedVertices)||!n||"draw-polyline"!==n.type&&"draw-polygon"!==n.type||n.elevation.locked)return;const[s,a,l]=t,c=function(t,e,i,o,n){var r,s;const{view:a,drawOperation:l}=n;if("3d"!==a.type||!l)return;null!==(r=i)&&void 0!==r||(i=0);const c=ct(n),u=lt(n),d=(0,P.Fo)(a,t,e,i,c,u,o);return null!==(s=(0,Y.Qc)(d,c))&&void 0!==s?s:ut(n)}(s,a,l,r,e);null!=c&&n.elevation.lock(c)}function K(t){var e;null===(e=W(t))||void 0===e||e.allFields.forEach(t=>{t.unlockOnVertexPlacement&&t.unlock()})}function W(t){var e;let{geometryType:i,graphic:o,tooltipInfos:n}=t;return(null===o||void 0===o||null===(e=o.geometry)||void 0===e?void 0:e.type)!==J[i]?"circle"===i||"rectangle"===i?n[i]:null:n[i]}const J={point:"point",multipoint:"multipoint",mesh:"mesh",polyline:"polyline",polygon:"polygon",circle:"polygon",rectangle:"polygon",freehandPolygon:"polygon",freehandPolyline:"polyline",text:"point"};function tt(t,e){switch(null===t||void 0===t?void 0:t.type){case"draw-point":!function(t,e){var i;const o=null===(i=e.graphic)||void 0===i?void 0:i.geometry;"point"===(null===o||void 0===o?void 0:o.type)&&(et(t,o,e),t.helpMessage=(0,U.$)("point",o,e.drawOperation.drawingMode))}(t,e);break;case"draw-multipoint":!function(t,e){var i;const o=null===(i=e.graphic)||void 0===i?void 0:i.geometry;"multipoint"===(null===o||void 0===o?void 0:o.type)&&(et(t,o,e),t.helpMessage=(0,U.$)("multipoint",o,e.drawOperation.drawingMode))}(t,e);break;case"draw-polyline":!function(t,e){var i;const{createOperationGeometry:o,drawOperation:n,automaticLengthMeasurementUtils:r}=e,s=null!=o?o.full:null;s&&"polyline"!==s.type||(ot(t,e),t.totalLength.actual=n.lastVertex?null!==(i=s?r.autoLength2D(s):null)&&void 0!==i?i:Z.r7:null,t.helpMessage=(0,U.$)("polyline",s,e.drawOperation.drawingMode))}(t,e);break;case"draw-polygon":!function(t,e){var i;const{createOperationGeometry:o,drawOperation:n}=e,r=null!=o?o.full:null;r&&"polygon"!==r.type||(ot(t,e),t.area.actual=n.lastVertex?null!==(i=r?e.automaticAreaMeasurementUtils.autoArea2D(r):null)&&void 0!==i?i:Z.iT:null,t.helpMessage=(0,U.$)("polygon",r,e.drawOperation.drawingMode))}(t,e);break;case"draw-rectangle":!function(t,e){var i;t.sketchOptions=e.sketchOptions,t.xSize=st(e),t.ySize=at(e),t.area=rt(e),t.helpMessage=(0,U.$)("rectangle",null===(i=e.graphic)||void 0===i?void 0:i.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-circle":!function(t,e){var i;const{forceUniformSize:o,sketchOptions:n}=e;t.sketchOptions=n,t.radius=o?function(t){var e,i;let{createOperationGeometry:o,automaticLengthMeasurementUtils:n}=t;return null!==(e=null!=(null===o||void 0===o||null===(i=o.circle)||void 0===i?void 0:i.center)&&null!=o.circle.edge?n.autoDistanceBetweenPoints2D(o.circle.center,o.circle.edge):null)&&void 0!==e?e:Z.r7}(e):null,t.xSize=o?null:st(e),t.ySize=o?null:at(e),t.area=rt(e),t.helpMessage=(0,U.$)("circle",null===(i=e.graphic)||void 0===i?void 0:i.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-mesh":!function(t,e){const{graphic:i,view:o}=e,n=null===i||void 0===i?void 0:i.geometry;"3d"!==o.type||n&&"mesh"!==n.type||(et(t,null===n||void 0===n?void 0:n.origin,e),n&&(0,F.Ue)(t,n),t.helpMessage=(0,L.getDrawMeshHelpMessage)(i,o))}(t,e)}}function et(t,e,i){const{drawOperation:o,view:n,sketchOptions:r}=i,{cursorVertex:s}=o;t.sketchOptions=r,t.viewType=n.type;const a="multipoint"===(null===e||void 0===e?void 0:e.type)?e.getPoint(e.points.length-1):e;if(t.setLocationFromPoint(a,ct(i)),nt(t.elevation,i),!s)return void(o.constraints=void 0);const l=s;o.constraints={context:dt(l,i),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:null,direction:null}}const it=(0,V.dp)(T.A);function ot(t,e){var i;const{drawOperation:o,sketchOptions:n,view:r,automaticLengthMeasurementUtils:s}=e,{cursorVertex:a,lastVertex:l,secondToLastVertex:c}=o,u=n.values.effectiveDirectionMode;t.sketchOptions=n,t.viewType=r.type;const d=l&&a?null!==(i=s.autoDistanceBetweenPoints2D(it(l),it(a)))&&void 0!==i?i:Z.r7:null;if(t.distance.actual=d,t.distance.readOnly=null==l,t.direction.actual=null,t.direction.readOnly=!0,l&&a&&("absolute"===u||c)){const e=(0,Q.uR)(c,l,a,u);t.direction.actual=null!==e&&void 0!==e?e:Z.n0,t.direction.readOnly=!1}t.setLocationFromPoint(a,ct(e)),nt(t.elevation,e);const p=function(t,e){let{sketchOptions:i}=e;const o=i.tooltips.xyMode;return"auto"===o?t?"direction-distance":"coordinates":o}(l,e);t.xyMode=p,t.direction.visible="direction-distance"===p,t.distance.visible="direction-distance"===p,t.effectiveX.visible="coordinates"===p,t.effectiveY.visible="coordinates"===p;const h=null!==a&&void 0!==a?a:l;o.constraints=h?{context:dt(h,e),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:t.distance.committed,direction:t.direction.committed}:void 0}function nt(t,e){var i,o;const{drawOperation:n}=e,r=null!==(i=null===n||void 0===n?void 0:n.cursorVertex)&&void 0!==i?i:null===n||void 0===n?void 0:n.lastVertex;t.actual=null!==(o=(0,Y.Of)(r))&&void 0!==o?o:ut(e),t.visible=n.hasZ,t.readOnly=!1,t.showAsZ=!0}function rt(t){var e,i;const o=null===(e=t.createOperationGeometry)||void 0===e?void 0:e.full;return"polygon"!==(null===o||void 0===o?void 0:o.type)?Z.iT:null!==(i=t.automaticAreaMeasurementUtils.autoArea2D(o))&&void 0!==i?i:Z.iT}function st(t){var e,i;let{createOperationGeometry:o,automaticLengthMeasurementUtils:n}=t;const r=null===o||void 0===o||null===(e=o.rectangle)||void 0===e?void 0:e.midpoints;return null!==(i=null!=r?n.autoDistanceBetweenPoints2D(r.left,r.right):null)&&void 0!==i?i:Z.r7}function at(t){var e,i;let{createOperationGeometry:o,automaticLengthMeasurementUtils:n}=t;const r=null===o||void 0===o||null===(e=o.rectangle)||void 0===e?void 0:e.midpoints;return null!==(i=null!=r?n.autoDistanceBetweenPoints2D(r.top,r.bottom):null)&&void 0!==i?i:Z.r7}function lt(t){var e;return null!==(e=t.drawOperation.elevationInfo)&&void 0!==e?e:P.qt}function ct(t){return t.drawOperation.coordinateHelper.spatialReference}function ut(t){const e=(0,A.G9)(ct(t));return(0,Z.d_)(t.defaultZ*e,"meters")}function dt(t,e){return(0,G.hj)(t,e.view,ct(e),lt(e),e.drawOperation.coordinateHelper.hasZ(),e.sketchOptions.values.effectiveDirectionMode)}var pt=i(46975),ht=i(97513),gt=i(49281);let vt=class extends pt.g{constructor(t){super(t),this._graphic=null,this._coordinateFormatterLoadTask=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.elevationLockOnVertexAddDisabled=!1,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new ht.A}initialize(){const{view:t}=this;this.internalGraphicsLayer=new C.A({listMode:"hide",internal:!0,title:"DrawGraphicTool layer"}),this.view.map.layers.add(this.internalGraphicsLayer);const e=this.drawOperation=this.makeDrawOperation();this.tooltipInfos=function(t,e){return{point:new N({sketchOptions:e,viewType:t}),multipoint:new E({sketchOptions:e,viewType:t}),polyline:new j({sketchOptions:e,viewType:t}),polygon:new q({sketchOptions:e,viewType:t}),mesh:new D({sketchOptions:e,viewType:t}),rectangle:new $({sketchOptions:e}),circle:new R({sketchOptions:e})}}(t.type,this.sketchOptions);const i=(0,F.A)(()=>({view:t,options:this.sketchOptions.tooltips}));this.tooltip=i,B(this._tooltipsContext),this._coordinateFormatterLoadTask=(0,w.UT)(()=>(0,M.Hh)()),this.addHandles([e.on("vertex-add",t=>this.onVertexAdd(t)),e.on("vertex-remove",t=>this.onVertexRemove(t)),e.on("vertex-update",t=>this.onVertexUpdate(t)),e.on("cursor-update",t=>this.onCursorUpdate(t)),e.on("cursor-remove",()=>this._updateGraphic()),e.on("complete",t=>this.onComplete(t)),this._coordinateFormatterLoadTask,i.on("paste",t=>(0,F.HA)(t,this.activeTooltipInfo)),(0,l.wB)(()=>this.cursor,t=>{e.cursor=t},l.pc),(0,gt.fm)(()=>{const{activeTooltipInfo:t,sketchOptions:e}=this;tt(t,this._tooltipsContext),i.info=e.tooltips.effectiveEnabled?t:null}),(0,gt.fm)(()=>{e.constraintZ=function(t){const{geometryType:e,tooltipInfos:i}=t;switch(e){case"point":case"multipoint":case"mesh":case"polyline":case"polygon":{const o=i[e].elevation.committed;if(!o)return;return(0,Z.l3)(o,"meters")/(0,A.G9)(ct(t))}default:return}}(this._tooltipsContext)},l.OH)]),this.finishToolCreation(),e.initializePointer()}destroy(){this.drawOperation=(0,k.pR)(this.drawOperation),this.tooltip=(0,k.pR)(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,k.pR)(this.internalGraphicsLayer),this._set("view",null)}get _drawSpatialReference(){return this.drawOperation.coordinateHelper.spatialReference}get _tooltipsContext(){const{defaultZ:t,directionOptions:e,drawOperation:i,forceUniformSize:o,geometryType:n,graphic:r,sketchOptions:s,tooltipInfos:a,view:l,automaticAreaMeasurementUtils:c,automaticLengthMeasurementUtils:u}=this;return{createOperationGeometry:this._createOperationGeometry,defaultZ:t,directionOptions:e,drawOperation:i,forceUniformSize:o,geometryType:n,graphic:r,sketchOptions:s,tooltipInfos:a,view:l,automaticAreaMeasurementUtils:c,automaticLengthMeasurementUtils:u}}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}set mode(t){const e=this.drawOperation;e&&(e.drawingMode=t),this._set("mode",t)}get updating(){var t,e;return null!==(t=null===(e=this.drawOperation)||void 0===e?void 0:e.updating)&&void 0!==t&&t}get undoRedo(){const{view:{type:t,map:e}}=this;return"2d"===t&&e&&"undoRedo"in e&&e.undoRedo instanceof y?e.undoRedo:null}set undoRedo(t){this._override("undoRedo",t)}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||(0,F.wG)(t,this.tooltip)||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&B(this._tooltipsContext)}_destroyAllVisualizations(){this.removeHandles(ft.outline),this.removeHandles(ft.regularVertices),this.removeHandles(ft.activeVertex),this.removeHandles(ft.activeEdge),this.removeHandles(mt)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const e=new r.A((0,o.A)((0,o.A)({},this.graphicProperties),{},{symbol:this.graphicSymbol}));return this._graphic=e,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(e),this.addHandles(this.initializeGraphic(e)),this.notifyChange("graphic"),this.addHandles((0,b.hA)(()=>{this.internalGraphicsLayer.remove(e),this._graphic===e&&(this._graphic=null)}),mt),e}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{operationComplete:!1};if(null==this.drawOperation)return;const{coordinateHelper:e,view:i,visualizationCursorVertex:o,lastVertex:n,committedVertices:r,geometryIncludingUncommittedVertices:s,numCommittedVertices:a}=this.drawOperation;if(!(a>0||null!=o))return;const l=t.operationComplete?r:s,c=l.length,u=null!=o?e.pointToArray(o):null,d=this._drawSpatialReference,p="3d"===i.type&&"global"===i.viewingMode,h=new O;h.committedVertices=r,h.cursorVertex=u;const{geometryType:g}=this;switch(g){case"point":case"mesh":h.full=e.arrayToPoint(l[0]);break;case"multipoint":h.full=c>0?(0,x.eq)(l,d):null;break;case"polyline":case"polygon":c>0&&(h.full="polygon"===g?(0,x.N6)([l],d,p,!0):(0,x.LZ)([l],d,p),h.cursorEdge=null!=u&&n&&!(0,_.CI)(o,n)?(0,x.LZ)([[u,e.pointToArray(n)]],d,p):null,h.outline=c>1?h.full:null);break;case"circle":case"rectangle":{var v,m;if(h.committedVertices=h.cursorVertex=null,!c)break;const e=(0,I.ZP)(i,l[0]),o=l[0],n=e.makeMapPoint(o[0]+wt*i.resolution,o[1]);"circle"===g?1===c&&t.operationComplete?h.circle=(0,x.zV)([o,n],e,!0):2===c&&(this.forceUniformSize?h.circle=(0,x.zV)(l,e,this.centered):h.rectangle=(0,x.zd)(l,e,this.centered)):1===c&&t.operationComplete?h.rectangle=(0,x.GF)([o,n],e,!0):2===c&&(h.rectangle=this.forceUniformSize?(0,x.GF)(l,e,this.centered):(0,x._T)(l,e,this.centered)),h.full=null!=h.circle?h.circle.geometry:null===(v=h.rectangle)||void 0===v?void 0:v.geometry,h.outline="polygon"===(null===(m=h.full)||void 0===m?void 0:m.type)?h.full:null;break}default:return null}return h}initializeGraphic(t){return(0,b.hA)()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit("complete",(0,o.A)({graphic:e},t))}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return(0,b.hA)()}onCursorEdgeChanged(t){return(0,b.hA)()}onVertexAdd(t){var e;K(this._tooltipsContext),this._updateGraphic(),this.elevationLockOnVertexAddDisabled||X(null===(e=t.vertices.at(0))||void 0===e?void 0:e.coordinates,this._tooltipsContext),this.emit("vertex-add",t)}onVertexRemove(t){K(this._tooltipsContext),this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),ft.activeEdge):this.removeHandles(ft.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),ft.outline):this.removeHandles(ft.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),ft.regularVertices):this.removeHandles(ft.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),ft.activeVertex):this.removeHandles(ft.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(mt)):this._destroyAllVisualizations()}get activeTooltipInfo(){var t;return null!==(t=this._coordinateFormatterLoadTask)&&void 0!==t&&t.finished?W(this._tooltipsContext):null}};(0,n.Cg)([(0,c.MZ)()],vt.prototype,"_coordinateFormatterLoadTask",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"_createOperationGeometry",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"_tooltipsContext",null),(0,n.Cg)([(0,c.MZ)({value:!0})],vt.prototype,"centered",null),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"cursor",null),(0,n.Cg)([(0,c.MZ)({nonNullable:!0})],vt.prototype,"defaultZ",void 0),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"directionOptions",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"drawOperation",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"elevationLockOnVertexAddDisabled",void 0),(0,n.Cg)([(0,c.MZ)({value:!0})],vt.prototype,"enabled",null),(0,n.Cg)([(0,c.MZ)({value:!0})],vt.prototype,"forceUniformSize",null),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"geometryType",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"graphic",null),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"graphicProperties",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"graphicSymbol",null),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"hasZ",void 0),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"geometryToPlace",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"mode",null),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"snappingManager",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"snapToScene",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"tooltip",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"tooltipInfos",void 0),(0,n.Cg)([(0,c.MZ)({constructOnly:!0,type:ht.A})],vt.prototype,"sketchOptions",void 0),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"updating",null),(0,n.Cg)([(0,c.MZ)({constructOnly:!0,nonNullable:!0})],vt.prototype,"view",void 0),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"automaticAreaMeasurementUtils",void 0),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"automaticLengthMeasurementUtils",void 0),(0,n.Cg)([(0,c.MZ)({constructOnly:!0})],vt.prototype,"undoRedo",null),(0,n.Cg)([(0,c.MZ)()],vt.prototype,"activeTooltipInfo",null),vt=(0,n.Cg)([(0,u.$)("esri.views.draw.DrawGraphicTool")],vt);const mt=Symbol("create-operation-graphic"),ft={outline:Symbol("outline-visual"),regularVertices:Symbol("regular-vertices-visual"),activeVertex:Symbol("active-vertex-visual"),activeEdge:Symbol("active-edge-visual")};function yt(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const wt=48},65240:(t,e,i)=>{i.d(e,{B:()=>d});var o=i(6326),n=i(24648),r=i(46053),s=(i(81806),i(76460),i(47249),i(87990)),a=i(12294),l=i(5512),c=i(69077),u=i(90659);const d=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.longitude=(0,l.em)(),this.latitude=(0,l.fL)(),this.x=(0,l.Hw)(),this.y=(0,l.uf)(),this.elevation=(0,l.S3)(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===t||void 0===t?void 0:t.spatialReference;if(this.geographic=!!e&&(0,u.yF)(e),null==t)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){const e=(0,a.QP)(t,p);this._setActualLonLat((0,c.m6)(null===e||void 0===e?void 0:e[0]),(0,c.m6)(null===e||void 0===e?void 0:e[1]))}else this._setActualXY((0,n.LF)(t.x),(0,n.LF)(t.y))}_setActualLonLat(t,e){this.longitude.actual=t,this.latitude.actual=e}_setActualXY(t,e){this.x.actual=t,this.y.actual=e}};return(0,o.Cg)([(0,r.MZ)()],i.prototype,"geographic",void 0),(0,o.Cg)([(0,r.MZ)()],i.prototype,"effectiveX",null),(0,o.Cg)([(0,r.MZ)()],i.prototype,"effectiveY",null),(0,o.Cg)([(0,r.MZ)()],i.prototype,"key",null),i=(0,o.Cg)([(0,s.$)("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],i),i},p=[0,0]},76030:(t,e,i)=>{i.d(e,{getDrawMeshHelpMessage:()=>a});var o=i(31633),n=i(20664),r=i(9392),s=i(12482);function a(t,e){var i,r,a,p;const h=null===t||void 0===t?void 0:t.geometry;if(!t||"mesh"!==(null===h||void 0===h?void 0:h.type)||!e)return;const{renderCoordsHelper:g,elevationProvider:v}=e,{camera:m}=e.state,{extent:f}=h,{center:y,spatialReference:w}=f,b=(0,o.GA)(w),k=(0,o.G9)(w),M=(0,o.GA)(g.spatialReference),C=f.width*b,_=f.height*k,O=(null!==(i=f.zmax)&&void 0!==i?i:0)*k,x=O-(null!==(r=f.zmin)&&void 0!==r?r:0)*k,I=Math.max(C,_,x)/M,{x:Z,y:A}=y,V=null!==(a=y.z)&&void 0!==a?a:0;(0,n.j)(d,Z,A,V),g.toRenderCoords(d,w,d);const T=I/m.computeScreenPixelSizeAt(d);if(T>Math.min(m.width,m.height)/m.pixelRatio*c)return"meshTooClose";if(T<l)return"meshTooFar";const P=(0,s.bh)(t),{absoluteZ:U}=(0,s.Q5)(Z,A,O,w,e,P);return U<(null!==(p=v.getElevation(Z,A,V,w,"ground"))&&void 0!==p?p:0)*k+x*u?"meshUnderground":"mesh"}const l=20,c=1,u=.1,d=(0,r.vt)()},79650:(t,e,i)=>{i.d(e,{a:()=>f,b:()=>q,d:()=>y,f:()=>w,h:()=>M,j:()=>A,u:()=>b});i(81806);var o=i(76460),n=i(15941),r=i(97467),s=i(34761),a=i(13191),l=i(20664),c=i(9392),u=i(2413),d=i(44230),p=i(13927),h=i(95925),g=i(96190),v=i(75762);const m=()=>o.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return{plane:(0,p.vt)(t.plane),origin:(0,c.o8)(t.origin),basis1:(0,c.o8)(t.basis1),basis2:(0,c.o8)(t.basis2)}}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f();return w(t.origin,t.basis1,t.basis2,e)}function w(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f();return(0,l.d)(o.origin,t),(0,l.d)(o.basis1,e),(0,l.d)(o.basis2,i),b(o),function(t,e){Math.abs((0,l.f)(t.basis1,t.basis2)/((0,l.b)(t.basis1)*(0,l.b)(t.basis2)))>1e-6&&m().warn(e,"Provided basis vectors are not perpendicular"),Math.abs((0,l.f)(t.basis1,T(t)))>1e-6&&m().warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,l.f)(T(t),t.origin)-t.plane[3])>1e-6&&m().warn(e,"Plane offset is not consistent with plane origin")}(o,"fromValues()"),o}function b(t){(0,p.mR)(t.basis2,t.basis1,t.origin,t.plane)}function k(t,e,i){t!==i&&y(t,i);const o=(0,l.h)(v.rq.get(),T(t),e);return(0,l.g)(i.origin,i.origin,o),i.plane[3]-=e,i}function M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f();const i=(t[2]-t[0])/2,o=(t[3]-t[1])/2;return(0,l.j)(e.origin,t[0]+i,t[1]+o,0),(0,l.j)(e.basis1,i,0,0),(0,l.j)(e.basis2,0,o,0),(0,p.fA)(0,0,1,0,e.plane),e}function C(t,e,i){return!!(0,p.Ui)(t.plane,e,i)&&P(t,i)}function _(t,e,i){const o=S.get();G(t,e,o,S.get());let r=Number.POSITIVE_INFINITY;for(const s of D){const a=L(t,s,R.get()),c=v.rq.get();if((0,p.T7)(o,a,c)){const t=(0,l.E)(v.rq.get(),e.origin,c),o=Math.abs((0,n.XM)((0,l.f)(e.direction,t)));o<r&&(r=o,(0,l.d)(i,c))}}return r===Number.POSITIVE_INFINITY?O(t,e,i):i}function O(t,e,i){if(C(t,e,i))return i;const o=S.get(),n=S.get();G(t,e,o,n);let r=Number.POSITIVE_INFINITY;for(const s of D){const a=L(t,s,R.get()),c=v.rq.get();if((0,p.gv)(o,a,c)){const t=(0,h.kb)(e,c);if(!(0,p.Tj)(n,c))continue;t<r&&(r=t,(0,l.d)(i,c))}}return Z(t,e.origin)<r&&x(t,e.origin,i),i}function x(t,e,i){const o=(0,p._I)(t.plane,e,v.rq.get()),n=(0,d.H6)(U(t,t.basis1),o,-1,1,v.rq.get()),r=(0,d.H6)(U(t,t.basis2),o,-1,1,v.rq.get());return(0,l.e)(i,(0,l.g)(v.rq.get(),n,r),t.origin),i}function I(t,e,i){const{origin:o,basis1:n,basis2:r}=t,s=(0,l.e)(v.rq.get(),e,o),a=(0,g.gr)(n,s),c=(0,g.gr)(r,s),u=(0,g.gr)(T(t),s);return(0,l.j)(i,a,c,u)}function Z(t,e){const i=I(t,e,v.rq.get()),{basis1:o,basis2:n}=t,r=(0,l.b)(o),s=(0,l.b)(n),a=Math.max(Math.abs(i[0])-r,0),c=Math.max(Math.abs(i[1])-s,0),u=i[2];return a*a+c*c+u*u}function A(t,e){return Math.sqrt(Z(t,e))}function V(t,e){const i=-t.plane[3];return(0,g.gr)(T(t),e)-i}function T(t){return(0,p.Qj)(t.plane)}function P(t,e){const i=(0,l.e)(v.rq.get(),e,t.origin),o=(0,l.m)(t.basis1),n=(0,l.m)(t.basis2),r=(0,l.f)(t.basis1,i),s=(0,l.f)(t.basis2,i);return-r-o<0&&r-o<0&&-s-n<0&&s-n<0}function U(t,e){const i=R.get();return(0,l.d)(i.origin,t.origin),(0,l.d)(i.vector,e),i}function L(t,e,i){const{basis1:o,basis2:n,origin:r}=t,s=(0,l.h)(v.rq.get(),o,e.origin[0]),a=(0,l.h)(v.rq.get(),n,e.origin[1]);(0,l.g)(i.origin,s,a),(0,l.g)(i.origin,i.origin,r);const c=(0,l.h)(v.rq.get(),o,e.direction[0]),u=(0,l.h)(v.rq.get(),n,e.direction[1]);return(0,l.h)(i.vector,(0,l.g)(c,c,u),2),i}function G(t,e,i,o){const n=T(t);(0,p.mR)(n,e.direction,e.origin,i),(0,p.mR)((0,p.Qj)(i),n,e.origin,o)}const F={plane:(0,p.vt)(),origin:(0,c.fA)(0,0,0),basis1:(0,c.fA)(1,0,0),basis2:(0,c.fA)(0,1,0)},S=new r.I(p.vt),R=new r.I(d.vt),z=(0,c.vt)(),H=new r.I(()=>f()),D=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],E=(0,a.vt)(),N=(0,a.vt)(),q=Object.freeze(Object.defineProperty({__proto__:null,altitudeAt:V,axisAt:function(t,e,i,o){return function(t,e,i){switch(e){case 0:(0,l.d)(i,t.basis1),(0,l.n)(i,i);break;case 1:(0,l.d)(i,t.basis2),(0,l.n)(i,i);break;case 2:(0,l.d)(i,T(t))}return i}(t,i,o)},cameraFrustumCoverage:function(t,e){return(e-t)/e},closestPoint:O,closestPointOnSilhouette:_,copy:y,copyWithoutVerify:function(t,e){(0,l.d)(e.origin,t.origin),(0,l.d)(e.basis1,t.basis1),(0,l.d)(e.basis2,t.basis2),(0,p.C)(e.plane,t.plane)},create:f,distance:A,distance2:Z,distanceToSilhouette:function(t,e){let i=Number.NEGATIVE_INFINITY;for(const o of D){const n=L(t,o,R.get()),r=(0,d.kb)(n,e);r>i&&(i=r)}return Math.sqrt(i)},elevate:k,equals:function(t,e){return(0,l.q)(t.basis1,e.basis1)&&(0,l.q)(t.basis2,e.basis2)&&(0,l.q)(t.origin,e.origin)},extrusionContainsPoint:function(t,e){return(0,p.Tj)(t.plane,e)&&P(t,e)},fromAABoundingRect:M,fromValues:w,getExtent:function(t,e){const i=t.basis1[0],o=t.basis2[1],[n,r]=t.origin;return(0,u.fA)(n-i,r-o,n+i,r+o,e)},intersectRay:C,intersectRayClosestSilhouette:function(t,e,i){if(C(t,e,i))return i;const o=_(t,e,v.rq.get());return(0,l.g)(i,e.origin,(0,l.h)(v.rq.get(),e.direction,(0,l.k)(e.origin,o)/(0,l.b)(e.direction))),i},normal:T,projectPoint:x,projectPointLocal:I,rotate:function(t,e,i,o){return t!==o&&y(t,o),(0,s.$0)(N,e,i),(0,l.t)(o.basis1,t.basis1,N),(0,l.t)(o.basis2,t.basis2,N),b(o),o},setAltitudeAt:function(t,e,i,o){const n=V(t,e),r=(0,l.h)(z,T(t),i-n);return(0,l.g)(o,e,r),o},setExtent:function(t,e,i){return M(e,i),k(i,V(t,t.origin),i),i},transform:function(t,e,i){return t!==i&&y(t,i),(0,s.B8)(E,e),(0,s.mg)(E,E),(0,l.t)(i.basis1,t.basis1,E),(0,l.t)(i.basis2,t.basis2,E),(0,l.t)((0,p.Qj)(i.plane),(0,p.Qj)(t.plane),E),(0,l.t)(i.origin,t.origin,e),(0,p.mP)(i.plane,i.plane,i.origin),i},up:F,updateUnboundedPlane:b,wrap:function(t,e,i){const o=H.get();return o.origin=t,o.basis1=e,o.basis2=i,o.plane=(0,p.LV)(0,0,0,0),b(o),o}},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=68131.37620df7.chunk.js.map