{"version":3,"file":"static/js/2078.0e798bd6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as a}from\"../../core/urlUtils.js\";async function o(e,t={},a){await e.load(a);const o=r(e.itemUrl,\"resources\"),{start:s=1,num:n=10,sortOrder:l=\"asc\",sortField:u=\"created\"}=t,c={query:{start:s,num:n,sortOrder:l,sortField:u,token:e.apiKey},signal:a?.signal},i=await e.portal.request(o,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function s(e,a,o,s){if(!e.hasPath())throw new t(`portal-item-resource-${a}:invalid-path`,\"Resource does not have a valid path\");const n=e.portalItem;await n.load(s);const l=r(n.userItemUrl,\"add\"===a?\"addResources\":\"updateResources\"),[c,i]=u(e.path),p=new FormData;return c&&\".\"!==c&&p.append(\"resourcesPrefix\",c),null!=s&&s.compress&&p.append(\"compress\",\"true\"),p.append(\"fileName\",i),p.append(\"file\",o,i),p.append(\"f\",\"json\"),s?.access&&p.append(\"access\",s.access),await n.portal.request(l,{method:\"post\",body:p,signal:s?.signal}),e}async function n(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const s=r(e.userItemUrl,\"removeResources\");await e.portal.request(s,{method:\"post\",query:{resource:a.path},signal:o?.signal}),a.portalItem=null}async function l(e,t){await e.load(t);const a=r(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function u(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,o]=u(t);return[a,o,r]}function i(e){const t=a(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}function m(e,t){if(!e.hasPath())return null;const[a,,o]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+o))}export{s as addOrUpdateResource,p as contentToBlob,o as fetchResources,d as getSiblingOfSameType,m as getSiblingOfSameTypeI,l as removeAllResources,n as removeResource,c as splitPrefixFileNameAndExtension};\n"],"names":["async","o","e","t","arguments","length","undefined","a","load","r","itemUrl","start","s","num","n","sortOrder","l","sortField","u","c","query","token","apiKey","signal","i","portal","request","total","nextStart","resources","map","_ref","created","size","resource","Date","resourceFromPath","hasPath","concat","portalItem","userItemUrl","path","p","FormData","append","compress","access","method","body","deleteAll","lastIndexOf","slice","type","blob","Blob","jsonString","url","responseType","data","m"],"sourceRoot":""}