{"version":3,"sources":["../node_modules/@arcgis/core/geometry/support/rotate.js","../node_modules/@arcgis/core/views/draw/support/Box.js","../node_modules/@arcgis/core/views/draw/support/settings.js"],"names":["i","n","e","t","r","length","o","slice","push","s","x","y","l","a","p","u","c","spatialReference","f","Math","PI","m","cos","sin","center","rings","xmin","ymin","ymax","xmax","extent","paths","h","reverse","g","z","points","M","this","graphics","mover","dx","dy","type","I","C","E","angle","O","j","L","xScale","yScale","B","Y","w","transformGraphics","N","centerIndicator","_","style","size","color","fill","default","outline","outlineColor","join","width","active","stagedColor","handles","vertex","hover","hoverSize","hoverColor","hoverOutlineColor","rotator","rotatorLine","line","P","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_handles","_mover","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","callbacks","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","onGraphicClick","centerGraphic","backgroundGraphic","enableMovement","enableRotation","enableScaling","handleGraphics","layer","preserveAspectRatio","rotateGraphic","showCenterGraphic","view","_getBounds","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","d","min","max","_setup","add","S","_scaleGraphic","_updateGraphics","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","_reset","get","_set","concat","includes","geometry","v","_emitMoveStopEvent","_emitScaleStopEvent","k","_emitRotateStopEvent","state","_setupGraphics","_setupMover","_resetGraphicStateVars","destroy","cursor","removeMany","remove","b","enableMoveAllGraphics","indicatorsEnabled","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","_getBoxBounds","abs","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","rotate","map","_getGraphicInfo","viewEvent","stopPropagation","emit","symbols","graphic","_hideGraphicsBeforeUpdate","symbol","_getStartInfo","_emitRotateStartEvent","_emitScaleStartEvent","_emitMoveStartEvent","_emitScaleEvent","_rotateGraphic","_emitRotateEvent","_moveGraphic","_emitMoveEvent","rotation","index","resolution","transform","indexOf","_updateX","_updateY","G","_updateBackgroundGraphic","R","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","visible","forEach","_getCoordinates","_updateXY","some","EventedAccessor","prototype","readOnly","value","X","main","selected","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","stagedOutlineColor","midpoint","reshapeGraphics"],"mappings":"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","file":"static/js/117.7289da26.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import n from\"../Polygon.js\";import e from\"../Polyline.js\";import t from\"../Point.js\";import r from\"../Multipoint.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;\"xmin\"in s&&(a=null!=(p=a)?p:s.center,s=new n({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if(\"paths\"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new e({spatialReference:c,paths:n})}if(\"rings\"in s){var h;a=null!=(h=a)?h:s.extent.center;const e=[];for(const n of s.rings){const t=i(n),r=o(n,m,x,a);i(r)!==t&&r.reverse(),e.push(r)}return new n({spatialReference:c,rings:e})}if(\"x\"in s){var g;a=null!=(g=a)?g:s;const n=new t({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(n.z=s.z),null!=s.m&&(n.m=s.m),n}return\"points\"in s?(a=null!=(u=a)?u:s.extent.center,new r({points:o(s.points,m,x,a),spatialReference:c})):null}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import e from\"../../../Graphic.js\";import i from\"../../../core/Evented.js\";import s from\"../../../core/Handles.js\";import{destroyMaybe as r,isSome as a}from\"../../../core/maybe.js\";import{whenOnce as o,pausable as h}from\"../../../core/watchUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as l}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as p}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as d}from\"../../../geometry/support/coordsUtils.js\";import m from\"../../../geometry/support/rotate.js\";import g from\"../../../symbols/SimpleFillSymbol.js\";import u from\"../../../symbols/SimpleLineSymbol.js\";import _ from\"../../../symbols/SimpleMarkerSymbol.js\";import{cloneMove as v,scale as y,getScaleRatio as G,getRotationAngle as f}from\"./drawUtils.js\";import b from\"./GraphicMover.js\";import{addUniqueLayer as S}from\"./layerUtils.js\";import{settings as w}from\"./settings.js\";import k from\"../../../geometry/Point.js\";import x from\"../../../geometry/Polygon.js\";import R from\"../../../geometry/Polyline.js\";class M{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class C{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class E{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class O{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class j{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class L{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class z{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class B{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const Y=w.transformGraphics,N={centerIndicator:new _({style:\"cross\",size:Y.center.size,color:Y.center.color}),fill:{default:new g({color:Y.fill.color,outline:{color:Y.fill.outlineColor,join:\"round\",width:1}}),active:new g({color:Y.fill.stagedColor,outline:{color:Y.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new _({style:\"square\",size:Y.vertex.size,color:Y.vertex.color,outline:{color:Y.vertex.outlineColor,width:1}}),hover:new _({style:\"square\",size:Y.vertex.hoverSize,color:Y.vertex.hoverColor,outline:{color:Y.vertex.hoverOutlineColor,width:1}})},rotator:{default:new _({style:\"circle\",size:Y.vertex.size,color:Y.vertex.color,outline:{color:Y.vertex.outlineColor,width:1}}),hover:new _({style:\"circle\",size:Y.vertex.hoverSize,color:Y.vertex.hoverColor,outline:{color:Y.vertex.hoverOutlineColor,width:1}})},rotatorLine:new u({color:Y.line.color,width:1})};let P=class extends i.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._handles=new s,this._mover=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.centerGraphic=null,this.backgroundGraphic=null,this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.handleGraphics=[],this.layer=null,this.preserveAspectRatio=!1,this.rotateGraphic=null,this.showCenterGraphic=!0,this.view=null,this._getBounds=(()=>{const t=l();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,a,o;if(\"point\"===s.type)i=a=s.x,r=o=s.y;else if(\"multipoint\"===s.type){const e=d(s);[i,r,a,o]=p(t,[e])}else if(\"extent\"===s.type)[i,r,a,o]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=d(s);[i,r,a,o]=p(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(a,e[2]),e[3]=Math.max(o,e[3])}return e}})()}initialize(){this._setup(),this._handles.add([o(this,\"view.ready\",(()=>{const{layer:t,view:e}=this;S(e,t)})),h(this,\"preserveAspectRatio\",(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),h(this,\"view.scale\",(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),h(this,\"graphics\",(()=>this.refresh())),h(this,\"layer\",((t,e)=>{e&&this._resetGraphics(e),this.refresh()}))])}destroy(){this._reset(),this._handles=r(this._handles)}get state(){const t=!!this.get(\"view.ready\"),e=!(!this.get(\"graphics.length\")||!this.get(\"layer\"));return t&&e?\"active\":t?\"ready\":\"disabled\"}set symbols(t){const{centerIndicator:e=N.centerIndicator,fill:i=N.fill,handles:s=N.handles,rotator:r=N.rotator,rotatorLine:a=N.rotatorLine}=t||{};this._set(\"symbols\",{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:a})}isUIGraphic(t){let e=[];return this.handleGraphics.length&&(e=e.concat(this.handleGraphics)),this.backgroundGraphic&&e.push(this.backgroundGraphic),this.centerGraphic&&e.push(this.centerGraphic),this.rotateGraphic&&e.push(this.rotateGraphic),this._rotateLineGraphic&&e.push(this._rotateLineGraphic),e.length&&e.includes(t)}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=v(s,t,e,this.view);i.geometry=r}this.refresh(),this._emitMoveStopEvent(t,e,null)}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=y(s,t,e);i.geometry=r}this.refresh(),this._emitScaleStopEvent(t,e,null)}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this.handleGraphics[1].geometry.x,i=this.handleGraphics[3].geometry.y;e=new k(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=m(s,t,e);i.geometry=r}this.refresh(),this._emitRotateStopEvent(t,null)}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){const e=t||this.layer;e&&(e.removeMany(this.handleGraphics),e.remove(this.backgroundGraphic),e.remove(this.centerGraphic),e.remove(this.rotateGraphic),e.remove(this._rotateLineGraphic));for(const i of this.handleGraphics)i.destroy();this._set(\"handleGraphics\",[]),this.backgroundGraphic&&(this.backgroundGraphic.destroy(),this._set(\"backgroundGraphic\",null)),this.centerGraphic&&(this.centerGraphic.destroy(),this._set(\"centerGraphic\",null)),this.rotateGraphic&&(this.rotateGraphic.destroy(),this._set(\"rotateGraphic\",null)),this._rotateLineGraphic&&(this._rotateLineGraphic.destroy(),this._rotateLineGraphic=null)}_setupMover(){let t=[];this.enableScaling&&(t=t.concat(this.handleGraphics)),this.enableMovement&&(t=t.concat(this.graphics,this.backgroundGraphic)),this.enableRotation&&t.push(this.rotateGraphic),this.showCenterGraphic&&t.push(this.centerGraphic),this._mover=new b({enableMoveAllGraphics:!1,indicatorsEnabled:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(l()),a=Math.abs(s-e),o=Math.abs(r-i),h=(s+e)/2,c=(r+i)/2,{x:n,y:p}=t.geometry;return{width:a,height:o,centerX:h,centerY:c,startX:n,startY:p,graphicInfos:this._getGraphicInfos(),box:this.backgroundGraphic.geometry,rotate:this.rotateGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,a]=this._getBounds(l(),[e]);return{width:Math.abs(r-i),height:Math.abs(a-s),centerX:(r+i)/2,centerY:(a+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,backgroundGraphic:r,handleGraphics:a,rotateGraphic:o,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===o?(this.view.cursor=\"grabbing\",this._emitRotateStartEvent(e,c)):a.includes(c)?(this._activeHandleGraphic=c,this._emitScaleStartEvent(i,s,c)):this._emitMoveStartEvent(t.dx,t.dy,c)}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this.handleGraphics.includes(e))this._scaleGraphic(e),this._emitScaleEvent(this._xScale,this._yScale,e);else if(e===this.rotateGraphic)this._rotateGraphic(e),this._emitRotateEvent(this._angleOfRotation,e);else{const i=t.dx,s=t.dy;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this._emitMoveEvent(i,s,e)}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:a,_yScale:o,handleGraphics:h,rotateGraphic:c}=this;this.refresh(),e===c?(this.view.cursor=\"pointer\",this._emitRotateStopEvent(i,e)):h.includes(e)?this._emitScaleStopEvent(a,o,e):this._emitMoveStopEvent(s,r,e)}_onGraphicPointerOverCallback(t){const{backgroundGraphic:e,handleGraphics:i,graphics:s,rotateGraphic:r,symbols:a,view:o}=this,h=t.graphic;if(h===r)return r.symbol=a.rotator.hover,void(o.cursor=\"pointer\");if(s.includes(h)||h===e)return void(o.cursor=\"move\");if(!i.includes(h))return void(o.cursor=\"pointer\");t.graphic.symbol=a.handles.hover;const c=o.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:n=\"nwse-resize\";break;case 1:n=\"ns-resize\";break;case 2:n=\"nesw-resize\";break;case 3:n=\"ew-resize\";break;case 4:n=\"nwse-resize\";break;case 5:n=\"ns-resize\";break;case 6:n=\"nesw-resize\";break;case 7:n=\"ew-resize\";break;default:n=\"pointer\"}o.cursor=n}_onGraphicPointerOutCallback(t){const{handleGraphics:e,rotateGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,handleGraphics:i,preserveAspectRatio:s,view:r}=this,{centerX:a,centerY:o,startX:h,startY:c}=e,{resolution:n,transform:l}=r.state,p=i.indexOf(t);1!==p&&5!==p||this._updateX(t,a),3!==p&&7!==p||this._updateY(t,o);const{x:d,y:m}=t.geometry,g=l[0]*d+l[2]*m+l[4],u=l[1]*d+l[3]*m+l[5],_=e.graphicInfos.map((t=>t.geometry));if(s){const t=l[0]*a+l[2]*o+l[4],e=l[1]*a+l[3]*o+l[5],i=l[0]*h+l[2]*c+l[4],s=l[1]*h+l[3]*c+l[5];this._xScale=this._yScale=G(t,e,i,s,g,u);for(const r of _){const t=_.indexOf(r);this.graphics[t].geometry=y(r,this._xScale,this._yScale,[a,o])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=d-h,l=c-m;if(1===p||5===p?s=0:3!==p&&7!==p||(l=0),0===s&&0===l)return;const g=t+(h>a?s:-1*s),u=i+(c<o?l:-1*l),G=a+s/2,f=o+l/2;this._xScale=g/t||1,this._yScale=u/i||1,1===p||5===p?this._xScale=1:3!==p&&7!==p||(this._yScale=1);const b=(G-a)/n,S=(f-o)/n,w=y(e.box,this._xScale,this._yScale);this.backgroundGraphic.geometry=v(w,b,S,r,!0);const{centerX:x,centerY:R}=this._getGraphicInfo(this.backgroundGraphic),M=(x-a)/n,I=-1*(R-o)/n;for(const e of _){const t=_.indexOf(e),i=y(e,this._xScale,this._yScale,[a,o]);this.graphics[t].geometry=v(i,M,I,r,!0)}this.centerGraphic.geometry=new k(x,R,r.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:r,box:a,rotate:o}=this._startInfo,h=new k(s,r,this.view.spatialReference),c=new k(e,i,this.view.spatialReference),n=t.geometry;this._angleOfRotation=f(h,n,c);const l=this._startInfo.graphicInfos.map((t=>t.geometry));for(const p of l){const t=l.indexOf(p),e=m(p,this._angleOfRotation,c);this.graphics[t].geometry=e}this.backgroundGraphic.geometry=m(a,this._angleOfRotation,c),this.rotateGraphic.geometry=m(o,this._angleOfRotation,c)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=v(s,e,i,this.view);for(const r of this.graphics)r!==t&&(r.geometry=v(r.geometry,e,i,this.view))}else if(t===this.centerGraphic){const t=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=v(t,e,i,this.view)}if(t===this.backgroundGraphic||t===this.centerGraphic)for(const s of this.graphics)s.geometry=v(s.geometry,e,i,this.view)}_setupGraphics(){const{_graphicAttributes:t,symbols:i}=this;this._set(\"centerGraphic\",new e(null,i.centerIndicator,t)),this.showCenterGraphic&&this.layer.add(this.centerGraphic),this._set(\"backgroundGraphic\",new e(null,i.fill.default,t)),this.layer.add(this.backgroundGraphic),this._rotateLineGraphic=new e(null,i.rotatorLine,t),this._set(\"rotateGraphic\",new e(null,i.rotator.default,t)),this.enableRotation&&!this._hasExtentGraphic()&&(this.layer.add(this._rotateLineGraphic),this.layer.add(this.rotateGraphic));for(let s=0;s<8;s++)this.handleGraphics.push(new e(null,i.handles.default,t));this.enableScaling&&this.layer.addMany(this.handleGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this.centerGraphic.visible=!1,this.rotateGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this.handleGraphics.forEach((t=>t.visible=!1))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this.handleGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this.backgroundGraphic.geometry=new x({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(l()),r=(i+t)/2,a=(s+e)/2;this.centerGraphic.geometry=new k(r,a,this.view.spatialReference)}_updateRotateGraphic(){if(!this.handleGraphics.length)return;const{x:t,y:e}=this.handleGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this.rotateGraphic.geometry=new k(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this.handleGraphics.length||!this.rotateGraphic||!this.rotateGraphic.geometry)return;const t=this.handleGraphics[1].geometry,e=this.rotateGraphic.geometry;this._rotateLineGraphic.geometry=new R({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new k(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new k(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new k(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&a(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(l());if(t){const t=(e+s)/2,a=(r+i)/2;return[[e,r],[t,r],[s,r],[s,a],[s,i],[t,i],[e,i],[e,a]]}return[[e,r],[s,r],[s,i],[e,i]]}_emitMoveStartEvent(t,e,i){const s=new M(this.graphics,i,t,e);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(t,e,i){const s=new I(this.graphics,i,t,e);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(t,e,i){const s=new C(this.graphics,i,t,e);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitRotateStartEvent(t,e){const i=new E(this.graphics,e,t);this.emit(\"rotate-start\",i),this.callbacks.onRotateStart&&this.callbacks.onRotateStart(i)}_emitRotateEvent(t,e){const i=new O(this.graphics,e,t);this.emit(\"rotate\",i),this.callbacks.onRotate&&this.callbacks.onRotate(i)}_emitRotateStopEvent(t,e){const i=new j(this.graphics,e,t);this.emit(\"rotate-stop\",i),this.callbacks.onRotateStop&&this.callbacks.onRotateStop(i)}_emitScaleStartEvent(t,e,i){const s=new L(this.graphics,i,t,e);this.emit(\"scale-start\",s),this.callbacks.onScaleStart&&this.callbacks.onScaleStart(s)}_emitScaleEvent(t,e,i){const s=new z(this.graphics,i,t,e);this.emit(\"scale\",s),this.callbacks.onScale&&this.callbacks.onScale(s)}_emitScaleStopEvent(t,e,i){const s=new B(this.graphics,i,t,e);this.emit(\"scale-stop\",s),this.callbacks.onScaleStop&&this.callbacks.onScaleStop(s)}};t([c()],P.prototype,\"_rotateLineGraphic\",void 0),t([c({readOnly:!0})],P.prototype,\"type\",void 0),t([c()],P.prototype,\"callbacks\",void 0),t([c({readOnly:!0})],P.prototype,\"centerGraphic\",void 0),t([c({readOnly:!0})],P.prototype,\"backgroundGraphic\",void 0),t([c()],P.prototype,\"enableMovement\",void 0),t([c()],P.prototype,\"enableRotation\",void 0),t([c()],P.prototype,\"enableScaling\",void 0),t([c()],P.prototype,\"graphics\",void 0),t([c({readOnly:!0})],P.prototype,\"handleGraphics\",void 0),t([c()],P.prototype,\"layer\",void 0),t([c()],P.prototype,\"preserveAspectRatio\",void 0),t([c({readOnly:!0})],P.prototype,\"rotateGraphic\",void 0),t([c()],P.prototype,\"showCenterGraphic\",void 0),t([c({readOnly:!0})],P.prototype,\"state\",null),t([c({value:N})],P.prototype,\"symbols\",null),t([c()],P.prototype,\"view\",void 0),P=t([n(\"esri.views.draw.support.Box\")],P);var X=P;export{X as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n"],"sourceRoot":""}