"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[85286],{85286:(o,l,e)=>{e.d(l,{getRampStops:()=>D,m:()=>z,O:()=>I});var i=e(69539),n=e(59784),t=e(24921),r=e(99738),u=e(89379),s=e(53084),a=e(76931);e(89465);const d="spike-height-override";(0,a.PN)(8),(0,a.PN)(20);function c(o){var l;const{strokeColor:e,strokeWidth:i,symbolStyle:n}=o,t=(null===n||void 0===n?void 0:n.includes("solid-fill"))||(null===n||void 0===n?void 0:n.includes("gradient-fill"));let r=null===e||void 0===e?void 0:e.toArray(),u=!1;return null!==n&&void 0!==n&&n.includes("outline")&&t?u=!0:r=null===(l=o.color)||void 0===l?void 0:l.toArray(),{type:"CIMSolidStroke",effects:v(n),enable:!0,colorLocked:u,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:null!==i&&void 0!==i?i:(0,a.PN)(1),color:r}}function v(o){if(null===o||void 0===o||!o.includes("closed"))return[{type:"CIMGeometricEffectAddControlPoints",angleTolerance:90,primitiveName:"spike-control-points"},{type:"CIMGeometricEffectSuppress",suppress:!0,invert:!0,primitiveName:"spike-stroke-suppress"}]}function f(o){const{color:l,symbolStyle:e}=o,i=null===e||void 0===e?void 0:e.includes("solid-fill"),n=null===e||void 0===e?void 0:e.includes("gradient-fill");if(!i&&!n||!l)return;if(i)return{type:"CIMSolidFill",enable:!0,colorLocked:!1,color:null===l||void 0===l?void 0:l.toArray()};const t=l.clone();return t.a=0,{type:"CIMGradientFill",enable:!0,angle:90,colorRamp:{type:"CIMMultipartColorRamp",colorRamps:[{type:"CIMLinearContinuousColorRamp",fromColor:l.toArray(),toColor:t.toArray()}],weights:[1]},gradientMethod:"Linear",gradientSize:70,gradientSizeUnits:"Relative",gradientType:"Continuous"}}function y(o,l){var e,n,t;const{defaultHeight:r,baseWidth:a,color:v,strokeColor:y,primitiveOverrides:m,symbolStyle:h,strokeWidth:b}=l,g="CIMPointSymbol"===(null===(e=o.data.symbol)||void 0===e?void 0:e.type)?o.data.symbol:null,C=null===g||void 0===g?void 0:g.symbolLayers;if(!C)return o;const S=g.effects,k=null===S||void 0===S?void 0:S.find(o=>"CIMGeometricEffectTaperedPolygon"===o.type),w=null===S||void 0===S?void 0:S.find(o=>"CIMGeometricEffectRadial"===o.type&&o.primitiveName===d);null!=a&&k&&(k.fromWidth=a),null!=r&&w&&(w.length=r);const z=null===C||void 0===C?void 0:C.find(o=>"CIMSolidStroke"===o.type),I=null===C||void 0===C?void 0:C.find(o=>"CIMSolidFill"===o.type),M=null===C||void 0===C?void 0:C.find(o=>"CIMGradientFill"===o.type),A="CIMMultipartColorRamp"===(null===M||void 0===M||null===(n=M.colorRamp)||void 0===n?void 0:n.type)&&"CIMLinearContinuousColorRamp"===(null===(t=M.colorRamp.colorRamps[0])||void 0===t?void 0:t.type)?M.colorRamp.colorRamps[0]:null;if(h){var L,R,x;const o=null!==(L=null!==(R=null===I||void 0===I?void 0:I.color)&&void 0!==R?R:null===A||void 0===A?void 0:A.fromColor)&&void 0!==L?L:null===z||void 0===z?void 0:z.color,e=null!==v&&void 0!==v?v:o?new i.A(o):void 0,n=null!==(x=null===z||void 0===z?void 0:z.color)&&void 0!==x?x:o,t=null!==y&&void 0!==y?y:n?new i.A(n):void 0,r=h.includes("solid-fill"),s=h.includes("gradient-fill");if(r||s||p(C,null!==I&&void 0!==I?I:M),e)if(r)p(C,M),I?I.color=null===e||void 0===e?void 0:e.toArray():C.push(f((0,u.A)((0,u.A)({},l),{},{color:e})));else if(s)if(p(C,I),M){if(A&&v){const o=e.clone();o.a=0,A.fromColor=e.toArray(),A.toColor=o.toArray()}}else C.push(f((0,u.A)((0,u.A)({},l),{},{color:e})));if(z){const o=c((0,u.A)((0,u.A)({},l),{},{strokeColor:t,color:e}));z.effects=o.effects,z.color=o.color,z.width=o.width,z.colorLocked=o.colorLocked}}else if(z&&(y&&(z.color=y.toArray()),null!=b&&(z.width=b)),I&&v&&(I.color=v.toArray()),A&&v){const o=v.clone();o.a=0,A.fromColor=v.toArray(),A.toColor=o.toArray()}return void 0!==m&&(o.data.primitiveOverrides=(0,s.o8)(m)),o}function p(o,l){if(!l)return;const e=o.indexOf(l);-1!==e&&o.splice(e,1)}var m=e(7246),h=e(76940),b=e(29632),g=e(28675),C=e(94725),S=e(94439),k=e(60823),w=(e(15187),e(12440));const z=30,I=12,M=24,A=[255,255,255],L=[200,200,200],R=[128,128,128],x=20,P=5;async function D(o,l,i,n,r,u,s){var a,d;const c=l.legendOptions,v=null===c||void 0===c?void 0:c.customValues,f=s||await V(o,i),y=l.stops,p=!!f,m=!!v,h=null!=l.minSize&&null!=l.maxSize,b=y&&y.length>1,C=!!l.target;if(!p||!m&&!(h||b&&!C))return;const w=(0,S.$d)(f);let z=!1,I=null,A=null;I=w&&!b?(0,t.LI)([l.minDataValue,l.maxDataValue]):null!==v&&void 0!==v?v:await async function(o,l,i,n){const r=(await Promise.resolve().then(e.bind(e,15492))).getSizeRangeAtScale(o,i,n),u=r&&N(r);if(!r||!u)return;let s=u.map(l=>function(o,l,e){const i=e.minSize,n=e.maxSize,t=l.minDataValue,r=l.maxDataValue;let u;u=o<=i?t:o>=n?r:(o-i)/(n-i)*(r-t)+t;return u}(l,o,r));s=(0,t.LI)(s);for(let e=1;e<s.length-1;e++){const t=await T(o,l,s[e],s[e-1],i,n);t&&(s[e]=t[0],u[e]=t[1])}return s}(l,f,n,null===r||void 0===r?void 0:r.type);const L=null===o||void 0===o?void 0:o.authoringInfo,R="univariate-color-size"===(null===L||void 0===L?void 0:L.type),x=R&&"above-and-below"===(null===L||void 0===L?void 0:L.univariateTheme),P=!!(0,k.iz)(o,"reference-size"),D=!!(0,k.iz)(o,"spike");if(!I&&b&&(I=y.map(o=>o.value),z=y.some(o=>!!o.label),"flow"===o.type&&(I=(0,t.LI)(I)),z&&(A=y.map(o=>o.label))),w&&null!=I&&(null===(a=I)||void 0===a?void 0:a.length)>2&&!x&&(I=[I[0],I[I.length-1]]),!I)return null;R&&5!==(null===(d=I)||void 0===d?void 0:d.length)&&(I=N({minSize:I[0],maxSize:I[I.length-1]}));const E=w?O(o,I):null,G=(0,S.k_)(f),_=z?null:function(o,l){const e=o.length-1;return o.map((o,i)=>(0,k.Dd)(o,i,e,l))}(I,u),q=await Promise.all(I.map(async(e,i)=>{let t=w?E[i]:await F(l,f,e,n,null===r||void 0===r?void 0:r.type),u=t;P&&(t*=M/l.maxSize||1,u=M);const s=W(f,t,o,i);return D&&"cim"===s.type&&(u=await(0,g.D)(s)),{value:e,symbol:s,label:z?A[i]:_[i],size:u,outlineSize:G}}));return q.reverse()}function O(o,l){const e=null===o||void 0===o?void 0:o.authoringInfo,i="univariate-color-size"===(null===e||void 0===e?void 0:e.type);let n=[I,z];if(i){const o=l[0],e=l[l.length-1],i=I,t=z;n=l.map(l=>i+(l-o)/(e-o)*(t-i))}return i&&"below"===(null===e||void 0===e?void 0:e.univariateTheme)&&n.reverse(),n}async function V(o,l){var e;if("flow"===o.type)return(0,k.Zo)(o,l);if("pie-chart"===o.type)return new h.default({color:null,outline:null!==(e=o.outline)&&void 0!==e&&e.width?o.outline:new m.default});let t=null,u=null;if("simple"===o.type)t=o.symbol;else if("class-breaks"===o.type){const l=o.classBreakInfos;t=l&&l[0]&&l[0].symbol,u=l.length>1}else if("unique-value"===o.type){var s;const l=o.uniqueValueInfos;t=null===l||void 0===l||null===(s=l[0])||void 0===s?void 0:s.symbol,u=null!=l&&l.length>1}if(!t||function(o){var l,e,i;return(0,C.wk)(o)?null!==(l=null===(e=o.symbolLayers)||void 0===e?void 0:e.some(o=>"fill"===(null===o||void 0===o?void 0:o.type)))&&void 0!==l&&l:null!==(i=null===o||void 0===o?void 0:o.type.includes("fill"))&&void 0!==i&&i}(t))return null;if(t=t.clone(),l||u)if(t.type.includes("3d"))E(t);else if((0,k.iz)(o,"reference-size")&&"cim"===t.type)(0,r.oz)(t,{color:null!==l&&void 0!==l?l:"class-breaks"!==o.type?new i.A(L):null});else if((0,k.iz)(o,"spike")&&"cim"===t.type){var a,d;const o=new i.A(L),e=new i.A(R),r="CIMPointSymbol"===(null===(a=t.data.symbol)||void 0===a?void 0:a.type)?t.data.symbol:null,u=!(null===r||void 0===r||null===(d=r.symbolLayers)||void 0===d||null===(d=d.find(o=>{let{type:l}=o;return"CIMSolidStroke"===l}))||void 0===d||!d.colorLocked);let s,c=null!==l&&void 0!==l?l:void 0;if(c){const l=(0,n.Ws)(c),i=(0,w.ud)();(!i&&l>225||i&&l<25)&&(c=o,s=u?e:o)}else c=o,s=u?e:o;y(t,{color:c,strokeColor:s})}else G(t);return t}function E(o){"line-3d"===o.type?o.symbolLayers.forEach(o=>{o.material={color:R}}):o.symbolLayers.forEach(o=>{var l;"icon"!==o.type||null!==(l=o.resource)&&void 0!==l&&l.href?o.material={color:L}:(o.material={color:A},o.outline={color:R,size:1.5})})}function G(o){const l=(0,w.ud)();if("cim"===o.type)(0,b.Fe)(o,new i.A(L));else if(o.type.includes("line"))o.color=R;else if(o.color=l?R:A,"simple-marker"===o.type)if(o.outline){var e;"#ffffff"===(null===(e=o.outline)||void 0===e||null===(e=e.color)||void 0===e?void 0:e.toHex())&&(o.outline.color=R)}else o.outline={color:R,width:1.5}}function N(o){const l=o.minSize,e=o.maxSize,i=P,n=(e-l)/(i-1),t=[];for(let r=0;r<i;r++)t.push(l+n*r);return t}async function T(o,l,e,i,n,r){const u=await F(o,l,e,n,r),s=await F(o,l,i,n,r),a=(0,t.lc)(e),d=a.fractional,c=x;let v=a.integer,f=null,y=null;e>0&&e<1&&(f=10**d,v=(0,t.lc)(e*=f).integer);for(let p=v-1;p>=0;p--){const i=10**p;let a=Math.floor(e/i)*i,d=Math.ceil(e/i)*i;null!=f&&(a/=f,d/=f);let v=(a+d)/2;[,v]=(0,t.LI)([a,v,d],{indexes:[1]});const m=await F(o,l,a,n,r),h=await F(o,l,d,n,r),b=await F(o,l,v,n,r),g=(0,t.u5)(u,m,s,null),C=(0,t.u5)(u,h,s,null),S=(0,t.u5)(u,b,s,null);let k=g.previous<=c,w=C.previous<=c;if(k&&w&&(g.previous<=C.previous?(k=!0,w=!1):(w=!0,k=!1)),k?y=[a,m]:w?y=[d,h]:S.previous<=c&&(y=[v,b]),y)break}return y}async function F(o,l,i,n,t){const{getSize:r}=await Promise.resolve().then(e.bind(e,15492));return r(o,i,{scale:n,view:t,shape:"simple-marker"===l.type?l.style:null})}function W(o,l,e,i){var n,t;"univariate-color-size"===(null===e||void 0===e||null===(n=e.authoringInfo)||void 0===n?void 0:n.type)&&"above-and-below"===(null===e||void 0===e||null===(t=e.authoringInfo)||void 0===t?void 0:t.univariateTheme)&&"class-breaks"===e.type&&(o=function(o,l){var e;const i=o.classBreakInfos,n=i.length,t=n<2||!(l>=2)?i[0].symbol.clone():i[n-1].symbol.clone(),r=null===(e=o.visualVariables)||void 0===e?void 0:e.some(o=>"color"===o.type);return r&&(t.type.includes("3d")?E(t):G(t)),t}(e,i));const u=o.clone();if((0,C.wk)(u))(0,S.$d)(u)||u.symbolLayers.forEach(o=>{"fill"!==o.type&&(o.size=l)});else if(function(o){return"esri.symbols.SimpleMarkerSymbol"===o.declaredClass}(u))u.size=l;else if(function(o){return"esri.symbols.PictureMarkerSymbol"===o.declaredClass}(u)){const o=u.width,e=u.height;u.height=l,u.width=l*(o/e)}else!function(o){return"esri.symbols.SimpleLineSymbol"===o.declaredClass}(u)?function(o){return"esri.symbols.TextSymbol"===o.declaredClass}(u)?u.font&&(u.font.size=l):"cim"===u.type&&(0,k.iz)(e,"reference-size")?(0,r.oz)(u,{innerDotSize:l,outerRingSize:M}):"cim"===u.type&&(0,k.iz)(e,"spike")&&y(u,{defaultHeight:l,primitiveOverrides:null}):u.width=l;return u}},99738:(o,l,e)=>{e.d(l,{oz:()=>c});var i=e(53084);e(89465);function n(o){switch(o){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function t(o){var l;return"CIMVectorMarker"===(null===o||void 0===o?void 0:o.type)?null===(l=o.markerGraphics)||void 0===l?void 0:l[0]:void 0}function r(o){var l,e;return"CIMPolygonSymbol"===(null===o||void 0===o||null===(l=o.symbol)||void 0===l?void 0:l.type)?null===(e=o.symbol.symbolLayers)||void 0===e?void 0:e[0]:void 0}function u(o,l){"CIMVectorMarker"===(null===o||void 0===o?void 0:o.type)&&null!=l&&(o.size=l)}function s(o,l){const e=t(o);e&&null!=l&&(e.geometry=n(l))}function a(o,l){const e=r(t(o));e&&null!=l&&(e.color=l.toArray())}function d(o,l,e){const i=r(t(o));i&&null!=l&&e&&(i.colorLocked=l)}function c(o,l){var e;const{outerRingSize:n,innerDotSize:t,type:r,color:c,colorLocked:v,primitiveOverrides:f}=l,y="CIMPolygonSymbol"===(null===(e=o.data.symbol)||void 0===e?void 0:e.type)?o.data.symbol.symbolLayers:null;if(2===(null===y||void 0===y?void 0:y.length))for(const i of y){const o="reference-size-outer-ring"===i.primitiveName;u(i,o?n:t),s(i,r),a(i,c),d(i,v,o)}return null!=n&&null!=t&&(o.data.primitiveOverrides=null),void 0!==f&&(o.data.primitiveOverrides=(0,i.o8)(f)),o}}}]);
//# sourceMappingURL=85286.7dfae606.chunk.js.map