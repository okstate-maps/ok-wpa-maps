{"version":3,"file":"static/js/65131.6082a187.chunk.js","mappings":"ikBAI4sI,SAASA,EAAEA,GAAG,MAAMC,EAAE,IAAIC,EAAAA,IAAGC,WAAWC,EAAEC,OAAOC,EAAEC,SAASC,EAAEC,SAASC,GAAGT,GAAGU,OAAOC,GAAGC,WAAWC,GAAGC,gBAAgBC,GAAGC,UAAUC,GAAGC,UAAUC,GAAGC,QAAQC,GAAGC,0BAA0BC,GAAGC,yBAAyBC,GAAGC,gBAAgBC,GAAGC,kBAAkBC,GAAGC,gBAAgBC,GAAGC,iBAAiBC,GAAGC,0BAA0BC,GAAGC,yBAAyBC,IAAItC,EAAE,IAAGuC,EAAAA,EAAAA,IAAEjC,EAAEN,GAAGI,EAAEoC,IAAI,WAAW,QAAQ9B,EAAE8B,IAAI,OAAO,OAAO,CAACC,WAAU,IAAKxC,EAAEyC,QAAQC,EAAAA,EAAE3C,GAAGC,EAAEyC,QAAQE,EAAAA,EAAE5C,GAAGC,EAAEyC,QAAQG,EAAAA,GAAE7C,GAAGC,EAAEyC,QAAQI,EAAAA,GAAE9C,KAAI+C,EAAAA,EAAAA,IAAEnC,IAAI,OAAOX,EAAEyC,QAAQM,EAAAA,EAAEhD,GAAGC,EAAEA,EAAEyC,QAAQO,EAAAA,GAAEjD,GAAGC,EAAEyC,QAAQQ,EAAAA,GAAElD,GAAGC,EAAEyC,QAAQS,EAAAA,GAAEnD,GAAGC,EAAEyC,QAAQU,EAAAA,GAAEpD,IAAGqD,EAAAA,EAAAA,IAAE/C,EAAEN,GAAGC,EAAEyC,QAAQY,EAAAA,EAAEtD,GAAGC,EAAEyC,QAAQa,EAAAA,GAAG,MAAMC,GAAG,IAAI1C,IAAI,IAAIA,GAAG,OAAO0C,IAAIxC,IAAIf,EAAEyC,QAAQe,EAAAA,GAAGxD,EAAEyC,QAAQgB,EAAAA,EAAE1D,GAAGC,EAAEyC,QAAQiB,EAAAA,GAAE3D,GAAGC,EAAEyC,QAAQkB,EAAAA,EAAE5D,GAAGU,EAAE8B,IAAI,iBAAiB,QAAQvC,EAAEyC,QAAQmB,EAAAA,EAAE7D,GAAGC,EAAEyC,QAAQoB,EAAAA,EAAE9D,GAAGC,EAAEyC,QAAQqB,EAAAA,EAAE/D,GAAGM,EAAE0D,SAASxB,IAAI,IAAIyB,EAAAA,EAAE,gBAAgBR,GAAGA,EAAES,cAAc,CAACC,aAAY,KAAMzD,EAAE8B,IAAI,YAAY,QAAQvC,EAAEyC,QAAQ0B,EAAAA,EAAEpE,GAAGM,EAAEoC,QAAQ2B,EAAAA,IAAG/D,EAAEoC,QAAQ4B,EAAAA,IAAGrE,EAAEyC,QAAQhB,GAAG6C,EAAAA,EAAEC,EAAAA,GAAExE,GAAGM,EAAEmE,KAAKjC,KAAIkC,EAAAA,EAAAA,GAACC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,q4BAYnoKC,EAAAA,EAAAA,IAAErB,GAAG,2DAELqB,EAAAA,EAAAA,IAAE/C,GAAG,kDAEL+C,EAAAA,EAAAA,IAAErB,IAAIxC,GAAG,gGAUa0D,EAAAA,EAAEI,IAAIC,EAAAA,GAAEC,QAA4BN,EAAAA,EAAEO,MAAMC,EAAAA,KAInEjF,EAAEyC,QAAQyC,EAAAA,GAAEnF,GAAGQ,EAAEkC,QAAQ0C,EAAAA,EAAEpF,GAAGC,EAAEyC,QAAQ2C,EAAAA,EAAErF,GAAGQ,EAAEkC,QAAQ4C,EAAAA,GAAEtF,GAAGC,EAAEyC,QAAQ6C,EAAAA,EAAEvF,IAAGqD,EAAAA,EAAAA,IAAE7C,EAAER,GAAGQ,EAAEwD,SAASxB,IAAIlC,EAAE0D,SAASwB,IAAI,eAAe,IAAIC,EAAAA,EAAE,UAAUhC,GAAGA,EAAEiC,SAAS,IAAID,EAAAA,EAAE,UAAUhC,GAAGA,EAAEkC,SAAS,IAAIC,EAAAA,EAAE,UAAUnC,GAAGA,EAAEoC,SAAS,IAAID,EAAAA,EAAE,eAAenC,GAAGA,EAAEqC,eAAe9D,IAAIxB,EAAEwD,SAASxB,IAAI,IAAIuD,EAAAA,EAAE,MAAMtC,GAAGA,EAAEuC,UAAU/F,EAAEyC,QAAQuD,EAAAA,EAAEjG,GAAGQ,EAAEkC,QAAQwD,EAAAA,EAAElG,GAAGQ,EAAEkC,QAAQyD,EAAAA,GAAGlG,EAAEyC,QAAQ0D,EAAAA,EAAEpG,GAAGQ,EAAEkC,QAAQ2D,EAAAA,EAAErG,IAAGsG,EAAAA,EAAAA,IAAE9F,IAAG+F,EAAAA,EAAAA,IAAE/F,IAAGgG,EAAAA,EAAAA,IAAEhG,GAAGA,EAAEiE,KAAKjC,KAAIkC,EAAAA,EAAAA,GAAC+B,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,89BAGnZ5C,IAAG0C,EAAAA,EAAAA,GAACgC,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,qHACiCtC,GAAG,UAAU,QAC1CuC,EAAAA,EAAAA,IAAErD,GAAG,iCAC0BkD,EAAAA,EAAAA,GAACiC,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,kCAExC,IAAI9D,IAAG4D,EAAAA,EAAAA,GAACkC,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,8DAAwDF,EAAAA,EAAAA,GAACmC,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,8GAWlCC,EAAAA,EAAAA,IAAEjD,GAAG,iBACeiD,EAAAA,EAAAA,IAAEjD,GAAG,eAExDM,GAAE,2CAAA4E,OAA4ChF,GAAG,SAAS,qBAAoB,4EAAAgF,OAA2E1E,GAAG,WAAW,OAAM,MAAK,+BAC9JlB,GAAG,uBAAuB,wBAE9C2D,EAAAA,EAAAA,IAAEzD,IAAGsD,EAAAA,EAAAA,GAACqC,IAAAA,GAAAnC,EAAAA,EAAAA,GAAA,qNAQN,IAAItD,IAAI,IAAIA,IAAGoD,EAAAA,EAAAA,GAACsC,IAAAA,GAAApC,EAAAA,EAAAA,GAAA,wUAERC,EAAAA,EAAAA,IAAEzD,GAAG,sCACgLsD,EAAAA,EAAAA,GAACuC,IAAAA,GAAArC,EAAAA,EAAAA,GAAA,8GAE7IC,EAAAA,EAAAA,IAAEzD,GAAG,YACvDnB,CAAC,CAAC,MAAMA,EAAEiH,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAMtH,GAAGuH,OAAOC,YAAY,CAACC,MAAM,W,ubCrE4mH,SAAS5C,EAAEA,GAAG,MAAMwB,EAAE,IAAI3B,EAAAA,IAAGvE,WAAWoC,EAAElC,OAAO0E,EAAExE,SAASL,EAAEO,SAAS8E,GAAGc,GAAG1F,OAAOuE,EAAEnE,gBAAgBf,EAAEqB,QAAQpB,EAAEkB,UAAUf,EAAEa,UAAUX,GAAGuE,EAAErE,EAAE,IAAIP,GAAG,IAAIA,EAAE,IAAGuE,EAAAA,EAAAA,IAAEO,EAAEF,GAAGtC,EAAEC,IAAI,WAAW,QAAQ+C,EAAE/C,IAAI,OAAO,OAAO,CAACC,WAAU,IAAK4D,EAAE3D,QAAQ0B,EAAAA,EAAES,GAAGwB,EAAE3D,QAAQE,EAAAA,EAAEiC,GAAGwB,EAAE3D,QAAQqB,EAAAA,GAAEc,GAAGwB,EAAE3D,QAAQ6B,EAAAA,EAAEM,KAAIS,EAAAA,EAAAA,IAAEJ,GAAG,OAAOmB,EAAE3D,QAAQM,EAAAA,EAAE6B,GAAGwB,GAAElD,EAAAA,EAAAA,IAAEkD,EAAEhG,OAAOwE,GAAGwB,EAAE3D,QAAQ4B,EAAAA,EAAEO,GAAGwB,EAAE3D,QAAQa,EAAAA,GAAGvD,GAAGqG,EAAE3D,QAAQe,EAAAA,GAAG8B,EAAE/C,IAAI,eAAe,QAAQ+C,EAAE/C,IAAI,YAAY,OAAO,CAACC,WAAU,IAAK4D,EAAE3D,QAAQmB,EAAAA,EAAEgB,GAAGwB,EAAE3D,QAAQoB,EAAAA,EAAEe,GAAGwB,EAAE3D,QAAQkB,EAAAA,EAAEiB,GAAGwB,EAAE3D,QAAQiB,EAAAA,EAAEkB,GAAGE,EAAErC,QAAQY,EAAAA,IAAGyB,EAAErC,QAAQ2B,EAAAA,IAAGU,EAAEf,SAASxB,IAAI,IAAIyB,EAAAA,EAAE,gBAAgBR,GAAGA,EAAES,cAAc,CAACC,aAAY,KAAMoB,EAAE/C,IAAI,YAAY,QAAQ6D,EAAE3D,QAAQmC,EAAEpD,yBAAyByE,EAAAA,EAAED,EAAAA,GAAEpB,GAAGE,EAAEN,KAAKjC,KAAIuD,EAAAA,EAAAA,GAACpB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,8zBAS11ImB,EAAAA,EAAEjB,IAAIzB,EAAAA,GAAE2B,QAA4Be,EAAAA,EAAEd,MAAMQ,EAAAA,IAa9ErC,EAAAA,EAAAA,IAAEpD,EAAE,kFAAkF,mBACvF,MAAM+B,gBAAgBrB,GAAE2B,yBAAyBzB,IAAIiE,EAAE,OAAOwB,EAAE3D,QAAQgB,EAAAA,GAAEmB,GAAG3E,EAAEwC,QAAQyC,EAAAA,EAAEN,GAAGwB,EAAE3D,QAAQQ,EAAAA,EAAE2B,GAAG3E,EAAEwC,QAAQK,EAAAA,GAAE8B,GAAGwB,EAAE3D,QAAQkD,EAAAA,EAAEf,IAAG1B,EAAAA,EAAAA,IAAEjD,EAAE2E,IAAGyB,EAAAA,EAAAA,IAAEpG,IAAGkF,EAAAA,EAAAA,IAAElF,IAAG2C,EAAAA,EAAAA,IAAE3C,GAAGA,EAAE8D,SAASxB,IAAIuC,EAAEf,SAASwB,IAAI,eAAeT,EAAEf,SAASwB,IAAI,QAAQ,IAAIH,EAAAA,EAAE,UAAU5B,GAAGA,EAAEiC,SAAS,IAAIL,EAAAA,EAAE,UAAU5B,GAAGA,EAAEkC,SAAS,IAAIQ,EAAAA,EAAE,UAAU1C,GAAGA,EAAEoC,SAAS,IAAIM,EAAAA,EAAE,eAAe1C,GAAGA,EAAEqC,eAAepF,IAAGR,EAAE8D,SAASxB,IAAI,IAAIS,EAAAA,EAAE,MAAMQ,GAAGA,EAAEuC,UAAUK,EAAE3D,QAAQ0D,EAAAA,EAAEvB,GAAG3E,EAAEwC,QAAQ8D,EAAAA,EAAE3B,GAAG3E,EAAEwC,QAAQI,EAAAA,GAAG5C,EAAEwC,QAAQC,EAAAA,EAAEkC,IAAG0B,EAAAA,EAAAA,IAAErG,GAAGA,EAAEuE,KAAKjC,KAAIuD,EAAAA,EAAAA,GAACU,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,m2BAG3clE,GAAC,gBAAAoG,OAAiBlG,GAAG,UAAU,OAAM,KAAI,cACzDwC,EAAAA,EAAAA,IAAE1C,GAAC,GAAAoG,QAAI1D,EAAAA,EAAAA,IAAEyB,EAAEtD,0BAA0B,+BAA8B,8CAUnEsD,EAAElD,iBAAgBoE,EAAAA,EAAAA,GAACW,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,yOACoGmB,EAAAA,EAAAA,GAACY,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,gNAIpGtE,EAAE,gCAAgC,uBAEtD8C,EAAAA,EAAAA,IAAEhD,EAAE,yLAEJ2F,EAAAA,EAAAA,GAACa,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,4gBAQDpE,GAAEuF,EAAAA,EAAAA,GAACc,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,4SACGxB,EAAAA,EAAAA,IAAEhD,EAAE,sCACmK2F,EAAAA,EAAAA,GAACgB,IAAAA,GAAAnC,EAAAA,EAAAA,GAAA,8GAE7HxB,EAAAA,EAAAA,IAAEhD,EAAE,WAAciG,CAAC,CAAC,MAAMA,EAAEa,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAMzC,GAAG0C,OAAOC,YAAY,CAACC,MAAM,W,wMC1Dk5B,SAAS1D,IAAI,MAAMhB,EAAE,IAAIuD,EAAAA,GAAEvC,EAAEhB,EAAExC,SAAS,OAAOwC,EAAEL,QAAQY,EAAAA,GAAGP,EAAEL,QAAQkB,EAAAA,IAAGG,EAAErB,QAAQ4C,EAAAA,GAAGvB,EAAEC,SAASxB,IAAI,IAAI6B,EAAAA,EAAE,SAASZ,GAAGT,EAAES,EAAEiE,UAAUC,KAAKnF,KAAII,EAAAA,EAAAA,GAAC+B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kwBAqBzsCb,EAAE4D,KAAKnF,KAAII,EAAAA,EAAAA,GAAC6D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,6LAKZ7B,EAAE6E,QAAQpF,IAAI,gBAAgB,SAASuB,EAAEC,SAASxB,IAAI,IAAIK,EAAAA,EAAE,YAAYY,GAAGA,EAAEoE,eAAe,IAAIhF,EAAAA,EAAE,WAAWY,GAAGA,EAAEqE,cAAc,IAAIjE,EAAAA,EAAE,YAAYJ,GAAGA,EAAEsE,WAAW,IAAIlF,EAAAA,EAAE,MAAMY,GAAGA,EAAEuE,cAAc,IAAI1D,EAAAA,EAAE,WAAW,CAACvB,EAAEO,KAAIG,EAAAA,EAAAA,IAAE2B,EAAE9B,EAAEoE,OAAOO,UAAUlF,EAAEiF,aAAaE,WAAWC,MAAM7E,EAAEoE,OAAOU,WAAWrF,EAAEiF,aAAaE,WAAWG,SAAS,IAAIxE,EAAAA,EAAE,YAAYJ,GAAGA,EAAE6E,WAAW,IAAI/E,EAAAA,EAAE,aAAaR,IAAGU,EAAAA,EAAAA,IAAE2B,EAAErC,EAAE2E,OAAOO,UAAUlF,EAAE2E,OAAOU,cAAc3D,KAAKjC,KAAII,EAAAA,EAAAA,GAAC8D,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,s5DA8BlahC,EAAAA,EAAEkC,IAxDgiC,IA4EzgClC,EAAAA,EAAEkC,IA5EugC,MAkFtjC/B,CAAC,CAAC,SAASC,EAAES,GAAG,OAAO8E,KAAKC,IAAI,GAAG,GAAG/E,EAAEgF,6BAA6BF,KAAKG,IAAI,EAAEjF,EAAEkF,oBAAoB,CAAC,MAAMvD,GAAErC,EAAAA,EAAAA,MAAIY,EAAEuD,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAMvD,EAAE6E,UAAU5F,GAAGuE,OAAOC,YAAY,CAACC,MAAM,W,kJClF6hB,SAASlE,IAAI,MAAMA,EAAE,IAAIc,EAAAA,GAAEiC,EAAE/C,EAAEhD,SAASgD,EAAEb,QAAQe,EAAAA,GAA+B,OAAO6C,EAAE5D,QAAQK,EAAAA,GAAGuD,EAAEtC,SAASxB,IAAI,IAAI8B,EAAAA,EAAE,WAAWb,GAAGA,EAAEqE,cAAc,IAAIlF,EAAAA,EAAE,MAAMa,GAAGA,EAAEoF,cAAc,IAAIvF,EAAAA,EAAE,WAAWG,GAAGA,EAAEqF,UAAU,IAAIxD,EAAAA,EAAE,YAAY,CAAC7B,EAAEV,KAAK,MAAMO,EAAEP,EAAE2E,OAAOqB,SAAS,OAAOzF,EAAE,IAAIiF,KAAKC,IAAI,EAAE/E,EAAEsE,WAAWzE,EAAE,MAAMG,EAAEsE,aAAazB,EAAEqB,KAAKnF,KAAIoB,EAAAA,EAAAA,GAACe,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qXAO9iChB,EAAAA,EAAEqB,MAPgyB,OAW5zB1B,EAAEqE,QAAQpF,IAAI,WAAW,SAAS8D,EAAE7B,KAAKjC,KAAIoB,EAAAA,EAAAA,GAAC6C,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,kYAO/BhB,EAAAA,EAAEkB,IAlBkuB,GAkBltBlB,EAAAA,EAAEkB,IAlBgtB,KAuB1tBvB,CAAC,CAAC,MAAM+C,EAAEY,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAM/D,GAAGgE,OAAOC,YAAY,CAACC,MAAM,W,4DCvB/E,SAAS5D,EAAEA,GAAGA,EAAExD,OAAOsH,KAAKnF,KAAI8C,EAAAA,EAAAA,GAACX,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2RAO9E,C,yECP2K,SAAStB,EAAEA,EAAEM,GAAGA,EAAEoF,gBAAgB1F,EAAEnD,WAAWqC,IAAI,gBAAgB,QAAQc,EAAEjD,OAAOqC,QAAQ4C,EAAAA,IAAGhC,EAAEjD,OAAOqC,QAAQe,EAAAA,IAAGH,EAAEjD,OAAOqC,QAAQK,EAAAA,IAAGO,EAAEjD,OAAOsH,KAAKnF,KAAII,EAAAA,EAAAA,GAAC+B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,mKAE5P,mBAEpEtB,EAAEjD,OAAOsH,KAAKnF,KAAII,EAAAA,EAAAA,GAAC6D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,6EAExB,C,sMCNw9BjB,EAAAA,EAAmE,MAAMyC,GAAErD,EAAAA,EAAAA,MAAI,SAASqC,EAAErC,EAAEuB,GAAG,MAAM2E,uBAAuBtF,EAAElC,yBAAyBoB,EAAEqG,UAAU9D,EAAEzE,OAAO2F,EAAEzE,kBAAkB6B,GAAGY,EAAEX,IAAIZ,EAAE1C,OAAO2D,SAASxB,IAAI,IAAIqB,EAAAA,EAAE,QAAQJ,IAAC,IAAA0F,EAAA,OAAuB,QAAvBA,EAAE1F,EAAE2F,2BAAmB,IAAAD,EAAAA,EAAE7D,EAAAA,MAAIvC,EAAE1C,OAAO2D,SAASxB,IAAI,IAAIuB,EAAAA,EAAE,6BAA6BhB,IAAC,IAAAsG,EAAA,OAAG5F,EAAAA,EAAAA,IAAE2C,EAAuB,QAAtBiD,EAACtG,EAAEqG,2BAAmB,IAAAC,EAAAA,EAAE/D,EAAAA,IAAGc,MAAMhB,GAAGvC,IAAIE,EAAE5C,WAAWqC,IAAI,wBAAwB,QAAQO,EAAE5C,WAAWqC,IAAI,wBAAwB,QAAQO,EAAE5C,WAAWqC,IAAI,gBAAgB,QAAQO,EAAE5C,WAAWqC,IAAI,sBAAsB,SAAS,MAAMqC,EAAE9B,EAAE1C,OAAOwC,IAAIgC,EAAEnC,QAAQa,EAAAA,EAAEe,GAAGO,EAAEb,SAASxB,IAAI,IAAI6B,EAAAA,EAAE,eAAeZ,IAAGK,EAAAA,EAAAA,KAAEF,EAAAA,EAAAA,GAAEQ,EAAEX,EAAEiE,OAAO4B,2BAA2B,GAAG7F,EAAEiE,OAAO4B,2BAA2B,GAAG7F,EAAEiE,OAAO4B,2BAA2B,KAAKlF,IAAI,IAAIC,EAAAA,EAAE,eAAeZ,IAAGT,EAAAA,EAAAA,KAAEY,EAAAA,EAAAA,GAAEQ,EAAEX,EAAEiE,OAAO4B,2BAA2B,GAAG7F,EAAEiE,OAAO4B,2BAA2B,GAAG7F,EAAEiE,OAAO4B,2BAA2B,KAAKlF,MAAMS,EAAE8C,KAAKnF,KAAII,EAAAA,EAAAA,GAAC+B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2IAE72DjB,EAAEd,EAAE,+DAA+D,gCAAgCA,EAAE,sCAAsC,sBAIlJA,GAAED,EAAAA,EAAAA,GAAC6D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,iSAG2B,iBAE/BC,EAAE8C,KAAKnF,KAAII,EAAAA,EAAAA,GAAC8D,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,qFAEMjB,EAAEd,EAAE,mEAAmE,2CAA2CA,EAAE,oCAAoC,gBAE1K,IAAIyD,KAAIhD,EAAAA,EAAAA,IAAEuB,GAAGA,EAAE8C,KAAKnF,KAAII,EAAAA,EAAAA,GAAC+D,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,4GAEOjB,EAAEd,EAAE,8EAA8E,sDAAsDA,EAAE,+CAA+C,aAExNa,GAAGmB,EAAE8C,KAAKnF,KAAII,EAAAA,EAAAA,GAACgE,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,6EAEfjB,EAAEd,EAAE,8FAA8F,sEAAsEA,EAAE,+DAA+D,oBAC1O,CAAC,MAAMuB,GAAEE,EAAAA,EAAAA,K,0ECtB0G,SAASgB,EAAEA,EAAE1B,GAAG,OAAO0B,EAAE/E,SAASoH,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC4B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,8HAElKhB,EAAE/C,YAAY,KAAK,EAAEyE,EAAEnF,WAAWqC,IAAI,mBAAmB,QAAQ8C,EAAEjF,OAAOsH,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC0D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,2NAMpF,MAAM,KAAK,EAAEU,EAAEnF,WAAWqC,IAAI,SAAS,QAAQ8C,EAAEjF,OAAOsH,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC2D,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,gDAElE,MAAM,SAAQnB,EAAAA,EAAAA,IAAEG,EAAE/C,YAAY,KAAK,EAAE,KAAK,GAAG,C,iGCVwR,SAAS0C,EAAEA,EAAEc,GAAGd,EAAE9C,SAAS+B,IAAI,eAAe,OAAOe,EAAE9C,SAAS+B,IAAI,iBAAiB,OAAOe,EAAElD,OAAO2D,SAASxB,IAAI,IAAIsB,EAAAA,EAAE,qBAAqBwB,GAAG1B,EAAAA,GAAE0B,EAAEiE,gBAAgBlF,EAAEmF,iBAAiBjG,EAAElD,OAAOqC,QAAQ4C,EAAAA,IAAG/B,EAAElD,OAAOqC,QAAQK,EAAAA,IAAGQ,EAAElD,OAAOqC,QAAQe,EAAAA,IAAGF,EAAEpD,WAAWqC,IAAI,cAAc,QAAQe,EAAElD,OAAOsH,KAAKnF,KAAII,EAAAA,EAAAA,GAAC+B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wJAE7iB,iBAEnErB,EAAElD,OAAOsH,KAAKnF,KAAII,EAAAA,EAAAA,GAAC6D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,4EAErBrB,EAAElD,OAAOsH,KAAKnF,KAAII,EAAAA,EAAAA,GAAC8D,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,kLAEShC,EAAAA,EAAEkC,IAAIlB,EAAAA,GAAEoB,QACNpC,EAAAA,EAAEkC,IAAIlB,EAAAA,GAAEoB,SAEtC,C,6JCXsmB,SAASlB,EAAEwB,EAAE1B,GAAG,OAAOA,EAAE/C,YAAY,KAAK,EAAE,KAAK,EAAEyE,EAAE5C,QAAQE,EAAAA,EAAEgB,GAAG0B,EAAE7E,SAAS+B,IAAI,eAAe,QAAQ8C,EAAE7E,SAAS+B,IAAI,cAAc,QAAQ8C,EAAEjF,OAAO2D,SAASxB,IAAI,IAAIc,EAAAA,EAAE,iCAAiCP,GAAGA,EAAE0G,gCAAgC,IAAIlG,EAAAA,EAAE,gCAAgCR,GAAGA,EAAE2G,gCAAgC/B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACM,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+JAG16B,MAAM,KAAK,EAAEU,EAAEjF,OAAOsH,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACoC,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,gCAA2B,MAAM,SAAQ7B,EAAAA,EAAAA,IAAEa,EAAE/C,YAAY,KAAK,GAAG,CAAC,MAAMyF,UAAUvC,EAAAA,GAAE4F,WAAAA,GAAcC,SAASC,WAAWC,KAAKJ,+BAA8BpE,EAAAA,EAAAA,KAAG,EAAE,MAAMzB,UAAUJ,EAAAA,GAAEkG,WAAAA,GAAcC,SAASC,WAAWC,KAAKL,gCAA+BnE,EAAAA,EAAAA,MAAIwE,KAAKC,YAAWnG,EAAAA,EAAAA,KAAG,E,4OCHqpB,SAAS0C,EAAEA,EAAE3C,GAAG,MAAMtD,OAAO+F,EAAE7F,SAAS2C,EAAEzC,SAAS8D,GAAG+B,GAAGvE,gBAAgBwE,EAAEyD,iBAAiBtG,GAAGC,EAAEP,EAAEmD,GAAG,IAAI7C,GAAG/C,OAAOuF,EAAErF,WAAWsE,EAAE9C,yBAAyBgD,GAAG1B,EAAE,OAAOuC,GAAG,KAAK,GAAErD,EAAAA,EAAAA,IAAEuD,EAAEzC,GAAG2C,EAAE5D,QAAQe,EAAAA,GAAGP,EAAER,QAAQK,EAAAA,GAAEY,GAAG2C,EAAE5D,QAAQkB,EAAAA,EAAED,GAAGP,GAAGF,EAAEc,SAASxB,IAAI,IAAIuB,EAAAA,EAAE,MAAMuB,GAAGA,EAAEU,UAAUI,EAAE3B,KAAKjC,KAAI4C,EAAAA,EAAAA,GAACT,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,4MAIpsC0B,EAAE5D,QAAQmB,EAAAA,EAAEF,GAAGT,EAAEuB,KAAKjC,KAAI4C,EAAAA,EAAAA,GAACqB,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,oDAEhD5B,EAAAA,EAAAA,IAAEI,GAAEgC,EAAAA,EAAAA,GAACsB,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,0FAAgCS,EAAE,UAAU,WACN,MAAM,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,IAAGxC,EAAAA,EAAAA,IAAEuD,EAAEzC,GAAG2C,EAAE5D,QAAQe,EAAAA,GAAG6C,EAAE5D,QAAQkB,EAAAA,EAAED,GAAG2C,EAAE5D,QAAQ4B,EAAAA,EAAEX,GAAG2C,EAAE5D,QAAQE,EAAAA,EAAEe,GAAGT,EAAER,QAAQK,EAAAA,GAAEY,GAAG2C,EAAE5D,QAAQa,EAAAA,EAAEI,IAAG2B,EAAAA,EAAAA,IAAEgB,GAAG/B,EAAE/B,IAAI,QAAQ,QAAQ,CAACC,WAAU,IAAKW,GAAGF,EAAEc,SAASxB,IAAI,IAAIuB,EAAAA,EAAE,MAAMuB,GAAGA,EAAEU,UAAUI,EAAE3B,KAAKjC,KAAI4C,EAAAA,EAAAA,GAACuB,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,sQAKhQ0B,EAAE5D,QAAQmB,EAAAA,EAAEF,GAAGT,EAAEuB,KAAKjC,KAAI4C,EAAAA,EAAAA,GAACwB,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,iEAEnD5B,EAAAA,EAAAA,IAAEI,GAAEgC,EAAAA,EAAAA,GAACyB,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,yFAAgCS,EAAE,UAAU,SAEjD,KAAKa,GAAEd,EAAAA,EAAAA,GAAC2B,IAAAA,GAAAnC,EAAAA,EAAAA,GAAA,uCAAiCQ,EAAAA,EAAAA,GAAC4B,IAAAA,GAAApC,EAAAA,EAAAA,GAAA,6BAAyB,MAAM,KAAK,EAAE,EAAC/B,EAAAA,EAAAA,IAAEuD,EAAEzC,GAAG2C,EAAE5D,QAAQe,EAAAA,GAAG6C,EAAE5D,QAAQY,EAAAA,EAAEK,GAAG2C,EAAE5D,QAAQ2B,EAAAA,GAAEV,GAAG2C,EAAE5D,QAAQkB,EAAAA,EAAED,GAAG2C,EAAE5D,QAAQ4B,EAAAA,EAAEX,GAAGP,GAAGF,EAAEc,SAASxB,IAAI,IAAIuB,EAAAA,EAAE,MAAMuB,GAAGA,EAAEU,UAAU,IAAIb,GAAGZ,EAAE/B,IAAI,gBAAgB,OAAO,CAACC,WAAU,IAAK,MAAM6C,EAAE,IAAIH,GAAG,IAAIA,EAAEiB,EAAE3B,KAAKjC,KAAI4C,EAAAA,EAAAA,GAAC6B,IAAAA,GAAArC,EAAAA,EAAAA,GAAA,iQAEnSU,GAAEF,EAAAA,EAAAA,GAAC6E,IAAAA,GAAArF,EAAAA,EAAAA,GAAA,mEAA6DQ,EAAAA,EAAAA,GAAC8E,IAAAA,GAAAtF,EAAAA,EAAAA,GAAA,uDAIpC1B,EAAER,QAAQK,EAAAA,GAAEY,GAAG2C,EAAE5D,QAAQmB,EAAAA,EAAEF,GAAGT,EAAEuB,KAAKjC,KAAI4C,EAAAA,EAAAA,GAAC+E,IAAAA,GAAAvF,EAAAA,EAAAA,GAAA,uHAEvE5B,EAAAA,EAAAA,IAAEI,GAAEgC,EAAAA,EAAAA,GAACgF,IAAAA,GAAAxF,EAAAA,EAAAA,GAAA,0FAAgCS,EAAE,UAAU,SAGjD,IAAIF,GAAEC,EAAAA,EAAAA,GAACiF,IAAAA,GAAAzF,EAAAA,EAAAA,GAAA,6DAAuDQ,EAAAA,EAAAA,GAACkF,IAAAA,GAAA1F,EAAAA,EAAAA,GAAA,mKAIpB,KAAK,CAAC,KAAK,GAAE/B,EAAAA,EAAAA,IAAEuD,EAAEzC,GAAG2C,EAAE5D,QAAQe,EAAAA,GAAG6C,EAAE5D,QAAQkB,EAAAA,EAAED,GAAG2C,EAAE5D,QAAQ4B,EAAAA,EAAEX,GAAGP,GAAGF,EAAEc,SAASxB,IAAI,IAAIuB,EAAAA,EAAE,MAAMuB,GAAGA,EAAEU,UAAUI,EAAE3B,KAAKjC,KAAI4C,EAAAA,EAAAA,GAACmF,IAAAA,GAAA3F,EAAAA,EAAAA,GAAA,4MAI9I1B,EAAER,QAAQK,EAAAA,GAAEY,GAAG2C,EAAE5D,QAAQmB,EAAAA,EAAEF,GAAG2C,EAAE5D,QAAQoB,EAAAA,EAAEH,GAAGT,EAAEuB,KAAKjC,KAAI4C,EAAAA,EAAAA,GAACoF,IAAAA,GAAA5F,EAAAA,EAAAA,GAAA,qGAE9E5B,EAAAA,EAAAA,IAAEI,GAAEgC,EAAAA,EAAAA,GAACqF,IAAAA,GAAA7F,EAAAA,EAAAA,GAAA,0FAAgCS,EAAE,UAAU,WAET,C,8DCvCC,SAASzB,EAAEA,EAAEH,GAAG,OAAOA,EAAE9C,QAAQ,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAEiD,EAAErD,SAASoH,KAAKnF,KAAIc,EAAAA,EAAAA,GAACqB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2VASjI,MAAM,KAAK,EAAEhB,EAAErD,SAASoH,KAAKnF,KAAIc,EAAAA,EAAAA,GAACmD,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,+EAElC,C,mJCXunB,SAASd,EAAEA,EAAElB,GAAG,MAAMiB,EAAEC,EAAEvD,UAAUsB,kBAAkB0B,EAAEmH,gBAAgBtE,EAAEnE,iBAAiBgB,EAAE0H,sBAAsB9H,EAAE+H,SAASjH,EAAExB,0BAA0Ba,GAAGJ,EAAEW,GAAGO,EAAE3D,WAAWqC,IAAI,UAAU,QAAQsB,EAAErD,SAAS+B,IAAI,WAAW,QAAQ,IAAI4D,EAAEvC,EAAE8D,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACK,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2SAKh3Bf,EAAE8D,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACmC,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,4OAKXf,EAAE8D,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACoC,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,6XAWb3B,GAAG,IAAIJ,IAAIiB,EAAEpB,QAAQkB,EAAAA,EAAEhB,GAAGiB,EAAEG,SAASxB,IAAI,IAAImB,EAAE,IAAII,EAAAA,EAAE,gBAAgBN,GAAGA,EAAEoH,eAAe,IAAIxG,EAAAA,EAAE,gBAAgBZ,GAAGA,EAAEoH,gBAAgB7H,IAAIa,EAAEG,SAASxB,IAAI,IAAIO,EAAAA,EAAE,QAAQU,IAAC,IAAAqH,EAAA,OAAS,QAATA,EAAErH,EAAEsH,aAAK,IAAAD,EAAAA,EAAExH,EAAAA,MAAIO,EAAEG,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,+BAA+BhC,IAAC,IAAA0H,EAAA,OAAgC,QAAhCA,EAAE1H,EAAE2H,oCAA4B,IAAAD,EAAAA,EAAEvH,EAAAA,OAAKI,EAAE8D,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACqC,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,oIAC5N5B,GAAGa,EAAE8D,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACsC,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,+TAGRf,EAAE8D,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACuC,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,4CACpF,C,mIC1Bie,SAASb,EAAEO,EAAEb,GAAG,MAAMM,EAAEO,EAAE/D,SAASqD,OAAO,IAAIH,EAAEyH,gCAAgCzH,EAAEyH,gCAAgC,EAAE,IAAItH,GAAGG,EAAEC,SAASxB,IAAI,IAAI+D,EAAAA,EAAE,qBAAqB4E,IAAA,IAAEC,SAAS9G,GAAE6G,EAAA,OAAG5H,EAAAA,EAAAA,GAAER,EAAEuB,EAAE+G,GAAGtI,EAAE,GAAGuB,EAAE+G,GAAG1H,EAAE,GAAGW,EAAE+G,GAAGlG,EAAE,OAAMpB,EAAE4D,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACM,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wLAGtsB,IAAIhB,GAAGG,EAAEC,SAASxB,IAAI,IAAImB,EAAAA,EAAE,sBAAsB2H,IAAA,IAAEF,SAAS7H,GAAE+H,EAAA,OAAGhI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,MAAK,IAAIY,EAAAA,EAAE,sBAAsB4H,IAAA,IAAEH,SAAS7H,GAAEgI,EAAA,OAAGjI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,MAAK,IAAIA,EAAAA,EAAE,sBAAsB6H,IAAA,IAAEJ,SAAS7H,GAAEiI,EAAA,OAAGlI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,OAAMpB,EAAE4D,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACoC,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,oWAajT,IAAIhB,IAAIG,EAAEC,SAASxB,IAAI,IAAI+D,EAAAA,EAAE,qBAAqBkF,IAAA,IAAEL,SAAS9G,GAAEmH,EAAA,OAAGlI,EAAAA,EAAAA,GAAER,EAAEuB,EAAE+G,GAAGtI,EAAE,GAAGuB,EAAE+G,GAAG1H,EAAE,GAAGW,EAAE+G,GAAGlG,EAAE,MAAK,IAAIxB,EAAAA,EAAE,uBAAuB+H,IAAA,IAAEN,SAAS7H,GAAEmI,EAAA,OAAGpI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,MAAK,IAAIY,EAAAA,EAAE,uBAAuBgI,IAAA,IAAEP,SAAS7H,GAAEoI,EAAA,OAAGrI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,MAAK,IAAIA,EAAAA,EAAE,uBAAuBiI,IAAA,IAAER,SAAS7H,GAAEqI,EAAA,OAAGtI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,MAAK,IAAIxB,EAAAA,EAAE,uBAAuBkI,IAAA,IAAET,SAAS7H,GAAEsI,EAAA,OAAGvI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,GAAGQ,EAAE8H,GAAGtI,EAAE,MAAK,IAAIY,EAAAA,EAAE,uBAAuBmI,IAAA,IAAEV,SAAS7H,GAAEuI,EAAA,OAAGxI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,GAAGJ,EAAE8H,GAAG1H,EAAE,MAAK,IAAIA,EAAAA,EAAE,uBAAuBoI,IAAA,IAAEX,SAAS7H,GAAEwI,EAAA,OAAGzI,EAAAA,EAAAA,GAAEV,EAAEW,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,GAAG5B,EAAE8H,GAAGlG,EAAE,OAAMpB,EAAE4D,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACqC,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,wuBAyBtpB,IAAInB,EAAEpC,SAAS,IAAIoC,EAAEpC,SAAS0C,EAAE4D,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACsC,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,+PAK1C,CAAC,MAAM7B,GAAEuB,EAAAA,EAAAA,MAAI1B,GAAEa,EAAAA,EAAAA,K,+QC9C0X,MAAMb,UAAUG,EAAAA,EAAE4G,WAAAA,CAAY5G,EAAEO,GAAGsG,MAAM7G,EAAEO,EAAE,IAAIG,EAAAA,EAAEY,EAAAA,EAAE,IAAI,kCAA0CiB,EAAAA,GAAE,CAAC0G,kBAAAA,GAAqB,OAAO1I,EAAAA,EAAAA,IAAE,CAAC2I,WAAW1I,EAAAA,IAAG,E,0BCA5Y,MAAMR,UAAUU,EAAAA,EAAEkG,WAAAA,GAAcC,SAASC,WAAWC,KAAK/B,UAAU,CAAC,EAAE,MAAMzE,UAAUP,EAAE4G,WAAAA,GAAcC,SAASC,WAAWC,KAAKxB,UAAU,CAAC,EAAE,MAAMhD,UAAU7B,EAAAA,GAAG,MAAMI,UAAUyB,EAAEqE,WAAAA,GAAcC,SAASC,WAAWC,KAAKhB,UAASzE,EAAAA,EAAAA,KAAG,E,eCAiB,MAAMzB,UAAUG,EAAAA,EAAE4G,WAAAA,CAAY5G,EAAEO,GAAGsG,MAAM7G,EAAEO,EAAE,IAAIG,EAAAA,EAAEY,EAAAA,EAAE,IAAI,kCAAsCiB,EAAAA,GAAE,CAAC0G,kBAAAA,GAAqB,OAAO1I,EAAAA,EAAAA,IAAE,CAAC2I,WAAW1I,EAAAA,IAAG,E,qCCA4yB,IAAIgB,EAAE,cAAca,EAAAA,EAAEuE,WAAAA,CAAYlG,GAAGmG,MAAMnG,GAAGqG,KAAKoC,SAAS,CAACC,SAAS,CAAC,YAAYrC,KAAKsC,SAAS9H,EAAAA,GAAE+H,KAAKvC,KAAKwC,UAAU,KAAI,EAAGxC,KAAKyC,aAAYhJ,EAAAA,EAAAA,IAAE,GAAGuG,KAAK0C,gBAAgB,IAAI1I,EAAEgG,KAAK2C,gBAAgB,IAAInG,CAAC,CAACoG,UAAAA,GAAa,MAAMjJ,EAAEkJ,WAAWC,KAAKC,KCA3iD,ogIDAmjDpJ,GAAGA,EAAEqJ,WAAW,IAAI/J,EAAE,IAAI8B,EAAAA,EAAE,IAAI9B,EAAEgK,SAAS,MAAMhK,EAAEiK,YAAY,KAAKjK,EAAEgK,SAAS,MAAMhK,EAAEkK,WAAU,EAAGnD,KAAK0C,gBAAgBxE,aAAa,IAAI/E,EAAAA,EAAE6G,KAAKoD,iBAAiBnK,EAAEU,GAAGqG,KAAKqD,WAAWC,WAAWjI,GAAG2E,KAAKqD,WAAWC,WAAWvK,GAAGiH,KAAKuD,YAAWhJ,EAAAA,EAAAA,IAAE,IAAIyF,KAAKwC,YAAY,IAAIxC,KAAKyC,aAAYhJ,EAAAA,EAAAA,IAAE,IAAI,CAAC+J,OAAAA,GAAUxD,KAAK0C,gBAAgBxE,cAAa1E,EAAAA,EAAAA,IAAEwG,KAAK0C,gBAAgBxE,aAAa,CAACuF,MAAAA,CAAO9J,GAAG,MAAMH,EAAEG,EAAE+J,KAAKrC,IAAA,IAAEsC,KAAKhK,GAAE0H,EAAA,MAAG,YAAY1H,IAAGY,EAAG,OAADf,QAAC,IAADA,OAAC,EAADA,EAAGoK,aAAapI,EAAG,OAADhC,QAAC,IAADA,OAAC,EAADA,EAAGoK,WAAWvK,EAAAA,IAAG,IAAIkB,IAAIiB,EAAE,OAAO,MAAM1B,EAAEkG,KAAKqD,WAAW3H,IAAIL,GAAGC,EAAE0E,KAAKqD,WAAW3H,IAAI3C,GAAG,IAAIe,EAAE+J,WAAWvI,EAAEuI,SAAS,OAAO7D,KAAKyC,aAAYhJ,EAAAA,EAAAA,IAAEqK,YAAYC,YAAY/D,KAAKgE,cAAc,GAAG,IAAIhE,KAAKyC,cAAczC,KAAKyC,aAAYhJ,EAAAA,EAAAA,IAAEqK,YAAYC,QAAQ,MAAMjL,EAAEkH,KAAKoD,iBAAiBpJ,EAAEgG,KAAKiE,KAAKC,gBAAgBC,aAAa3H,EAAEwD,KAAKoE,eAAejL,EAAEqD,EAAEoB,OAAO7C,EAAE5B,EAAE0F,kBAAkBpE,GAAExB,EAAAA,EAAAA,KAAGc,EAAAA,EAAEgB,IAAIhB,EAAAA,EAAE0C,EAAAA,GAAG,EAAE,GAAGH,EAAEtC,EAAE,EAAEyE,KAAK4F,IAAIrK,EAAE8J,YAAYC,MAAM/D,KAAKyC,aAAazI,EAAE,EAAEoB,EAAEkB,EAAE7B,EAAEuF,KAAK0C,gBAAgB3E,cAAcxD,EAAEyF,KAAK0C,gBAAgB1E,aAAaxC,EAAEwE,KAAK0C,gBAAgBzE,UAAU,EAAE9E,EAAEwF,6BAA6B,GAAGqB,KAAK0C,gBAAgBlE,UAAU,EAAE9D,GAAEd,EAAAA,EAAAA,GAAET,IAAI,EAAEiC,EAAE,MAAMlC,EAAEC,EAAEmL,aAAa,GAAG5H,EAAEvD,EAAEmL,aAAa,GAAG/I,EAAEyE,KAAKuE,SAASC,QAAQtL,EAAEwD,EAAE,aAAa,GAAG5D,EAAE2L,gBAAgBlJ,EAAEmJ,KAAK5L,EAAE6L,YAAY,EAAE,EAAEzL,EAAEwD,GAAG5D,EAAE8L,cAAc9K,EAAE0C,EAAEwD,KAAK0C,gBAAgB1C,KAAK2C,iBAAiB7J,EAAE+L,OAAOC,OAAO,MAAM1I,EAAEqC,KAAKsG,MAAM7L,EAA3iD,GAAgjDE,EAAEqF,KAAKsG,MAAMrI,EAA7jD,GAAkkDpD,EAAE0G,KAAKuE,SAASC,QAAQpI,EAAEhD,EAAE,YAAY,GAAGN,EAAE2L,gBAAgBnL,EAAEoL,KAAK1E,KAAK2C,gBAAgB5D,aAAaxD,EAAEqI,cAAa3J,EAAAA,EAAAA,IAAE+F,KAAK2C,gBAAgB3D,SAAS,EAAvtD,EAA2tDtC,GAAG5D,EAAE8L,cAActJ,EAAEkB,EAAEwD,KAAK0C,gBAAgB1C,KAAK2C,iBAAiB7J,EAAE6L,YAAY,EAAE,EAAEvI,EAAEhD,GAAGN,EAAE+L,OAAOC,OAAOvJ,EAAEyJ,UAAU,MAAM1K,EAAE0F,KAAKuE,SAASC,QAAQpI,EAAEhD,EAAEoB,EAAAA,GAAE+H,KAAK,GAAG,OAAOzJ,EAAE2L,gBAAgBnK,EAAEoK,KAAK5L,EAAE6L,YAAY,EAAE,EAAEzL,EAAEwD,GAAG5D,EAAEmM,cAAc,EAAE,EAAE,EAAE,GAAGnM,EAAEoM,MAAM,OAAOlF,KAAK2C,gBAAgB5D,aAAazF,EAAEsK,cAAa3J,EAAAA,EAAAA,IAAE+F,KAAK2C,gBAAgB3D,SAAniE,EAA8iE9F,EAAE,GAAGJ,EAAE8L,cAActJ,EAAEkB,EAAEwD,KAAK0C,gBAAgB1C,KAAK2C,iBAAiB7J,EAAE6L,YAAY,EAAE,EAAEvI,EAAEhD,GAAGN,EAAE+L,OAAOC,OAAOhM,EAAEqM,eAAehM,EAAEmL,cAAchL,EAAE0L,UAAU1I,EAAE,GAAG0D,KAAKgE,cAAc,GAAG1J,CAAC,IAAGX,EAAAA,EAAAA,IAAE,EAAC6B,EAAAA,EAAAA,OAAKf,EAAE2K,UAAU,gBAAgB,IAAGzL,EAAAA,EAAAA,IAAE,EAAC6B,EAAAA,EAAAA,OAAKf,EAAE2K,UAAU,gBAAgB,IAAGzL,EAAAA,EAAAA,IAAE,EAAC6B,EAAAA,EAAAA,IAAE,CAAC6J,eAAc,KAAM5K,EAAE2K,UAAU,iBAAiB,GAAG3K,GAAEd,EAAAA,EAAAA,IAAE,EAACG,EAAAA,EAAAA,GAAE,iDAAiDW,GAAG,MAAMC,EAAE,G,QEA7iH,SAASlB,EAAEA,EAAEgC,GAAGA,EAAE8J,yBAAyB9L,EAAEU,SAASxB,IAAI,IAAI6B,EAAAA,EAAE,UAAUZ,IAAC,IAAA4L,EAAA,OAAQ,QAARA,EAAE5L,EAAE6L,YAAI,IAAAD,OAAA,EAANA,EAAQ3B,gBAAepK,EAAEiM,UAAU/M,IAAI,wBAAwB,QAAQ,IAAKc,EAAEqE,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACkB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,gTAMrWtB,EAAEqE,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACgD,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,iHACiC,C,6LCPG,SAAShB,EAAEA,GAAGA,EAAE+D,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACkB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,mIAE3EhB,EAAE+D,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACgD,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,kOAGb,C,2CCLm6B,SAASQ,EAAE7B,GAAGA,EAAEgM,UAAU/M,IAAI,qBAAqB,QAAQmB,EAAAA,GAAE,CAAC,SAASX,EAAEO,GAAGA,EAAES,SAASxB,IAAI,IAAIsB,EAAAA,EAAE,uBAAuBP,GAAGA,EAAE6H,SAASoE,cAAc,CAAC,SAASlJ,EAAE3C,EAAE2C,GAAG,MAAML,EAAEtC,EAAEpD,UAAUc,QAAQ8D,EAAElE,UAAUiF,EAAEnE,gBAAgBe,GAAGwD,EAAEL,EAAEvD,QAAQ4C,EAAAA,EAAEgB,GAAG,IAAInB,GAAGc,EAAEvD,QAAQK,EAAAA,EAAEuD,GAAG3C,EAAEjB,QAAQ4B,EAAAA,EAAEgC,GAAGL,EAAEvD,QAAQE,EAAAA,GAAGqD,EAAEvD,QAAQG,EAAAA,EAAEyD,GAAG,MAAM5B,IAAI,IAAIS,IAAIrC,GAAG,OAAO4B,GAAGuB,EAAEvD,QAAQ6D,GAAGN,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACM,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,oGACnvCP,EAAAA,EAAEY,MAAM1B,EAAAA,KAEjCQ,EAAAA,EAAAA,IAAE,IAAIoB,EAAE,2CACTC,EAAEa,GAAGjD,EAAEiD,IAAGxC,EAAAA,EAAAA,IAAEwC,GAAGA,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACoC,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,iMAEPsB,GAAE7B,EAAAA,EAAAA,GAACqC,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,6BAAuBP,EAAAA,EAAAA,GAACsC,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,8BAG/CtB,EAAAA,EAAAA,IAAE2C,GAAGA,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACuC,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,4RAGlBO,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAExB,EAAEjB,QAAQkB,EAAAA,IAAGqC,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACwC,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,8fAQjD,MAAM,KAAK,EAAE,KAAK,EAAEqB,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAAC0C,IAAAA,GAAAnC,EAAAA,EAAAA,GAAA,m2BAesBqB,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAAC2C,IAAAA,GAAApC,EAAAA,EAAAA,GAAA,2RAE4B0B,EAAEmJ,cAAcxJ,EAAEjC,SAASxB,IAAI,IAAIqB,EAAAA,EAAE,gBAAgBN,GAAGA,EAAEmM,mBAAmBzJ,EAAEsJ,UAAU/M,IAAI,gBAAgB,QAAO,GAAIyD,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAAC4C,IAAAA,GAAArC,EAAAA,EAAAA,GAAA,igCAQ3EqB,EAAEjC,SAASxB,IAAI,IAAIsB,EAAAA,EAAE,2BAA2BP,GAAGA,EAAE6H,SAASuE,UAAUC,kBAAkB,IAAI9L,EAAAA,EAAE,8BAA8BP,GAAGA,EAAE6H,SAASuE,UAAUE,sBAAsBlI,KAAKnF,KAAI6B,EAAAA,EAAAA,GAAC4F,IAAAA,GAAArF,EAAAA,EAAAA,GAAA,yvCAU9OqB,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAAC6F,IAAAA,GAAAtF,EAAAA,EAAAA,GAAA,yVAIrGF,GAAEL,EAAAA,EAAAA,GAAC8F,IAAAA,GAAAvF,EAAAA,EAAAA,GAAA,6HAAuHP,EAAAA,EAAAA,GAAC+F,IAAAA,GAAAxF,EAAAA,EAAAA,GAAA,4HAG9H,MAAM,KAAK,EAAE,KAAK,GAAEnB,EAAAA,EAAAA,IAAEwC,IAAG3C,EAAAA,EAAAA,IAAE2C,GAAGA,EAAE0B,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACgG,IAAAA,GAAAzF,EAAAA,EAAAA,GAAA,0oDA0B7C,C,0FCxF4H,SAAStB,EAAEgB,GAAGA,EAAEN,SAASxB,IAAI,IAAIe,EAAAA,EAAE,qBAAqBA,GAAGA,EAAE6H,SAASuE,UAAUG,WAAW,CAAC,SAASlM,EAAEU,GAAGA,EAAEN,SAASxB,IAAI,IAAIe,EAAAA,EAAE,qBAAqBA,GAAGA,EAAE6H,SAASuE,UAAUrH,WAAW,CAAC,SAAShD,EAAE/B,GAAGD,EAAEC,EAAEhD,UAAUqD,EAAEL,EAAEhD,UAAUgD,EAAEhD,SAASoH,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACK,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,iMAGpX,C,4ECHuH,SAASnB,EAAEA,EAAE6B,GAAG,MAAMvB,EAAEN,EAAElD,SAAS,OAAOwD,EAAE4D,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC4B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kGAG7JU,EAAEoF,iBAAiB,KAAK,EAAE3G,EAAE4D,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC0D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,sGAErD,MAAM,KAAK,EAAEb,EAAE4D,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC2D,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,2LAEzB,MAAM,KAAK,EAAEb,EAAE4D,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC4D,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,uJAEzB,MAAM,SAAQhB,EAAAA,EAAAA,IAAE0B,EAAEoF,iBAAiB,KAAK,GAAG,C,wECTI,SAASpH,EAAEA,GAAGA,EAAEqE,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACkB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,yLAEzEtB,EAAEqE,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACgD,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,uJAEZtB,EAAEqE,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACiD,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,iYAMb,C,iCCV8J,SAASN,EAAEA,EAAEV,GAAGU,EAAE5B,QAAQ4C,EAAAA,GAAG,IAAI1B,EAAEvC,SAAS,IAAIuC,EAAEvC,SAAS,IAAIuC,EAAEvC,SAAS,IAAIuC,EAAEvC,UAAUiD,EAAEqD,KAAKnF,KAAIc,EAAAA,EAAAA,GAACqB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,iLAKnQN,EAAEqD,KAAKnF,KAAIc,EAAAA,EAAAA,GAACmD,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,kVAOX,IAAIhB,EAAEvC,SAAS,IAAIuC,EAAEvC,UAAUiD,EAAE5B,QAAQe,GAAGa,EAAEqD,KAAKnF,KAAIc,EAAAA,EAAAA,GAACoD,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,+YAoBxDN,EAAEqD,KAAKnF,KAAIc,EAAAA,EAAAA,GAACqD,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,grBAQb,CAAC,SAAShB,EAAEH,EAAEa,GAAGb,EAAEf,QAAQ4C,EAAAA,GAAG7B,EAAEkE,KAAKnF,KAAIc,EAAAA,EAAAA,GAACsD,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,yfAUtBN,EAAEyL,6BAA6B,MAAM,QACxDtM,EAAEkE,KAAKnF,KAAIc,EAAAA,EAAAA,GAACuD,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,sHAEbnB,EAAEkE,KAAKnF,KAAIc,EAAAA,EAAAA,GAACyD,IAAAA,GAAAnC,EAAAA,EAAAA,GAAA,kOAKZnB,EAAEkE,KAAKnF,KAAIc,EAAAA,EAAAA,GAAC0D,IAAAA,GAAApC,EAAAA,EAAAA,GAAA,oFAEZnB,EAAEkE,KAAKnF,KAAIc,EAAAA,EAAAA,GAAC2D,IAAAA,GAAArC,EAAAA,EAAAA,GAAA,ogBAQb,C,kJCpE2mBhB,EAAAA,EAAsG,SAASU,EAAEzB,EAAEe,GAAG,MAAML,EAAEK,EAAEvC,QAAQiD,EAAEzB,EAAEtC,SAAS,GAAG,IAAIgD,GAAG,IAAIA,GAAG,IAAIA,EAAE,YAAYe,EAAEqD,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACM,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kCAA6B,GAAG,IAAIrB,EAAE,YAAYe,EAAEqD,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACoC,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,6EACp0B,GAAG,IAAIrB,EAAE,YAAYe,EAAEqD,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACqC,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,sIAGjC,MAAMoL,4BAA4BlM,EAAEmM,qCAAqClM,EAAEmM,oBAAoB9K,EAAE+K,6BAA6B7J,EAAEsE,SAASrE,GAAG3C,GAAGE,GAAGsB,IAAIvC,EAAEH,QAAQe,EAAAA,EAAEG,GAAGU,EAAEqD,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACsC,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,oCAC1Md,GAAGQ,EAAEN,SAASxB,IAAI,IAAI+D,EAAE,IAAI3D,EAAAA,EAAE,uBAAuBa,GAAGA,EAAE2M,0BAA0B,IAAIvM,EAAAA,EAAE,uBAAuBJ,GAAGA,EAAE2M,2BAA2BhL,GAAGd,EAAEN,SAASxB,IAAI,IAAI+D,EAAE,IAAI3D,EAAAA,EAAE,eAAea,GAAGA,EAAE4M,kBAAkB,IAAIxM,EAAAA,EAAE,eAAeJ,GAAGA,EAAE4M,mBAAmB/L,EAAEN,SAASxB,IAAI,IAAI+D,EAAE,IAAIxD,EAAAA,EAAE,aAAaU,GAAGA,EAAE6M,YAAY,IAAIhL,EAAAA,EAAE,aAAa7B,GAAGA,EAAE6M,aAAahM,EAAEqD,KAAKnF,KAAI6B,EAAAA,EAAAA,GAACuC,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,6MACzXtB,EAAAA,EAAAA,IAAEQ,GAAEO,EAAAA,EAAAA,GAACwC,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,wOAMLtB,EAAAA,EAAAA,IAAE8B,EAAE,oFAGKA,EAAE,YAAY,OAOrB9B,EAAAA,EAAAA,IAAEQ,EAAC,0BAAAgD,OAA2B/C,EAAE,sBAAsB,OAAM,QAC5DT,EAAAA,EAAAA,IAAE8B,EAAC,kBAAA0B,OAAmBR,EAAE,cAAc,OAAM,QAEhD,C,qGCzBiL,SAAS1C,EAAEA,EAAEE,GAAG,MAAMP,GAAER,EAAAA,EAAAA,IAAEe,EAAEnD,SAASmD,EAAEyM,eAAehN,IAAG+B,EAAAA,EAAAA,GAAE1B,GAAE,GAAIA,EAAEvD,OAAOsH,KAAKnF,KAAIc,EAAAA,EAAAA,GAACqB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kEACxNnB,EAAAA,EAAAA,IAAEF,EAAE,uCACjD,C,qCCFmD,MAAMc,UAAUtB,EAAAA,EAAE4G,WAAAA,CAAY5G,EAAEsB,EAAEf,EAAEG,GAAGmG,MAAM7G,EAAE,OAAO,EAAE,CAACO,EAAEgC,EAAEvB,EAAEF,IAAIP,EAAEkN,sBAAsBzN,EAAEsB,EAAEiB,EAAEvB,EAAEF,GAAGJ,GAAGH,EAAE,ECA3G,MAAMe,UAAUtB,EAAAA,EAAE4G,WAAAA,CAAY5G,EAAEsB,EAAEf,EAAEG,GAAGmG,MAAM7G,EAAE,OAAO,EAAE,CAACO,EAAEgC,EAAEvB,IAAIT,EAAEkN,sBAAsBzN,EAAEsB,EAAEiB,EAAEvB,GAAGN,GAAGH,EAAE,E,mBCA6XP,EAAAA,EAAqD,SAASc,EAAED,GAAGA,EAAErD,SAASyD,SAASxB,IAAI,IAAIc,EAAE,kBAAkB,CAACM,EAAEH,IAAIA,EAAEgN,UAAUC,qBAAqB9M,EAAE+M,QAAQ,IAAI/N,EAAEgB,EAAE,CAAC,SAASU,EAAEV,GAAGA,EAAErD,SAASyD,SAASxB,IAAI,IAAIe,EAAE,kBAAkB,CAACK,EAAEH,IAAIA,EAAEgN,UAAUC,qBAAqB9M,EAAE+M,QAAQ,IAAI/N,EAAEgB,EAAE,CAAC,SAAShB,EAAEgB,GAAG,MAAMrD,SAASgD,GAAGK,EAAEL,EAAES,SAASxB,IAAI,IAAIiB,EAAAA,EAAE,mBAAmBG,GAAGA,EAAE6M,UAAUG,kBAAkB,IAAIvM,EAAAA,EAAE,cAAcT,GAAGA,EAAE6M,UAAUI,cAActN,EAAEoE,KAAKnF,KAAI8C,EAAAA,EAAAA,GAACX,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,sjCAsBv+B,CCtBsI,SAASnB,EAAEG,GAAGA,EAAErD,SAASoH,KAAKnF,KAAI8C,EAAAA,EAAAA,GAACX,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,uHAEzK,C,mBCFoD,MAAMnB,UAAUV,EAAAA,EAAE4G,WAAAA,CAAY5G,EAAEU,GAAGmG,MAAM7G,EAAE,kBAAkB,EAAE,CAACuC,EAAEjB,IAAIiB,EAAEwL,YAAY/N,EAAEU,EAAEY,IAAI,ECA6iBR,EAAAA,EAAqD,SAASuB,EAAExB,EAAE0B,GAAGA,EAAEiL,gBAAgB3M,EAAElB,QAAQe,GAAGZ,EAAEe,EAAE0B,EAAE,CAAC,SAASgB,EAAE1C,EAAE0B,GAAGA,EAAEiL,gBAAgB3M,EAAElB,QAAQK,GAAGF,EAAEe,EAAE0B,EAAE,CAAC,SAASzC,EAAEe,EAAEH,GAAGG,EAAErD,SAASyD,SAASxB,IAAI,IAAIe,EAAAA,EAAE,uBAAuBK,GAAGA,EAAEwH,SAASoE,eAAe,MAAMe,eAAexN,EAAE9B,UAAUqC,GAAGG,EAAEG,EAAElB,QAAQ4C,EAAE7B,GAAGV,GAAGW,EAAEE,GAAGA,EAAErD,SAASoH,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACK,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,sGAEtgC7B,EAAE,gGAA+FH,EAAAA,EAAAA,IAAEU,EAAE,wDAAwD,QAExK,CAAC,SAASI,EAAEE,GAAGA,EAAElB,QAAQoB,GAAGF,EAAErD,SAASyD,SAASxB,IAAI,IAAI6B,EAAE,YAAY8G,IAAA,IAAEsF,UAAU7M,GAAEuH,EAAA,OAAGvH,EAAEkE,gBAAeH,KAAKnF,KAAI8B,EAAAA,EAAAA,GAACmC,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,gQAMnH,C,wCCVH,MAAMnB,EAAE,IAAI6B,EAAE,G,yICA4M,SAAS1B,EAAEA,EAAES,GAAGA,EAAEhC,0BAA0BuB,EAAEnD,SAAS+B,IAAI,UAAU,QAAQoB,EAAEvD,OAAO2D,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,8BAA8B7B,IAAC,IAAAsN,EAAA,OAA+B,QAA/BA,EAAEtN,EAAEuN,mCAA2B,IAAAD,EAAAA,EAAEhO,EAAAA,MAAI4E,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACkB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,kGAE5YhB,EAAEvD,OAAOsH,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACgD,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,+BAA0B,CAAC,SAASP,EAAET,EAAES,GAAGA,EAAElC,2BAA2B,IAAIkC,EAAEsG,uBAAuB/G,EAAEnD,SAAS+B,IAAI,WAAW,QAAQoB,EAAEvD,OAAO2D,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,+BAA+B7B,IAAC,IAAAwN,EAAA,OAAgC,QAAhCA,EAAExN,EAAEwH,oCAA4B,IAAAgG,EAAAA,EAAElO,EAAAA,MAAI4E,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACiD,IAAAA,GAAA9B,EAAAA,EAAAA,GAAA,qGAEtQhB,EAAEvD,OAAOsH,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACkD,IAAAA,GAAA/B,EAAAA,EAAAA,GAAA,gCAA2B,CAAC,SAASrB,EAAEK,EAAES,GAAGA,EAAE6M,6BAA6B,IAAI7M,EAAEsG,uBAAuB/G,EAAEnD,SAAS+B,IAAI,aAAa,QAAQoB,EAAEvD,OAAO2D,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,iCAAiC7B,IAAC,IAAA0N,EAAA,OAAkC,QAAlCA,EAAE1N,EAAE2N,sCAA8B,IAAAD,EAAAA,EAAEpO,EAAAA,MAAI4E,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACmD,IAAAA,GAAAhC,EAAAA,EAAAA,GAAA,2GAE/QhB,EAAEvD,OAAOsH,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACoD,IAAAA,GAAAjC,EAAAA,EAAAA,GAAA,kCAA6B,CAAC,SAASd,EAAEF,EAAES,GAAGA,EAAE8L,8BAA8B,IAAI9L,EAAEsG,uBAAuB/G,EAAEnD,SAAS+B,IAAI,cAAc,QAAQoB,EAAEvD,OAAO2D,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,kCAAkC7B,IAAC,IAAA4N,EAAA,OAAmC,QAAnCA,EAAE5N,EAAE6N,uCAA+B,IAAAD,EAAAA,EAAEtO,EAAAA,MAAI4E,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACsD,IAAAA,GAAAnC,EAAAA,EAAAA,GAAA,8GAErRhB,EAAEvD,OAAOsH,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACuD,IAAAA,GAAApC,EAAAA,EAAAA,GAAA,mCAA8B,CAAC,SAAStB,EAAEM,EAAES,GAAGA,EAAE4L,sCAAsC,IAAI5L,EAAEsG,uBAAuB/G,EAAEnD,SAAS+B,IAAI,sBAAsB,QAAQoB,EAAEvD,OAAO2D,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,0CAA0C7B,IAAC,IAAA8N,EAAA,OAA2C,QAA3CA,EAAE9N,EAAE+N,+CAAuC,IAAAD,EAAAA,EAAExO,EAAAA,MAAI4E,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACwD,IAAAA,GAAArC,EAAAA,EAAAA,GAAA,sIAEtThB,EAAEvD,OAAOsH,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACwG,IAAAA,GAAArF,EAAAA,EAAAA,GAAA,2CAAsC,C,6FCVmO,SAAS0B,EAAEhB,EAAEvC,GAAGH,EAAE0C,EAAEvC,EAAE,IAAIO,EAAAA,EAAE,qBAAqBgC,GAAGA,EAAEmM,oBAAoB,CAA4E,SAAS7O,EAAE0C,EAAEhC,EAAEgD,GAAG,MAAMjC,EAAEiB,EAAE/E,SAASqC,EAAEU,EAAE0G,iBAAiBnH,EAAE,IAAID,EAAE,IAAIA,GAAG,IAAIA,GAAGyB,EAAEL,SAASxB,IAAI8D,GAAGjC,EAAEsD,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC4B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,gFAE7hB,IAAIhC,EAAE,iBAAgB,iBAAAkE,OAAkBjE,EAAEE,EAAAA,EAAEkC,MAAMrB,EAAAA,GAAG,qBAAoB,gDAAAkD,QAA+CrD,EAAAA,EAAAA,IAAE,IAAIb,EAAE,6BAEpI,C,uECJ2G,SAASW,EAAEA,GAAGA,EAAEb,QAAQe,EAAAA,GAAGF,EAAEoE,KAAKnF,KAAIc,EAAAA,EAAAA,GAACqB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,k2CAOlItB,EAAAA,EAAEwB,IAAI,GAGNxB,EAAAA,EAAEwB,IAAI,GAGNxB,EAAAA,EAAEwB,IAAI,GAiBNxB,EAAAA,EAAEwB,IAAI,GAGNxB,EAAAA,EAAEwB,IAAI,IAOtB,C,yECxCoI,SAASrB,EAAEA,EAAEa,GAAGA,EAAEnD,YAAYsC,EAAEO,SAASxB,IAAI,IAAI8C,EAAAA,EAAE,YAAYA,GAAGA,EAAEnE,YAAYwG,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC4B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qbAQ9NnB,EAAEkE,KAAKnF,KAAIO,EAAAA,EAAAA,GAAC0D,IAAAA,GAAA7B,EAAAA,EAAAA,GAAA,qGAEZ,C,oQCV2xC,MAAM3B,EAAE0G,WAAAA,CAAYrG,GAAGwG,KAAK4H,eAAepO,EAAEoO,eAAe5H,KAAK6H,gBAAgBrO,EAAEqO,gBAAgB7H,KAAK8H,YAAYtO,EAAEsO,YAAY9H,KAAK+H,MAAMvO,EAAEwO,cAAchI,KAAKiI,YAAYzO,EAAE0O,oBAAoBlI,KAAKmI,kBAAkB3O,EAAE2O,kBAAkBnI,KAAKoI,eAAe5O,EAAE4O,eAAepI,KAAKqI,iBAAiB7O,EAAE8O,SAAS,2BAA2BtO,EAAAA,IAAGgG,KAAKuI,MAAM/O,EAAE8O,SAAS,gBAAgBhN,EAAAA,IAAG0E,KAAKwI,UAAUhP,EAAE8O,SAAS,oBAAoBhN,EAAAA,IAAG0E,KAAKyI,MAAMjP,EAAE8O,SAAS,QAAQvP,EAAAA,IAAGiH,KAAK0I,SAASlP,EAAE8O,SAAS,WAAWvP,EAAAA,GAAE,EAAE,IAAIkD,EAAE,cAActC,EAAAA,EAAEkG,WAAAA,CAAYrG,EAAEG,GAAGmG,MAAMtG,GAAGwG,KAAK2I,OAAO,IAAIlP,EAAAA,GAAEuG,KAAK4I,UAAU,EAAE5I,KAAK6I,MAAM,EAAE7I,KAAK8I,MAAM,EAAE9I,KAAK+I,qBAAqB,IAAIC,IAAIhJ,KAAKiJ,yBAAyB,IAAID,IAAIhJ,KAAKkJ,QAAkxJ,SAAW1P,GAAG,OAAOJ,EAAEsD,EAAEyM,QAAQ3P,GAAG4P,GAAG,SAASA,GAAG,WAAW,CAAx0J/P,CAAEM,GAAGqG,KAAK4I,UAAUrN,EAAEyE,KAAKqJ,QAAQrJ,KAAKkJ,QAAQI,aAAatJ,KAAK4I,WAAW5I,KAAKuJ,MAAM,IAAIpQ,EAAE6G,KAAKqJ,QAAQ,CAAC,YAAIG,GAAW,OAAOxJ,KAAK4I,SAAS,CAAC,QAAIa,GAAO,OAAOzJ,KAAK6I,KAAK,CAAC,QAAI5E,GAAO,OAAOjE,KAAKuJ,KAAK,CAACG,WAAAA,GAAc1J,KAAK6I,MAAM,EAAE7I,KAAK4I,WAAW5I,KAAK2J,QAAQ,MAAMnQ,EAAEwG,KAAK4J,YAAY,OAAO5J,KAAKuJ,MAAMd,MAAMoB,IAAIrQ,EAAE,GAAGwG,KAAK6I,QAAQ7I,KAAK2I,OAAOmB,KAAK,qBAAqBtQ,CAAC,CAACuQ,cAAAA,CAAevQ,GAAG,MAAMG,EAAEqG,KAAKuJ,MAAMd,OAAMnO,EAAAA,EAAAA,IAAEd,GAAG,GAAGA,EAAEwG,KAAK4I,cAAc,EAAEjP,EAAE+B,IAAIlC,IAAI,2BAA2BwG,KAAKgK,cAAcxQ,EAAE,IAAIwG,KAAKiK,eAAezQ,EAAE,IAAIwG,KAAKkK,aAAa1Q,GAAGwG,KAAK2I,OAAOmB,KAAK,oBAAoB,CAACI,YAAAA,CAAa1Q,GAAG,MAAMG,EAAEqG,KAAKuJ,MAAMd,OAAMnO,EAAAA,EAAAA,IAAEd,GAAG,GAAGA,EAAEwG,KAAK4I,cAAc,EAAEjP,EAAE+B,IAAIlC,IAAI,2BAA2BG,EAAEkQ,IAAIrQ,EAAE,GAAGwG,KAAK6I,OAAO,CAACsB,iBAAAA,CAAkB3Q,EAAEG,GAAO,IAALY,IAACwF,UAAAqK,OAAA,QAAAC,IAAAtK,UAAA,KAAAA,UAAA,GAAKC,KAAKuJ,MAAM3B,eAAe0C,OAAO9Q,EAAEG,GAAGY,GAAGyF,KAAKuK,qBAAqB/Q,EAAE,CAACgR,iBAAAA,CAAkBhR,EAAEG,GAAGqG,KAAKuJ,MAAM3B,eAAe6C,OAAOjR,EAAEG,EAAE,CAAC+Q,kBAAAA,CAAmBlR,EAAEG,GAAO,IAALY,IAACwF,UAAAqK,OAAA,QAAAC,IAAAtK,UAAA,KAAAA,UAAA,GAAKC,KAAKuJ,MAAM1B,gBAAgByC,OAAO9Q,EAAEG,GAAGY,GAAGyF,KAAKuK,qBAAqB/Q,EAAE,CAACmR,kBAAAA,CAAmBnR,EAAEG,GAAGqG,KAAKuJ,MAAM1B,gBAAgB4C,OAAOjR,EAAEG,EAAE,CAAC4Q,oBAAAA,CAAqB/Q,GAAG,MAAMG,EAAEqG,KAAKuJ,MAAMhP,EAAEE,EAAEhB,EAAE6C,EAAE3C,EAAEiO,eAAe6C,OAAOjR,EAAE4C,GAAGzC,EAAEkO,gBAAgB4C,OAAOjR,EAAE2C,GAAG,MAAMrC,GAAEC,EAAAA,EAAAA,IAAEoC,EAAEA,EAAEC,IAAGnC,EAAAA,EAAAA,GAAEM,EAAET,EAAE,IAAIA,EAAE,IAAIA,EAAE,KAAKH,EAAEmO,YAAY8C,OAAOpR,EAAEe,IAAGiB,EAAAA,EAAAA,IAAE/B,EAAEK,GAAGH,EAAEoO,MAAMuC,OAAO9Q,EAAEC,GAAG,MAAMR,GAAE8B,EAAAA,EAAAA,IAAEN,EAAEX,GAAGb,EAAE4R,OAAOlR,EAAEwO,kBAAkB0B,IAAIrQ,EAAE,EAAEP,EAAE,IAAIU,EAAEwO,kBAAkB0B,IAAIrQ,EAAE,EAAEP,EAAE,KAAIuB,EAAAA,EAAAA,IAAEf,EAAEA,IAAGX,EAAAA,EAAAA,IAAEW,EAAEA,GAAGE,EAAEsO,YAAYqC,OAAO9Q,EAAEC,GAAGuG,KAAKiK,eAAezQ,EAAE,IAAIwG,KAAK2I,OAAOmB,KAAK,6BAA6B,CAACgB,MAAMtR,GAAG,CAACuR,iBAAAA,CAAkBvR,EAAEG,GAAG,MAAMY,EAAEyF,KAAKuJ,MAAMhP,EAAEwN,MAAM0C,OAAOjR,EAAE8C,GAAG/B,EAAEuN,YAAYkD,OAAOxR,EAAEiB,GAAGd,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG,EAAEA,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG,EAAEA,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,GAAG2C,EAAE,GAAG3C,EAAE,IAAI2C,EAAE,GAAG3C,EAAE,IAAI,EAAEA,EAAE,IAAIc,EAAE,GAAGd,EAAE,IAAIc,EAAE,GAAGd,EAAE,IAAIc,EAAE,GAAGd,EAAE,IAAI,CAAC,CAACsR,yBAAAA,CAA0BzR,EAAEG,GAAG,MAAMqG,KAAKkL,sBAAsBlL,KAAKkL,qBAAqBC,eAAenL,KAAKxG,EAAEG,EAAE,CAACyR,yBAAAA,CAA0B5R,EAAEG,GAAG,OAAOqG,KAAK+K,kBAAkBvR,EAAEG,GAAG,MAAMqG,KAAKkL,sBAAsBlL,KAAKkL,qBAAqBC,eAAenL,KAAKxG,EAAEG,GAAGA,CAAC,CAAC0R,yBAAAA,CAA0B7R,EAAEG,GAAGqG,KAAKuJ,MAAM3B,eAAe6C,OAAOjR,EAAEG,GAAG,MAAMqG,KAAKkL,sBAAsBlL,KAAKkL,qBAAqBC,eAAenL,KAAKxG,EAAEG,EAAE,CAAC2R,yBAAAA,CAA0B9R,GAAG,IAAIG,EAAEqG,KAAKuJ,MAAMpB,kBAAkBzM,IAAIlC,EAAE,GAAG,OAAO,MAAMwG,KAAKkL,uBAAuBlL,KAAKkL,qBAAqBK,YAAY9Q,EAAEuF,KAAKxG,GAAGG,GAAG8E,KAAKC,IAAIjE,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKd,CAAC,CAAC6R,4BAAAA,CAA6BhS,GAAG,IAAIG,EAAEqG,KAAKuJ,MAAMpB,kBAAkBzM,IAAIlC,EAAE,GAAG,OAAO,MAAMwG,KAAKkL,uBAAuBlL,KAAKkL,qBAAqBK,YAAY9Q,EAAEuF,KAAKxG,GAAGG,GAA42D,SAAWH,EAAEG,EAAEY,GAAG,OAAOkE,KAAKC,IAAID,KAAK4F,IAAI7K,EAAEG,GAAG8E,KAAK4F,IAAI5F,KAAKC,IAAIlF,EAAEG,GAAGY,GAAG,CAAn7DX,CAAEa,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKd,CAAC,CAAC8R,QAAAA,CAASjS,EAAEG,GAAGqG,KAAKuJ,MAAMxB,MAAM0C,OAAOjR,EAAEG,EAAE,CAAC+R,mBAAAA,CAAoBlS,EAAEG,GAAE,IAAAgS,EAA4B,QAA3BA,EAAA3L,KAAKuJ,MAAMlB,wBAAgB,IAAAsD,GAA3BA,EAA6Bf,OAAOpR,EAAEG,EAAE,CAACiS,mBAAAA,CAAoBpS,EAAEG,GAAE,IAAAkS,EAA4B,QAA3BA,EAAA7L,KAAKuJ,MAAMlB,wBAAgB,IAAAwD,GAA3BA,EAA6Bb,OAAOxR,EAAEG,EAAE,CAACmS,QAAAA,CAAStS,EAAEG,GAAE,IAAAoS,EAAiB,QAAhBA,EAAA/L,KAAKuJ,MAAMhB,aAAK,IAAAwD,GAAhBA,EAAkBnB,OAAOpR,EAAEG,EAAE,CAACqS,wBAAAA,CAAyBxS,EAAEG,GAAE,IAAAsS,EAAqB,QAApBA,EAAAjM,KAAKuJ,MAAMf,iBAAS,IAAAyD,GAApBA,EAAsBrB,OAAOpR,EAAEG,EAAE,CAACuS,UAAAA,CAAW1S,EAAEG,GAAGA,IAAIqG,KAAKmM,WAAW3S,KAAKwG,KAAKoM,cAAc5S,EAAE,EAAEG,GAAGqG,KAAK2I,OAAOmB,KAAK,8BAA8B,CAACgB,MAAMtR,IAAI,CAAC2S,UAAAA,CAAW3S,GAAG,OAAOwG,KAAKgK,cAAcxQ,EAAE,EAAE,CAAC6S,YAAAA,CAAa7S,EAAEG,GAAG,MAAMoP,qBAAqBxO,GAAGyF,KAAKvG,EAAEc,EAAEmB,IAAIlC,GAAGG,EAAEA,IAAIF,IAAIc,EAAEsP,IAAIrQ,EAAEG,GAAGqG,KAAKoM,cAAc5S,EAAE,GAAE,GAAIwG,KAAK2I,OAAOmB,KAAK,+BAA+BrQ,IAAIc,EAAE+R,OAAO9S,GAAGwG,KAAKoM,cAAc5S,EAAE,GAAE,GAAIwG,KAAK2I,OAAOmB,KAAK,8BAA8B,CAAC,uBAAIyC,GAAsB,OAAOvM,KAAK+I,oBAAoB,CAACyD,qBAAAA,CAAsBhT,GAAG,OAAOwG,KAAKgK,cAAcxQ,EAAE,EAAE,CAACiT,sBAAAA,CAAuBjT,GAAE,IAAAkT,EAAC,MAAM/S,EAAsC,QAArC+S,EAAC1M,KAAKiJ,yBAAyBvN,IAAIlC,UAAE,IAAAkT,EAAAA,EAAE,KAAK,OAAO1M,KAAKiJ,yBAAyBqD,OAAO9S,GAAGG,CAAC,CAACgT,gBAAAA,CAAiBnT,GAAE,IAAAoT,EAAC,MAAMjT,EAAiC,QAAhCiT,EAAC5M,KAAKuM,oBAAoB7Q,IAAIlC,UAAE,IAAAoT,EAAAA,EAAE,KAAK,OAAOjT,EAAEqG,KAAKiJ,yBAAyBY,IAAIrQ,EAAEG,GAAGqG,KAAKiJ,yBAAyBqD,OAAO9S,GAAGG,CAAC,CAACkT,QAAAA,CAASrT,GAAG,OAAOwG,KAAKuJ,MAAMd,MAAM/M,IAAIlC,EAAE,CAACsT,WAAAA,CAAYtT,GAAG,OAAOwG,KAAKuJ,MAAMb,SAAShN,IAAIlC,EAAE,CAACuT,UAAAA,CAAWvT,GAAG,IAAIG,EAAE,EAAE,IAAI,IAAIY,EAAE,EAAEA,EAAEyF,KAAK4I,YAAYrO,EAAGyF,KAAK6M,SAAStS,GAAGf,KAAKG,EAAE,OAAOA,CAAC,CAACsQ,cAAAA,CAAezQ,EAAEG,GAAG,MAAMY,EAAEyF,KAAKuJ,MAAMd,MAAM9O,EAAEY,EAAEmB,IAAIlC,GAAGG,EAAEY,EAAEsP,IAAIrQ,EAAEG,EAAE,CAACqT,gBAAAA,CAAiBxT,EAAEG,GAAG,MAAMY,EAAEyF,KAAKuJ,MAAMd,MAAM9O,EAAEY,EAAEmB,IAAIlC,IAAIG,EAAEY,EAAEsP,IAAIrQ,EAAEG,EAAE,CAACyS,aAAAA,CAAc5S,EAAEG,EAAEY,GAAGA,EAAEyF,KAAKiK,eAAezQ,EAAEG,GAAGqG,KAAKgN,iBAAiBxT,EAAEG,EAAE,CAACqQ,aAAAA,CAAcxQ,EAAEG,GAAG,SAASqG,KAAKuJ,MAAMd,MAAM/M,IAAIlC,GAAGG,EAAE,CAACgQ,KAAAA,GAAQ3J,KAAK4I,UAAUnK,KAAKC,IAAInD,EAAEkD,KAAKwO,MAAMjN,KAAK4I,UAAUrO,EAAAA,KAAIyF,KAAKqJ,QAAQrJ,KAAKkJ,QAAQI,aAAatJ,KAAK4I,WAAWsE,SAASlN,KAAKqJ,SAASrJ,KAAKuJ,MAAM,IAAIpQ,EAAE6G,KAAKqJ,QAAQ,CAACO,SAAAA,GAAY,MAAMpQ,EAAEwG,KAAKuJ,MAAMd,MAAM,IAAI9O,EAAEqG,KAAK8I,MAAM,KAAK,EAAEtP,EAAEkC,IAAI/B,IAAIA,EAAEA,EAAE,IAAIqG,KAAK4I,UAAU,EAAEjP,EAAE,EAAE,OAAOqG,KAAK8I,MAAMnP,EAAE,IAAIqG,KAAK4I,UAAU,EAAEjP,EAAE,EAAEA,CAAC,IAA8EH,EAAAA,EAAAA,IAAE,EAACM,EAAAA,EAAAA,IAAE,CAACuL,eAAc,KAAMpJ,EAAEmJ,UAAU,4BAA4B,IAAG5L,EAAAA,EAAAA,IAAE,EAACM,EAAAA,EAAAA,OAAKmC,EAAEmJ,UAAU,aAAa,IAAG5L,EAAAA,EAAAA,IAAE,EAACM,EAAAA,EAAAA,IAAE,CAACqT,UAAS,KAAMlR,EAAEmJ,UAAU,OAAO,MAAMnJ,GAAEzC,EAAAA,EAAAA,IAAE,EAACP,EAAAA,EAAAA,GAAE,6DAA6DgD,GAAG,MAAMS,GAAExD,EAAAA,EAAAA,MAAIkU,QAAQ,kBAAkBA,QAAQ,mBAAmBC,QAAQ,kBAAkBC,QAAQ,eAAeC,MAAM,iBAAiBA,MAAM,uBAAuBC,MAAM,qBAAoF,SAASpU,EAAEI,EAAEG,GAAG,OAAOA,EAAE8T,2BAA2BjU,EAAEkU,MAAM,4BAA4B/T,EAAEuF,gBAAgB1F,EAAEmU,OAAO,kBAAiBtS,EAAAA,EAAAA,MAAK7B,EAAEmU,OAAO,qBAAqBnU,CAAC,CAAC,MAAMiB,GAAE+B,EAAAA,EAAAA,MAAIF,GAAEG,EAAAA,EAAAA,MAAIL,GAAEvC,EAAAA,EAAAA,MAAIsC,GAAEtC,EAAAA,EAAAA,MAAI0B,EAAE,E,+GCA32N,MAAMtC,EAAE4G,WAAAA,CAAY5G,EAAEQ,EAAEc,GAAGyF,KAAK4N,YAAYnU,EAAEoU,OAAO7N,KAAKqJ,QAAQ,IAAI7P,EAAAA,EAAEP,GAAEU,EAAAA,EAAAA,GAAEF,EAAE,IAAIuG,KAAK8N,OAAOvT,EAAE,CAACiJ,OAAAA,GAAUxD,KAAKqJ,QAAQ0E,SAAS,CAAC,YAAIvE,GAAW,OAAOxJ,KAAK4I,SAAS,CAAC,SAAIoF,GAAQ,OAAOhO,KAAKiO,MAAM,CAAC,UAAIC,GAAS,OAAOlO,KAAKqJ,OAAO,CAAC,cAAI8E,GAAa,OAAOnO,KAAKiO,OAAOG,WAAWpO,KAAKqJ,QAAQ8E,UAAU,CAACE,SAAAA,CAAU1U,EAAEH,EAAEP,GAAM,IAAJQ,EAACsG,UAAAqK,OAAA,QAAAC,IAAAtK,UAAA,GAAAA,UAAA,GAAC,EAAG,MAAMxF,EAAE,IAAIsI,WAAW7C,KAAKgO,MAAMrU,EAAEqG,KAAK4N,aAAapU,EAAEG,GAAGqG,KAAK4N,aAAa,IAAI/K,WAAW5J,EAAE+U,MAAMvU,EAAEuG,KAAK4N,aAAa/D,IAAItP,EAAE,CAAC+T,WAAAA,GAActO,KAAKqJ,QAAQkF,QAAQvO,KAAKiO,OAAO,CAACO,aAAAA,CAAc7U,EAAEH,GAAG,MAAMP,EAAEU,EAAEqG,KAAK4N,YAAYnU,EAAED,EAAEwG,KAAK4N,YAAY5N,KAAKqJ,QAAQoF,WAAW,IAAI5L,WAAW7C,KAAKiO,QAAQhV,EAAEA,EAAEQ,EAAE,CAACqU,MAAAA,CAAOnU,GAAG,MAAMH,EAAEG,EAAEqG,KAAK4N,YAAY3U,EAAE,IAAIyV,YAAYlV,GAAGwG,KAAKiO,SAAStU,GAAGqG,KAAK4I,UAAU,IAAI/F,WAAW5J,GAAG4Q,IAAI,IAAIhH,WAAW7C,KAAKiO,SAAS,IAAIpL,WAAW5J,GAAG4Q,IAAI,IAAIhH,WAAW7C,KAAKiO,QAAQU,SAAS,EAAEhV,EAAEqG,KAAK4N,eAAe5N,KAAKiO,OAAOhV,EAAE+G,KAAKqJ,QAAQuF,QAAQpV,GAAGwG,KAAK4I,UAAUjP,CAAC,E,eCA/hB,MAAMI,EAAE8F,WAAAA,CAAYrG,GAAGwG,KAAK+H,MAAMvO,EAAEwO,cAAchI,KAAKiI,YAAYzO,EAAE0O,oBAAoBlI,KAAK6O,cAAcrV,EAAEsV,sBAAsB9O,KAAK+O,cAAcvV,EAAEwV,sBAAsBhP,KAAKqI,iBAAiB7O,EAAE8O,SAAS,2BAA2B/N,EAAAA,IAAGyF,KAAKuI,MAAM/O,EAAE8O,SAAS,gBAAgBxO,EAAAA,IAAGkG,KAAKwI,UAAUhP,EAAE8O,SAAS,oBAAoBxO,EAAAA,GAAE,EAAE,MAAM0B,EAAEqE,WAAAA,CAAYrG,EAAEC,GAAGuG,KAAKiP,MAAMzV,EAAEwG,KAAKkJ,QAAQzP,EAAEuG,KAAKkP,WAAW,EAAElP,KAAKmP,WAAW,EAAEnP,KAAKoP,YAAY,KAAKpP,KAAKqP,oBAAmB,EAAGrP,KAAKsP,WAAU,EAAGtP,KAAKuP,eAAe,EAAEvP,KAAKwP,UAAS,EAAGxP,KAAK4I,UAAU,CAAC,CAACpF,OAAAA,GAAUxD,KAAKqJ,SAASrJ,KAAKqJ,QAAQ7F,SAAS,CAAC,UAAI0K,GAAS,OAAOlO,KAAKqJ,QAAQ6E,MAAM,CAAC,QAAIjK,GAAO,OAAOjE,KAAKuJ,KAAK,CAAC,YAAIC,GAAW,OAAOxJ,KAAK4I,SAAS,CAAC,QAAIa,GAAO,MAAMjQ,EAAEwG,KAAKkP,WAAWzV,EAAEuG,KAAKmP,WAAW,OAAO3V,GAAGC,EAAED,EAAEC,EAAED,EAAEwG,KAAK4I,UAAUnP,CAAC,CAAC,WAAIgW,GAAU,OAAOzP,KAAKkP,aAAalP,KAAKmP,UAAU,CAAC,UAAIO,GAAS,OAAO1P,KAAKmP,cAAcnP,KAAKkP,WAAW,GAAGlP,KAAK4I,SAAS,CAAC,aAAI+G,GAAY,OAAO3P,KAAKkP,UAAU,CAAC,aAAIU,GAAY,OAAO5P,KAAKmP,UAAU,CAAC,cAAIU,GAAa,OAAO7P,KAAKoP,WAAW,CAAC,cAAIjB,GAAY,IAAA2B,EAAAC,EAAC,OAA+B,QAA/BD,EAAmB,QAAnBC,EAAO/P,KAAKqJ,eAAO,IAAA0G,OAAA,EAAZA,EAAc5B,kBAAU,IAAA2B,EAAAA,EAAE,CAAC,CAACE,KAAAA,GAAQhQ,KAAKkP,WAAW,EAAElP,KAAKmP,WAAW,EAAEnP,KAAKoP,YAAY,IAAI,CAACa,gBAAAA,GAAmBjQ,KAAKqP,oBAAmB,CAAE,CAACa,WAAAA,IAAcjX,EAAAA,EAAAA,KAAG+G,KAAKsP,UAAU,oBAAoBtP,KAAKsP,WAAU,EAAGtP,KAAKuP,eAAevP,KAAKkP,UAAU,CAACiB,SAAAA,IAAYlX,EAAAA,EAAAA,IAAE+G,KAAKsP,UAAU,gBAAgBtP,KAAKyJ,KAAKjQ,EAAAA,GAAEwG,KAAKwJ,UAAUxJ,KAAKoQ,UAAUpQ,KAAKwP,UAAUxP,KAAKqJ,QAAQiF,cAActO,KAAKwP,UAAS,GAAIxP,KAAKqQ,eAAerQ,KAAKuP,eAAevP,KAAKkP,YAAYlP,KAAKsP,WAAU,CAAE,CAACgB,YAAAA,IAAerX,EAAAA,EAAAA,IAAE+G,KAAKsP,UAAU,gBAAgBtP,KAAK0P,QAAQ1P,KAAK2J,QAAQ,MAAMnQ,EAAEwG,KAAK2P,UAAU,OAAO3P,KAAKqP,qBAAqBrP,KAAKoP,YAAY5V,EAAEwG,KAAKqP,oBAAmB,GAAIrP,KAAKuQ,kBAAiBtX,EAAAA,EAAAA,IAAE+G,KAAKkP,aAAalP,KAAKmP,WAAW,oBAAoB3V,CAAC,CAACgX,QAAAA,IAAWvX,EAAAA,EAAAA,IAAE+G,KAAKsP,UAAU,iBAAgBrW,EAAAA,EAAAA,IAAE+G,KAAKyJ,KAAK,EAAE,gBAAgB,MAAMjQ,EAAEwG,KAAKmP,aAAanP,KAAKoP,YAAYpP,KAAKyQ,iBAAiBjX,IAAIwG,KAAKoP,YAAYpP,KAAKmP,WAAW,CAACxF,KAAAA,GAAQ,MAAMnQ,EAAEiF,KAAKC,IAAI3D,EAAAA,GAAE0D,KAAKwO,MAAMjN,KAAK4I,UAAUnP,EAAAA,KAAIuG,KAAK0Q,QAAQlX,EAAE,CAAC4W,OAAAA,GAAU,MAAM5W,EAAEiF,KAAKC,IAAI3D,EAAAA,GAAE0D,KAAKwO,MAAMjN,KAAK4I,UAAUjP,EAAAA,KAAIqG,KAAK0Q,QAAQlX,EAAE,CAACkX,OAAAA,CAAQlX,GAAG,IAAGP,EAAAA,EAAAA,IAAE+G,KAAKsP,UAAU,gBAAgB9V,IAAIwG,KAAK4I,UAAU,OAAO,MAAMnP,EAAE,IAAIgD,EAAEuD,KAAKiP,MAAMjP,KAAKkJ,QAAQ1P,GAAG,GAAGwG,KAAKqJ,QAAQ,CAACrJ,KAAKoP,cAAcpP,KAAKoP,aAAapP,KAAKoP,YAAYpP,KAAK4I,UAAU5I,KAAKmP,YAAYnP,KAAK4I,WAAW,MAAMpP,EAAEwG,KAAKyJ,KAAK9P,EAAEqG,KAAK2Q,kBAAkBlX,IAAGR,EAAAA,EAAAA,IAAEU,IAAIH,EAAE,sBAAsBwG,KAAKqJ,QAAQ7F,UAAUxD,KAAKmP,WAAW,EAAEnP,KAAKkP,WAAWvV,EAAEqG,KAAKuP,eAAe,CAAC,CAACvP,KAAKwP,UAAS,EAAGxP,KAAK4I,UAAUpP,EAAEwG,KAAKqJ,QAAQ5P,EAAEuG,KAAKuJ,MAAM,IAAIxP,EAAEiG,KAAKkJ,QAAQ0H,WAAW5Q,KAAKqJ,QAAQ2E,OAAO,CAAC2C,iBAAAA,CAAkBnX,GAAG,MAAMC,EAAEuG,KAAKkP,WAAWvV,EAAEqG,KAAKmP,WAAW,OAAOxV,EAAEF,GAAGuG,KAAKqJ,QAAQgF,UAAU1U,EAAEF,EAAED,GAAGC,EAAEE,GAAGA,EAAEF,GAAGuG,KAAKqJ,QAAQgF,UAAU1U,EAAEqG,KAAK4I,UAAUpP,GAAGC,EAAE,GAAGuG,KAAKqJ,QAAQgF,UAAU,EAAE5U,EAAED,EAAEwG,KAAK4I,UAAUjP,GAAGF,GAAGuG,KAAK4I,UAAUjP,IAAI,CAAC,CAAC4W,cAAAA,GAAmB,IAAJ/W,EAACuG,UAAAqK,OAAA,QAAAC,IAAAtK,UAAA,GAAAA,UAAA,GAAC,EAAGC,KAAKkP,YAAYlP,KAAKkP,WAAW1V,GAAGwG,KAAK4I,SAAS,CAAC6H,cAAAA,GAAmB,IAAJjX,EAACuG,UAAAqK,OAAA,QAAAC,IAAAtK,UAAA,GAAAA,UAAA,GAAC,EAAGC,KAAKmP,YAAYnP,KAAKmP,WAAW3V,GAAGwG,KAAK4I,SAAS,CAACyH,cAAAA,CAAe7W,EAAEC,GAAGD,EAAEC,EAAEuG,KAAKqJ,QAAQmF,cAAchV,EAAEC,GAAGD,EAAEC,IAAIA,EAAE,GAAGuG,KAAKqJ,QAAQmF,cAAc,EAAE/U,GAAGuG,KAAKqJ,QAAQmF,cAAchV,EAAEwG,KAAK4I,WAAW,EAAE,MAAMpM,GAAEhC,EAAAA,EAAAA,MAAIqW,MAAM,yBAAyBA,MAAM,yBAAyBtD,MAAM,iBAAiBA,MAAM,uBAAuB,SAASxU,EAAES,GAAG,OAAOQ,EAAAA,EAAAA,IAAEwC,EAAE2M,QAAQ3P,EAAE,C,yNCAv+G,MAAMe,UAAUiB,EAAAA,EAAEqE,WAAAA,CAAYlG,GAAGmG,QAAQE,KAAK7I,UAAUwC,EAAEqG,KAAKE,iBAAiB,EAAEF,KAAKY,gBAAgB,EAAEZ,KAAKzI,QAAQ,EAAEyI,KAAK8Q,SAAS,EAAE9Q,KAAKjJ,WAAW,EAAEiJ,KAAK+Q,gBAAgB,EAAE/Q,KAAKgR,eAAe,EAAEhR,KAAKnI,iBAAgB,EAAGmI,KAAKN,iBAAgB,EAAGM,KAAKiR,mBAAkB,EAAGjR,KAAK/H,iBAAgB,EAAG+H,KAAKkG,6BAA4B,EAAGlG,KAAKoG,qBAAoB,EAAGpG,KAAK7H,kBAAiB,EAAG6H,KAAKkR,0BAAyB,EAAGlR,KAAKjI,mBAAkB,EAAGiI,KAAKmR,cAAa,EAAGnR,KAAKZ,WAAU,EAAGY,KAAKrI,0BAAyB,EAAGqI,KAAKb,wBAAuB,EAAGa,KAAK/I,iBAAgB,EAAG+I,KAAKoR,WAAU,EAAGpR,KAAKqR,YAAW,EAAGrR,KAAKyG,gBAAe,EAAGzG,KAAKsF,yBAAwB,EAAGtF,KAAKvI,2BAA0B,EAAGuI,KAAKyN,2BAA0B,EAAGzN,KAAKd,gBAAe,EAAGc,KAAKsR,YAAW,EAAGtR,KAAKuR,aAAY,EAAGvR,KAAKwR,cAAa,EAAGxR,KAAKyR,kBAAiB,EAAGzR,KAAK0R,kBAAiB,EAAG1R,KAAK3I,WAAU,EAAG2I,KAAKzH,0BAAyB,EAAGyH,KAAKoH,6BAA4B,EAAGpH,KAAK3H,2BAA0B,EAAG2H,KAAKqG,8BAA6B,EAAGrG,KAAKmG,sCAAqC,EAAGnG,KAAK2R,eAAc,EAAG3R,KAAKiG,8BAA6B,EAAGjG,KAAK2F,eAAc,EAAG3F,KAAK4R,QAAO,CAAE,CAAC,yBAAI/Q,GAAwB,OAAOb,KAAK6R,YAAY,EAAE,CAAC,CAAC,eAAIA,GAAc,OAAO7R,KAAK/H,iBAAiB+H,KAAK7H,kBAAkB6H,KAAKkG,6BAA6B,IAAIlG,KAAKgR,gBAAgBhR,KAAKoG,mBAAmB,CAAC,mBAAI0L,GAAkB,OAAO9R,KAAKZ,SAAS,CAAC,6BAAI2S,GAA4B,OAAO/R,KAAKuR,WAAW,GAAE5X,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,wBAAwB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,uBAAuB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,eAAe,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,gBAAgB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,kBAAkB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,uBAAuB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,GAAE,CAACwY,MAAM,KAAKzX,EAAE6K,UAAU,sBAAsB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,uBAAuB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,uBAAuB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,yBAAyB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,uBAAuB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,mCAAmC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,2BAA2B,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,wBAAwB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,gCAAgC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,yBAAyB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,oBAAoB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,iBAAiB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,gCAAgC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,8BAA8B,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,uBAAuB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,iBAAiB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,kBAAkB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,sBAAsB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,+BAA+B,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,iCAAiC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,iCAAiC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,sBAAsB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,kBAAkB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,mBAAmB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,oBAAoB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,wBAAwB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,wBAAwB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,iBAAiB,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,gCAAgC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,mCAAmC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,iCAAiC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,oCAAoC,IAAGzL,EAAAA,EAAAA,IAAE,EAACH,EAAAA,EAAAA,MAAKe,EAAE6K,UAAU,4CAA4C,G,0BCAt0G,MAAM5J,UAAUvC,EAAAA,GAAE4G,WAAAA,CAAY5G,EAAEuC,GAAGsE,MAAM7G,EAAEuC,EAAE,IAAI7B,EAAAA,EAAEY,EAAAA,EAAE,IAAI,kCAAmC,E,eCAm3B,MAAMG,UAAUvB,EAAAA,EAAE0G,WAAAA,CAAYlG,EAAEV,GAAG6G,MAAMnG,EAAEc,GAAGuF,KAAKiS,aAAa,UAAUjS,KAAKkS,eAAc,EAAGlS,KAAKmS,qBAAqB,EAAEnS,KAAKsC,SAAS,IAAI0G,IAAI,CAAC,CAAC,EAAErP,KAAIM,EAAAA,EAAAA,IAAEN,KAAI2B,EAAAA,EAAAA,IAAE3B,MAAMqG,KAAKuR,aAAa,CAAC,EAAE5X,KAAIM,EAAAA,EAAAA,IAAEN,KAAI2B,EAAAA,EAAAA,IAAE3B,KAAKqG,KAAKuR,aAAavR,KAAKoS,WAAWd,YAAY,CAAC,EAAE3X,KAAIM,EAAAA,EAAAA,IAAEN,KAAI2B,EAAAA,EAAAA,IAAE3B,KAAKqG,KAAKuR,cAAcvR,KAAKoS,WAAWd,cAActR,KAAKkJ,SAAQ5O,EAAAA,EAAAA,IAAE0F,KAAKoS,YAAYpS,KAAKqS,eAAe,IAAIzY,EAAEX,EAAE9B,UAAU,CAACmb,kBAAAA,CAAmB3Y,GAAG,OAAO,IAAIA,GAAG,IAAIA,GAAG,IAAIA,GAAGqG,KAAKoS,WAAWG,WAAW,CAAC,WAAIC,GAAU,MAAMxW,aAAarC,EAAE8F,aAAaxG,EAAE8C,QAAQvC,EAAEY,cAAcG,GAAGyF,KAAKoS,WAAW,OAAOzY,GAAG,YAAYV,EAAE,EAAEO,IAAI,WAAWP,GAAGwZ,MAAMlY,EAAE,IAAI,EAAEA,EAAE,KAAKK,EAAAA,CAAC,CAAC,oBAAI8X,GAAmB,QAAQ1S,KAAKoS,WAAWO,qBAAoBhZ,EAAAA,EAAAA,GAAEqG,KAAKoS,WAAWQ,kBAAkB7Z,EAAAA,GAAE,CAAC,gBAAI8Z,GAAe,OAAO7S,KAAKoS,WAAWU,iBAAiB,IAAI,IAAI9S,KAAKoS,WAAWW,gBAAgB/S,KAAK0S,kBAAkB,IAAI1S,KAAKoS,WAAWW,eAAe,CAACC,gBAAAA,CAAiBrZ,EAAEV,GAAE,IAAAga,EAAC,MAAMb,WAAW5Y,EAAE6Y,eAAe9X,GAAGyF,MAAMkT,cAAcpZ,EAAEqZ,YAAY1Z,EAAE2Z,gBAAgB5X,GAAGhC,EAAE,OAAOsG,MAAMkT,iBAAiBrZ,EAAEV,EAAE+G,KAAKqS,gBAAgB9X,EAAEpC,iBAAiBqB,EAAErB,iBAAiBoC,EAAEtC,gBAAgBuB,EAAEvB,gBAAgBsC,EAAE2L,4BAA4B1M,EAAE0M,4BAA4B3L,EAAE6L,oBAAoB5M,EAAE4M,oBAAoB7L,EAAExC,mBAAmB+B,GAAGN,EAAEzB,kBAAkBwC,EAAE6E,UAAU5F,EAAE4F,UAAU7E,EAAE5C,yBAAyB6B,EAAE7B,yBAAyB4C,EAAE8W,aAAa7X,EAAE6Z,QAAQ9Y,EAAE6W,YAAY5X,EAAE8Z,OAAO/Y,EAAE0W,kBAAkB,MAAMzX,EAAE+Z,eAAehZ,EAAE2W,yBAAyB,MAAM1X,EAAEga,sBAAsBjZ,EAAEkZ,cAAcja,EAAEia,cAAclZ,EAAE2F,iBAAiB1G,EAAEka,iBAAiBnZ,EAAExD,WAAW+C,EAAE,EAAEN,EAAEzC,WAAWwD,EAAEgX,YAAYvR,KAAKuR,YAAYhX,EAAE+W,WAAW9X,EAAE8X,WAAW/W,EAAEwW,gBAAiC,QAAlBkC,EAACzZ,EAAEuX,uBAAe,IAAAkC,EAAAA,EAAE,EAAE1Y,EAAE4W,aAAalY,EAAEkY,aAAa5W,EAAEuW,SAAStX,EAAEia,cAAc,EAAEja,EAAEsX,SAASvW,EAAEmX,iBAAiBzY,EAAEyY,iBAAiBnX,EAAE4E,wBAAwBrF,GAAG,MAAMN,EAAE8F,oBAAoB/E,EAAE1C,gBAAgB2B,EAAE3B,gBAAgB0C,EAAEmF,gBAAgBlG,EAAEkG,gBAAgBnF,EAAEqG,gBAAgB9G,EAAE,EAAEL,GAAG,WAAW+B,EAAE,EAAE/B,GAAG,kBAAkB+B,EAAE,EAAE,EAAEjB,EAAEkT,0BAA0BjU,EAAEiU,0BAA0BlT,EAAE2E,eAAe1F,EAAE0F,gBAAelF,EAAAA,EAAAA,IAAEL,IAAIY,EAAEkX,iBAAiBxY,EAAEwY,iBAAiBlX,EAAEkM,eAAejN,EAAEiN,eAAelM,EAAE+K,wBAAwB9L,EAAE8L,yBAAyB,MAAMrM,EAAEuM,OAAOjL,EAAEkX,kBAAiB,EAAGlX,EAAEkM,eAAelM,EAAE+K,yBAAwB,GAAI/K,EAAE9C,4BAA4B+B,EAAE/B,0BAA0B8C,EAAEhD,QAAQiC,EAAEma,OAAOna,EAAEoa,YAAY,EAAE,EAAE,EAAErZ,EAAEyW,eAAexX,EAAEwX,eAAezW,EAAEtD,mBAAmB+I,KAAKuR,cAAc/X,EAAEqa,4BAA4BtZ,EAAEuZ,QAAQ7a,EAAE6a,QAAQvZ,EAAEiX,aAAavY,EAAE2E,OAAOiB,kBAAkBvC,EAAAA,GAAE/B,EAAElD,UAAU4B,EAAE5B,UAAU,EAAEkD,EAAEhC,2BAA2BiB,EAAE0N,4BAA4B3M,EAAElC,4BAA4BmB,EAAE2H,6BAA6B5G,EAAE6M,8BAA8B5N,EAAE8N,+BAA+B/M,EAAE8L,+BAA+B7M,EAAEgO,gCAAgCjN,EAAE4L,uCAAuC3M,EAAEkO,wCAAwCnN,CAAC,CAACwZ,SAAAA,CAAUpa,EAAEZ,EAAEgB,EAAE0C,EAAExC,EAAEqB,GAAG,GAAG,MAAM0E,KAAKoS,WAAWmB,eAAe,CAAC,MAAM5Z,EAAEI,EAAE6D,QAAO3E,EAAAA,EAAAA,GAAEsD,EAAExD,EAAE,IAAIA,EAAE,IAAIA,EAAE,KAAK,IAAIuC,EAAE,KAAK,OAAOvB,EAAEia,aAAa,KAAK,EAAE1Y,GAAEf,EAAAA,EAAAA,GAAEQ,EAAEwB,GAAG,MAAM,KAAK,EAAEjB,GAAE9B,EAAAA,EAAAA,GAAEuB,EAAEY,GAAG,IAAI3B,EAAE,EAAE,MAAMwC,GAAE1C,EAAAA,EAAAA,GAAEK,EAAEoC,EAAE5C,EAAEsa,KAAK9a,GAAEM,EAAAA,EAAAA,GAAE+C,GAAGF,GAAEd,EAAAA,EAAAA,GAAEgB,EAAEA,EAAE,EAAErD,GAAG,IAAID,EAAE,KAAK8G,KAAKoS,WAAWoB,wBAAwBta,GAAEsB,EAAAA,EAAAA,GAAEc,EAAEgB,IAAItC,IAAGqB,EAAAA,EAAAA,IAAE1B,EAAER,EAAE6G,KAAKoS,WAAWmB,eAAgB,OAADra,QAAC,IAADA,EAAAA,EAAG,EAAE8G,KAAKoS,WAAWoB,sBAAsB,OAAMhY,EAAAA,EAAAA,GAAEF,EAAEA,EAAEtB,IAAGlB,EAAAA,EAAAA,GAAEE,EAAEsC,EAAEvB,EAAEma,UAAUC,iBAAiB1X,GAAE3C,EAAAA,EAAAA,GAAEP,EAAEkD,EAAEzD,GAAGiB,GAAEH,EAAAA,EAAAA,GAAER,EAAEW,EAAEjB,EAAE,EAACE,EAAAA,EAAAA,IAAES,EAAEI,EAAE0C,EAAExC,GAAEJ,EAAAA,EAAAA,IAAEE,EAAEwZ,gBAAgBjY,EAAE,CAAC8Y,gBAAAA,CAAiBza,GAAG,OAAO,IAAI0C,EAAE1C,EAAE,CAAC0a,kBAAAA,GAAqB,OAAO,IAAIhb,EAAAA,EAAE2G,KAAKkJ,QAAQ,CAAC,eAAIqI,GAAc,OAAOhW,EAAEyE,KAAKoS,WAAW,EAAE,MAAM/V,UAAUG,EAAAA,GAAEqD,WAAAA,CAAYlG,GAAGmG,OAAKwU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAG3a,GAAKA,EAAE4a,SAASnC,YAAY,CAACoC,SAAAA,CAAU7a,GAAGqG,KAAKyU,UAAUC,cAAc,CAACjO,eAAe9M,EAAEgN,UAAUgO,UAAU,MAAMnb,EAAEwG,KAAKyU,UAAUrC,WAAWpS,KAAK4U,cAAcpb,EAAEqb,WAAW,MAAMta,EAAEZ,EAAEiE,OAAO4B,2BAA2B,OAAOvG,EAAAA,EAAAA,GAAEO,EAAEqN,OAAOtM,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAKyF,KAAKyU,UAAUC,cAAc1U,KAAK8U,uBAAuB9U,KAAK+U,aAAavb,EAAE0Z,cAAcxW,EAAEN,EAAAA,GAAEzC,EAAE,EAAE,MAAMc,UAAUrB,EAAAA,GAAEyG,WAAAA,GAAcC,SAASC,WAAWC,KAAKkT,eAAc,EAAGlT,KAAKjI,mBAAkB,CAAE,CAAC,oBAAII,GAAmB,OAAO6H,KAAKkT,iBAAiBlT,KAAKgV,eAAe,CAAC,mBAAI/c,GAAkB,QAAQ+H,KAAK6U,SAAS,CAAC,+BAAI3O,GAA8B,OAAOlG,KAAKkT,iBAAiBlT,KAAKiV,0BAA0B,CAAC,uBAAI7O,GAAsB,OAAOpG,KAAKkT,iBAAiBlT,KAAKkV,kBAAkB,CAAC,kBAAIlE,GAAiB,OAAOhR,KAAKkT,cAAc,EAAE,MAAMlT,KAAK2S,mBAAmB,IAAI3S,KAAK+S,eAAe,EAAE/S,KAAK2T,OAAO,IAAI3T,KAAK+S,eAAe,EAAE,EAAE,CAAC,CAAC,eAAIlB,GAAc,OAAO7R,KAAK/H,iBAAiB+H,KAAK7H,kBAAkB6H,KAAKkG,6BAA6B,IAAIlG,KAAKgR,gBAAgBhR,KAAKoG,mBAAmB,EAAE,SAAS7K,EAAE5B,GAAG,MAAMwb,cAAclc,EAAE8C,QAAQvC,EAAEY,cAAcG,EAAEyB,aAAalC,EAAEoC,QAAQzC,EAAEob,UAAUrZ,EAAEkY,iBAAiBlZ,EAAEiF,aAAa3G,GAAGa,EAAEZ,EAAEwB,EAAE,GAAG,OAAOtB,GAAGO,EAAE,GAAG,YAAYV,GAAGC,EAAE,GAAG,WAAWD,GAAGgB,EAAE,IAAI,MAAML,GAAG,MAAM+B,IAAI,IAAIhB,GAAG,IAAIA,GAAG,YAAY1B,CAAC,CAAC,MAAMS,GAAEQ,EAAAA,EAAAA,MAAIT,GAAES,EAAAA,EAAAA,MAAI4B,GAAEc,EAAAA,EAAAA,IAAE,EAAE,EAAE,GAAG1B,GAAEhB,EAAAA,EAAAA,MAAIf,GAAEe,EAAAA,EAAAA,MAAIwC,GAAExC,EAAAA,EAAAA,MAAII,GAAEJ,EAAAA,EAAAA,K,qFCAz2L,SAASS,EAAC6G,GAAuI,IAArItD,cAAcpE,EAAEyb,yBAAyB5a,EAAE6a,eAAepc,EAAEqc,gBAAgB9b,EAAE+b,gBAAgB/Z,EAAEga,eAAejb,EAAEkb,iBAAiB1b,GAAEsH,EAAE,OAAO,MAAM1H,GAAG,MAAMa,GAAG,MAAMgB,IAAI,MAAMjB,IAAGzB,EAAAA,EAAAA,GAAEyB,EAAExB,EAAAA,MAAK,MAAMgB,IAAI,MAAMP,GAAG,IAAIA,KAAK,MAAMP,GAAG,IAAIA,EAAE,CAA2P,MAAMO,GAAEG,EAAAA,EAAAA,IAAE,EAAE,EAAE,IAAI6B,GAAE7B,EAAAA,EAAAA,IAAE,EAAE,GAAG,IAAIY,GAAEZ,EAAAA,EAAAA,IAAE,EAAE,EAAE,G,yPCA+0B,MAAMC,UAAUY,EAAAA,GAAEqF,WAAAA,GAAcC,SAASC,WAAWC,KAAK4T,aAAY,EAAG5T,KAAK2T,QAAO,EAAG3T,KAAKwG,WAAWlK,EAAAA,GAAE0D,KAAKnI,iBAAgB,EAAGmI,KAAKN,iBAAgB,EAAGM,KAAKmT,aAAY,EAAGnT,KAAKoT,gBAAgB,SAASpT,KAAK8Q,SAAS,EAAE9Q,KAAKZ,WAAU,EAAGY,KAAKyN,2BAA0B,EAAGzN,KAAKd,gBAAe,EAAGc,KAAK0V,iCAAgC,EAAG1V,KAAK8S,iBAAiB,EAAE9S,KAAK+S,eAAe,EAAE/S,KAAK4S,kBAAkBjZ,EAAAA,GAAEqG,KAAKrI,0BAAyB,EAAGqI,KAAKjJ,WAAW,EAAEiJ,KAAKyG,gBAAe,EAAGzG,KAAKsF,yBAAwB,EAAGtF,KAAKuS,aAAY,EAAGvS,KAAKpE,SAAQpC,EAAAA,EAAAA,IAAE,GAAG,GAAG,IAAIwG,KAAKnE,SAAQrC,EAAAA,EAAAA,IAAE,GAAG,GAAG,IAAIwG,KAAK5F,eAAcG,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAE,GAAGyF,KAAKP,aAAa,WAAWO,KAAKjE,QAAQ,EAAEiE,KAAKhE,aAAa,EAAEgE,KAAK6G,QAAOpN,EAAAA,EAAAA,MAAIuG,KAAKyT,eAAc,EAAGzT,KAAK6T,4BAA2B,EAAG7T,KAAKsT,OAAO,KAAKtT,KAAKqT,QAAQ,KAAKrT,KAAK2V,UAAU,KAAK3V,KAAK4V,eAAe,KAAK5V,KAAK6V,uBAAuB,KAAK7V,KAAKV,oBAAoB,KAAKU,KAAKmV,eAAc,EAAGnV,KAAKsR,YAAW,EAAGtR,KAAK+Q,gBAAgB,EAAE/Q,KAAK0T,iBAAiB,EAAE1T,KAAK2H,mBAAmBtL,EAAAA,EAAE2D,KAAKvI,2BAA0B,EAAGuI,KAAK8V,eAAe,EAAE9V,KAAK+V,cAAa,CAAE,CAAC,aAAI3E,GAAY,QAAQpR,KAAKsT,MAAM,CAAC,cAAIjC,GAAa,QAAQrR,KAAKqT,OAAO,CAAC,gBAAI2C,GAAe,QAAQhW,KAAK2V,SAAS,EAAE,MAAMpa,UAAUzB,EAAAA,GAAE+F,WAAAA,GAAcC,SAASC,WAAWC,KAAK6G,QAAOpN,EAAAA,EAAAA,MAAIuG,KAAKiW,sBAAsBjW,KAAK6G,MAAM,EAAE,MAAMvM,UAAUmC,EAAAA,EAAEoD,WAAAA,CAAYlG,EAAEH,GAAqD,IAAnDC,EAACsG,UAAAqK,OAAA,QAAAC,IAAAtK,UAAA,GAAAA,UAAA,GAAC,IAAIhG,EAAAA,EAAEqC,EAAAA,EAAE,IAAI,kCAAsC,MAAM7B,EAAE,EAACtB,EAAAA,EAAAA,GAAEgD,EAAEzC,KAAKA,EAAE4F,WAAW5F,EAAE7B,0BAA0B4C,EAAE2b,MAAKjd,EAAAA,EAAAA,IAAEwB,EAAAA,EAAAA,IAAEjB,KAAKsG,MAAMnG,EAAEH,EAAEC,GAAEH,EAAAA,EAAAA,IAAEiB,GAAG,CAAC4b,aAAAA,CAAcxc,EAAEH,GAAG,MAAMsa,QAAQra,EAAE5C,OAAO0D,EAAEgX,YAAYtY,EAAE6X,SAAStV,EAAEuV,gBAAgBvW,EAAE2W,aAAarX,GAAGH,EAAE,OAAOe,EAAAA,EAAAA,IAAE,CAAC0b,UAAStd,EAAAA,EAAAA,IAAEyB,IAAItB,GAAEC,EAAAA,EAAAA,IAAEO,GAAG,KAAK4c,QAAQ9Z,EAAE5C,IAAGR,EAAAA,EAAAA,IAAEqC,GAAG,KAAK8a,UAAU,CAACC,MAAK/Z,EAAAA,EAAAA,IAAE/C,EAAEqC,EAAEtB,KAAKgc,YAAWxc,EAAAA,EAAAA,IAAEL,GAAG8c,aAAY1d,EAAAA,EAAAA,GAAEwB,GAAEc,EAAAA,EAAAA,IAAE5B,EAAEc,IAAI4H,WAAW/I,EAAAA,GAAEsd,aAAa5c,EAAE4C,EAAAA,GAAE,KAAKia,YAAY7c,EAAEN,EAAEK,EAAAA,GAAER,EAAAA,GAAE,KAAKud,eAAc3c,EAAAA,EAAAA,IAAEN,IAAI,CAACuI,kBAAAA,CAAmBvI,GAAG,OAAOqG,KAAK6W,uBAAuB7W,KAAKmW,cAAcxc,GAAE,GAAIqG,KAAKmW,cAAcxc,GAAE,EAAG,CAACmd,WAAAA,CAAYnd,GAAG,OAAOA,EAAEqG,KAAK6W,uBAAuB/W,MAAMgX,aAAa,EAAE,SAAShb,EAAEnC,GAAG,OAAOA,GAAG,KAAK,EAAE,OAAO,IAAI,KAAK,EAAE,KAAK,EAAE,OAAO,IAAI,KAAK,EAAE,OAAO,IAAI,CAAC,SAAS4C,EAAE5C,GAAG,OAAO,IAAIA,EAAEmX,WAAWnX,EAAE8Z,gBAAiB9Z,EAAE4X,cAAc5X,EAAEiH,eAAgB,CAAC,SAAS3E,EAAEtC,GAAG,MAAMH,GAAEgC,EAAAA,EAAAA,MAAIqV,MAAM,YAAY,OAAO,IAAIlX,EAAE5C,WAAWyC,EAAEud,QAAQ,mBAAmB,CAACC,cAAa,IAAKxd,EAAEqX,MAAM,UAAUlX,EAAE5B,mBAAmByB,EAAEkU,MAAM,WAAW/T,EAAEkY,aAAarY,EAAEyd,QAAQ,OAAOtd,EAAE9B,iBAAiB2B,EAAEmU,OAAO,SAAShU,EAAE+F,iBAAiBlG,EAAEmU,OAAO,gBAAgBhU,EAAEyF,YAAW9D,EAAAA,EAAAA,MAAK9B,EAAEmU,OAAO,aAAanU,CAAC,C,4DCA92H,SAASgC,EAAEA,GAAGA,EAAEqC,KAAKnF,KAAIiB,EAAAA,EAAAA,GAACkB,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wHAE5E,C","sources":["../node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","../node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","../node_modules/@arcgis/core/chunks/SSAO.glsl.js","../node_modules/@arcgis/core/chunks/SSAOBlur.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstanceColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAOTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAO.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/ssao/SSAONoiseData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/BlackLevelLightSoftCompression.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepthToReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sDrawUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/calculateUVZShadow.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ShadowmapFiltering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DShadowBindUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceConstants.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/weather/SnowCover.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Offset as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{isColorOrColorEmission as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstanceColor as a}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstanceColor.glsl.js\";import{InstancedDoublePrecision as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{MaskedColorDefinition as s,CreateMaskedFromNaNColor as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/MaskedColor.glsl.js\";import{NormalAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{SymbolColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{VerticalOffset as u}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as v}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as w}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as b,addAmbientBoostFactor as f,addLightingGlobalFactor as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightIntensity as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{Normals as x}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{PhysicallyBasedRendering as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as j,ReadShadowMapDraw as P}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{terrainDepthTest as M}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{colorTextureUV as N,normalTextureUV as T,emissiveTextureUV as O,occlusionTextureUV as S,metallicRoughnessTextureUV as V}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TextureTransformUV.glsl.js\";import{VisualVariables as $}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as A}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js\";import{MixExternalColor as D}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as U,addCameraPosition as I}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as B}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as E}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as k}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as _,glsl as R}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as F}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{SnowCover as z}from\"../views/3d/webgl-engine/effects/weather/SnowCover.glsl.js\";import{colorMixModes as W}from\"../views/3d/webgl-engine/materials/internal/MaterialUtil.js\";import{outputColorHighlightOID as G}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as H}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as q}from\"../webscene/support/AlphaCutoff.js\";function J(J){const K=new H,{attributes:Q,vertex:X,fragment:Y,varyings:Z}=K,{output:ee,normalType:re,offsetBackfaces:oe,spherical:ie,snowCover:ae,pbrMode:le,textureAlphaPremultiplied:se,instancedDoublePrecision:ne,hasVertexColors:te,hasVertexTangents:de,hasColorTexture:ce,hasNormalTexture:me,hasNormalTextureTransform:ge,hasColorTextureTransform:ue}=J;if(U(X,J),Q.add(\"position\",\"vec3\"),Z.add(\"vpos\",\"vec3\",{invariant:!0}),K.include($,J),K.include(l,J),K.include(u,J),K.include(N,J),!r(ee))return K.include(v,J),K;K.include(T,J),K.include(O,J),K.include(S,J),K.include(V,J),I(X,J),K.include(t,J),K.include(i);const ve=0===re||1===re;return ve&&oe&&K.include(e),K.include(w,J),K.include(g,J),K.include(a,J),Z.add(\"vPositionLocal\",\"vec3\"),K.include(c,J),K.include(d,J),K.include(m,J),X.uniforms.add(new E(\"externalColor\",e=>e.externalColor,{supportsNaN:!0})),Z.add(\"vcolorExt\",\"vec4\"),K.include(M,J),X.include(s),X.include(n),K.include(ne?j:P,J),X.main.add(R`\n    forwardNormalizedVertexColor();\n\n    MaskedColor maskedColor =\n      applySymbolColor(applyVVColor(applyInstanceColor(createMaskedFromNaNColor(externalColor))));\n\n    vcolorExt = maskedColor.color;\n    forwardColorMixMode(maskedColor.mask);\n\n    vpos = getVertexInLocalOriginSpace();\n    vPositionLocal = vpos - view[3].xyz;\n    vpos = subtractOrigin(vpos);\n    ${_(ve,\"vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\")}\n    vpos = addVerticalOffset(vpos, localOrigin);\n    ${_(de,\"vTangent = dpTransformVertexTangent(tangent);\")}\n    gl_Position = transformPosition(proj, view, vpos);\n    ${_(ve&&oe,\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, cameraPosition);\")}\n\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    forwardTextureCoordinates();\n    forwardColorUV();\n    forwardNormalUV();\n    forwardEmissiveUV();\n    forwardOcclusionUV();\n    forwardMetallicRoughnessUV();\n\n    if (opacityMixMode != ${R.int(W.ignore)} && vcolorExt.a < ${R.float(q)}) {\n      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n    }\n    forwardLinearDepthToReadShadowMap();\n  `),K.include(b,J),Y.include(p,J),K.include(A,J),Y.include(o,J),K.include(G,J),I(Y,J),Y.uniforms.add(X.uniforms.get(\"localOrigin\"),new B(\"ambient\",e=>e.ambient),new B(\"diffuse\",e=>e.diffuse),new k(\"opacity\",e=>e.opacity),new k(\"layerOpacity\",e=>e.layerOpacity)),ce&&Y.uniforms.add(new F(\"tex\",e=>e.texture)),K.include(L,J),Y.include(C,J),Y.include(D),K.include(x,J),Y.include(z,J),f(Y),h(Y),y(Y),Y.main.add(R`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${ce?R`\n            vec4 texColor = texture(tex, ${ue?\"colorUV\":\"vuv0\"});\n            ${_(se,\"texColor.rgb /= texColor.a;\")}\n            discardOrAdjustAlpha(texColor);`:R`vec4 texColor = vec4(1.0);`}\n    shadingParams.viewDirection = normalize(vpos - cameraPosition);\n    ${2===re?R`vec3 normal = screenDerivativeNormal(vPositionLocal);`:R`shadingParams.normalView = vNormalWorld;\n                vec3 normal = shadingNormal(shadingParams);`}\n    applyPBRFactors();\n    float ssao = evaluateAmbientOcclusionInverse() * getBakedOcclusion();\n\n    vec3 posWorld = vpos + localOrigin;\n\n    float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);\n    float shadow = readShadow(additionalAmbientScale, vpos);\n\n    vec3 matColor = max(ambient, diffuse);\n    vec3 albedo = mixExternalColor(${_(te,\"vColor.rgb *\")} matColor, texColor.rgb, vcolorExt.rgb, colorMixMode);\n    float opacity_ = layerOpacity * mixExternalOpacity(${_(te,\"vColor.a * \")} opacity, texColor.a, vcolorExt.a, opacityMixMode);\n\n    ${me?`mat3 tangentSpace = computeTangentSpace(${de?\"normal\":\"normal, vpos, vuv0\"});\\n            vec3 shadingNormal = computeTextureNormal(tangentSpace, ${ge?\"normalUV\":\"vuv0\"});`:\"vec3 shadingNormal = normal;\"}\n    vec3 normalGround = ${ie?\"normalize(posWorld);\":\"vec3(0.0, 0.0, 1.0);\"}\n\n    ${_(ae,R`\n          float snow = getSnow(normal, normalGround);\n          albedo = mix(albedo, vec3(1), snow);\n          shadingNormal = mix(shadingNormal, normal, snow);\n          ssao = mix(ssao, 1.0, snow);`)}\n\n    vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n\n    ${1===le||2===le?R`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n            ${_(ae,\"mrr = applySnowToMRR(mrr, snow);\")}\n            vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, additionalAmbientIrradiance);`:R`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n    vec4 finalColor = vec4(shadedColor, opacity_);\n    outputColorHighlightOID(finalColor, vpos, albedo ${_(ae,\", snow\")});\n  `),K}const K=Object.freeze(Object.defineProperty({__proto__:null,build:J},Symbol.toStringTag,{value:\"Module\"}));export{K as D,J as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Offset as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{isColorOrColorEmission as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstanceColor as a}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstanceColor.glsl.js\";import{InstancedDoublePrecision as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{MaskedColorDefinition as t,CreateMaskedFromNaNColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/MaskedColor.glsl.js\";import{NormalAttribute as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{SymbolColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VerticalOffset as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as v}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{EvaluateAmbientOcclusion as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as w,addAmbientBoostFactor as p,addLightingGlobalFactor as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{addMainLightDirection as f,addMainLightIntensity as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js\";import{PhysicallyBasedRendering as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as x}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMapPass as C,ReadShadowMapDraw as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{terrainDepthTest as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as M}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as O}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlpha.glsl.js\";import{MixExternalColor as N}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{addProjViewLocalOrigin as P,addCameraPosition as S}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as A}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as E}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as D}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as F,If as V}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as T}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{SnowCover as $}from\"../views/3d/webgl-engine/effects/weather/SnowCover.glsl.js\";import{colorMixModes as I}from\"../views/3d/webgl-engine/materials/internal/MaterialUtil.js\";import{outputColorHighlightOID as k}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as R}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as B}from\"../webscene/support/AlphaCutoff.js\";function _(_){const z=new R,{attributes:U,vertex:W,fragment:H,varyings:G}=z,{output:q,offsetBackfaces:J,pbrMode:K,snowCover:Q,spherical:X}=_,Y=1===K||2===K;if(P(W,_),U.add(\"position\",\"vec3\"),G.add(\"vpos\",\"vec3\",{invariant:!0}),z.include(M,_),z.include(l,_),z.include(m,_),z.include(j,_),!o(q))return z.include(v,_),z;S(z.vertex,_),z.include(n,_),z.include(i),J&&z.include(e),G.add(\"vNormalWorld\",\"vec3\"),G.add(\"localvpos\",\"vec3\",{invariant:!0}),z.include(c,_),z.include(d,_),z.include(a,_),z.include(g,_),W.include(t),W.include(s),W.uniforms.add(new E(\"externalColor\",e=>e.externalColor,{supportsNaN:!0})),G.add(\"vcolorExt\",\"vec4\"),z.include(_.instancedDoublePrecision?C:L,_),W.main.add(F`\n    forwardNormalizedVertexColor();\n\n    MaskedColor maskedColorExt =\n      applySymbolColor(applyVVColor(applyInstanceColor(createMaskedFromNaNColor(externalColor))));\n\n    vcolorExt = maskedColorExt.color;\n    forwardColorMixMode(maskedColorExt.mask);\n\n    bool alphaCut = opacityMixMode != ${F.int(I.ignore)} && vcolorExt.a < ${F.float(B)};\n    vpos = getVertexInLocalOriginSpace();\n\n    localvpos = vpos - view[3].xyz;\n    vpos = subtractOrigin(vpos);\n    vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n    vpos = addVerticalOffset(vpos, localOrigin);\n    vec4 basePosition = transformPosition(proj, view, vpos);\n\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    forwardTextureCoordinates();\n    forwardLinearDepthToReadShadowMap();\n    gl_Position = alphaCut ? vec4(1e38, 1e38, 1e38, 1.0) :\n    ${V(J,\"offsetBackfacingClipPosition(basePosition, vpos, vNormalWorld, cameraPosition);\",\"basePosition;\")}\n  `);const{hasColorTexture:Z,hasColorTextureTransform:ee}=_;return z.include(w,_),H.include(b,_),z.include(O,_),H.include(r,_),z.include(k,_),S(H,_),f(H),p(H),u(H),H.uniforms.add(W.uniforms.get(\"localOrigin\"),W.uniforms.get(\"view\"),new A(\"ambient\",e=>e.ambient),new A(\"diffuse\",e=>e.diffuse),new D(\"opacity\",e=>e.opacity),new D(\"layerOpacity\",e=>e.layerOpacity)),Z&&H.uniforms.add(new T(\"tex\",e=>e.texture)),z.include(x,_),H.include(y,_),H.include(N),H.include($,_),h(H),H.main.add(F`\n      discardBySlice(vpos);\n      discardByTerrainDepth();\n      vec4 texColor = ${Z?`texture(tex, ${ee?\"colorUV\":\"vuv0\"})`:\" vec4(1.0)\"};\n      ${V(Z,`${V(_.textureAlphaPremultiplied,\"texColor.rgb /= texColor.a;\")}\\n        discardOrAdjustAlpha(texColor);`)}\n      vec3 viewDirection = normalize(vpos - cameraPosition);\n      applyPBRFactors();\n      float ssao = evaluateAmbientOcclusionInverse();\n      ssao *= getBakedOcclusion();\n\n      float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n      vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n      float shadow = readShadow(additionalAmbientScale, vpos);\n      vec3 matColor = max(ambient, diffuse);\n      ${_.hasVertexColors?F`vec3 albedo = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, colorMixMode);\n             float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, opacityMixMode);`:F`vec3 albedo = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, colorMixMode);\n             float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, opacityMixMode);`}\n\n      vec3 shadingNormal = normalize(vNormalWorld);\n      vec3 groundNormal = ${X?\"normalize(vpos + localOrigin)\":\"vec3(0.0, 0.0, 1.0)\"};\n\n      ${V(Q,\"vec3 faceNormal = screenDerivativeNormal(vpos);\\n         float snow = getRealisticTreeSnow(faceNormal, shadingNormal, groundNormal);\\n         albedo = mix(albedo, vec3(1), snow);\")}\n\n      ${F`albedo *= 1.2;\n             vec3 viewForward = vec3(view[0][2], view[1][2], view[2][2]);\n             float alignmentLightView = clamp(dot(viewForward, -mainLightDirection), 0.0, 1.0);\n             float transmittance = 1.0 - clamp(dot(viewForward, shadingNormal), 0.0, 1.0);\n             float treeRadialFalloff = vColor.r;\n             float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n             additionalLight += backLightFactor * mainLightIntensity;`}\n\n      ${Y?F`float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n            ${V(Q,\"mrr = applySnowToMRR(mrr, snow);\")}\n            vec3 shadedColor = evaluateSceneLightingPBR(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight, viewDirection, groundNormal, mrr, additionalAmbientIrradiance);`:F`vec3 shadedColor = evaluateSceneLighting(shadingNormal, albedo, shadow, 1.0 - ssao, additionalLight);`}\n      vec4 finalColor = vec4(shadedColor, opacity_);\n      outputColorHighlightOID(finalColor, vpos, albedo ${V(Q,\", 1.0\")});`),z}const z=Object.freeze(Object.defineProperty({__proto__:null,build:_},Symbol.toStringTag,{value:\"Module\"}));export{z as R,_ as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as o}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{CameraSpace as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js\";import{Float2BindUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatBindUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as f}from\"../views/webgl/ShaderBuilder.js\";const d=16;function m(){const r=new f,m=r.fragment;return r.include(t),r.include(a),m.include(o),m.uniforms.add(new s(\"radius\",e=>v(e.camera))).code.add(l`vec3 sphere[16] = vec3[16](\nvec3(0.186937, 0.0, 0.0),\nvec3(0.700542, 0.0, 0.0),\nvec3(-0.864858, -0.481795, -0.111713),\nvec3(-0.624773, 0.102853, -0.730153),\nvec3(-0.387172, 0.260319, 0.007229),\nvec3(-0.222367, -0.642631, -0.707697),\nvec3(-0.01336, -0.014956, 0.169662),\nvec3(0.122575, 0.1544, -0.456944),\nvec3(-0.177141, 0.85997, -0.42346),\nvec3(-0.131631, 0.814545, 0.524355),\nvec3(-0.779469, 0.007991, 0.624833),\nvec3(0.308092, 0.209288,0.35969),\nvec3(0.359331, -0.184533, -0.377458),\nvec3(0.192633, -0.482999, -0.065284),\nvec3(0.233538, 0.293706, -0.055139),\nvec3(0.417709, -0.386701, 0.442449)\n);\nfloat fallOffFunction(float vv, float vn, float bias) {\nfloat f = max(radius * radius - vv, 0.0);\nreturn f * f * f * max(vn - bias, 0.0);\n}`),m.code.add(l`float aoValueFromPositionsAndNormal(vec3 C, vec3 n_C, vec3 Q) {\nvec3 v = Q - C;\nfloat vv = dot(v, v);\nfloat vn = dot(normalize(v), n_C);\nreturn fallOffFunction(vv, vn, 0.1);\n}`),r.outputs.add(\"fragOcclusion\",\"float\"),m.uniforms.add(new u(\"normalMap\",e=>e.normalTexture),new u(\"depthMap\",e=>e.depthTexture),new c(\"projScale\",e=>e.projScale),new u(\"rnm\",e=>e.noiseTexture),new n(\"rnmScale\",(r,t)=>e(p,t.camera.fullWidth/r.noiseTexture.descriptor.width,t.camera.fullHeight/r.noiseTexture.descriptor.height)),new c(\"intensity\",e=>e.intensity),new i(\"screenSize\",r=>e(p,r.camera.fullWidth,r.camera.fullHeight))).main.add(l`\n    float depth = depthFromTexture(depthMap, uv);\n\n    // Early out if depth is out of range, such as in the sky\n    if (depth >= 1.0 || depth <= 0.0) {\n      fragOcclusion = 1.0;\n      return;\n    }\n\n    // get the normal of current fragment\n    ivec2 iuv = ivec2(uv * vec2(textureSize(normalMap, 0)));\n    vec4 norm4 = texelFetch(normalMap, iuv, 0);\n    if(norm4.a != 1.0) {\n      fragOcclusion = 1.0;\n      return;\n    }\n    vec3 norm = normalize(norm4.xyz * 2.0 - 1.0);\n\n    float currentPixelDepth = linearizeDepth(depth);\n    vec3 currentPixelPos = reconstructPosition(gl_FragCoord.xy, currentPixelDepth);\n\n    float sum = 0.0;\n    vec3 tapPixelPos;\n\n    vec3 fres = normalize(2.0 * texture(rnm, uv * rnmScale).xyz - 1.0);\n\n    // note: the factor 2.0 should not be necessary, but makes ssao much nicer.\n    // bug or deviation from CE somewhere else?\n    float ps = projScale / (2.0 * currentPixelPos.z * zScale.x + zScale.y);\n\n    for(int i = 0; i < ${l.int(d)}; ++i) {\n      vec2 unitOffset = reflect(sphere[i], fres).xy;\n      vec2 offset = vec2(-unitOffset * radius * ps);\n\n      // don't use current or very nearby samples\n      if( abs(offset.x) < 2.0 || abs(offset.y) < 2.0){\n        continue;\n      }\n\n      vec2 tc = vec2(gl_FragCoord.xy + offset);\n      if (tc.x < 0.0 || tc.y < 0.0 || tc.x > screenSize.x || tc.y > screenSize.y) continue;\n      vec2 tcTap = tc / screenSize;\n      float occluderFragmentDepth = linearDepthFromTexture(depthMap, tcTap);\n\n      tapPixelPos = reconstructPosition(tc, occluderFragmentDepth);\n\n      sum += aoValueFromPositionsAndNormal(currentPixelPos, norm, tapPixelPos);\n    }\n\n    // output the result\n    float A = max(1.0 - sum * intensity / float(${l.int(d)}), 0.0);\n\n    // Anti-tone map to reduce contrast and drag dark region farther: (x^0.2 + 1.2 * x^4) / 2.2\n    A = (pow(A, 0.2) + 1.2 * A * A * A * A) / 2.2;\n\n    fragOcclusion = A;\n  `),r}function v(e){return Math.max(10,20*e.computeScreenPixelSizeAtDist(Math.abs(4*e.relativeElevation)))}const p=r(),g=Object.freeze(Object.defineProperty({__proto__:null,build:m,getRadius:v},Symbol.toStringTag,{value:\"Module\"}));export{g as S,m as b,v as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as r}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as s}from\"../views/webgl/ShaderBuilder.js\";const d=4;function i(){const i=new s,f=i.fragment;i.include(e);const u=(d+1)/2,c=1/(2*u*u);return f.include(r),f.uniforms.add(new n(\"depthMap\",e=>e.depthTexture),new l(\"tex\",e=>e.colorTexture),new t(\"blurSize\",e=>e.blurSize),new o(\"projScale\",(e,r)=>{const t=r.camera.distance;return t>5e4?Math.max(0,e.projScale-(t-5e4)):e.projScale})),f.code.add(a`\n    void blurFunction(vec2 uv, float r, float center_d, float sharpness, inout float wTotal, inout float bTotal) {\n      float c = texture(tex, uv).r;\n      float d = linearDepthFromTexture(depthMap, uv);\n\n      float ddiff = d - center_d;\n\n      float w = exp(-r * r * ${a.float(c)} - ddiff * ddiff * sharpness);\n      wTotal += w;\n      bTotal += w * c;\n    }\n  `),i.outputs.add(\"fragBlur\",\"float\"),f.main.add(a`\n    float b = 0.0;\n    float w_total = 0.0;\n\n    float center_d = linearDepthFromTexture(depthMap, uv);\n\n    float sharpness = -0.05 * projScale / center_d;\n    for (int r = -${a.int(d)}; r <= ${a.int(d)}; ++r) {\n      float rf = float(r);\n      vec2 uvOffset = uv + rf * blurSize;\n      blurFunction(uvOffset, rf, center_d, sharpness, w_total, b);\n    }\n    fragBlur = b / w_total;`),i}const f=Object.freeze(Object.defineProperty({__proto__:null,build:i},Symbol.toStringTag,{value:\"Module\"}));export{f as S,i as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/glsl.js\";function c(c){c.vertex.code.add(o`vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\nvec3 camToVert = posWorld - camPosWorld;\nbool isBackface = dot(camToVert, normalWorld) > 0.0;\nif (isBackface) {\nposClip.z += 0.0000003 * posClip.w;\n}\nreturn posClip;\n}`)}export{c as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{MaskedColorDefinition as o,CreateMaskedFromUInt8NaNColor as e,MultiplyMaskedColors as r}from\"./MaskedColor.glsl.js\";import{glsl as l}from\"../../shaderModules/glsl.js\";function t(t,a){a.instancedColor?(t.attributes.add(\"instanceColor\",\"vec4\"),t.vertex.include(o),t.vertex.include(e),t.vertex.include(r),t.vertex.code.add(l`\n      MaskedColor applyInstanceColor(MaskedColor color) {\n        return multiplyMaskedColors( color, createMaskedFromUInt8NaNColor(${\"instanceColor\"}));\n      }\n    `)):t.vertex.code.add(l`MaskedColor applyInstanceColor(MaskedColor color) {\nreturn color;\n}`)}export{t as InstanceColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{normalFromMat4 as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{IDENTITY as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as a}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DoublePrecision as i}from\"../util/DoublePrecision.glsl.js\";import{addViewNormal as t}from\"../util/View.glsl.js\";import{Float3BindUniform as s}from\"../../shaderModules/Float3BindUniform.js\";import{glsl as l}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as m}from\"../../shaderModules/Matrix3PassUniform.js\";import{Matrix4PassUniform as c}from\"../../shaderModules/Matrix4PassUniform.js\";import{encodeDoubleHi as d,encodeDoubleLo as v}from\"../../../../../webgl/doublePrecisionUtils.js\";import{NoParameters as g}from\"../../../../../webgl/NoParameters.js\";class u extends g{constructor(){super(...arguments),this.modelTransformation=null}}const x=r();function p(r,n){const{hasModelTransformation:g,instancedDoublePrecision:u,instanced:p,output:f,hasVertexTangents:w}=n;g&&(r.vertex.uniforms.add(new c(\"model\",e=>e.modelTransformation??o)),r.vertex.uniforms.add(new m(\"normalLocalOriginFromModel\",r=>(e(x,r.modelTransformation??o),x)))),p&&u&&(r.attributes.add(\"instanceModelOriginHi\",\"vec3\"),r.attributes.add(\"instanceModelOriginLo\",\"vec3\"),r.attributes.add(\"instanceModel\",\"mat3\"),r.attributes.add(\"instanceModelNormal\",\"mat3\"));const _=r.vertex;u&&(_.include(i,n),_.uniforms.add(new s(\"viewOriginHi\",e=>d(a(M,e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]),M)),new s(\"viewOriginLo\",e=>v(a(M,e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]),M)))),_.code.add(l`\n    vec3 getVertexInLocalOriginSpace() {\n      return ${g?u?\"(model * vec4(instanceModel * localPosition().xyz, 1.0)).xyz\":\"(model * localPosition()).xyz\":u?\"instanceModel * localPosition().xyz\":\"localPosition().xyz\"};\n    }\n\n    vec3 subtractOrigin(vec3 _pos) {\n      ${u?l`\n          // Issue: (should be resolved now with invariant position) https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/56280\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -instanceModelOriginHi, -instanceModelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `),_.code.add(l`\n    vec3 dpNormal(vec4 _normal) {\n      return normalize(${g?u?\"normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz)\":\"normalLocalOriginFromModel * _normal.xyz\":u?\"instanceModelNormal * _normal.xyz\":\"_normal.xyz\"});\n    }\n    `),3===f&&(t(_),_.code.add(l`\n    vec3 dpNormalView(vec4 _normal) {\n      return normalize((viewNormal * ${g?u?\"vec4(normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz), 1.0)\":\"vec4(normalLocalOriginFromModel * _normal.xyz, 1.0)\":u?\"vec4(instanceModelNormal * _normal.xyz, 1.0)\":\"_normal\"}).xyz);\n    }\n    `)),w&&_.code.add(l`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${g?u?\"return vec4(normalLocalOriginFromModel * (instanceModelNormal * _tangent.xyz), _tangent.w);\":\"return vec4(normalLocalOriginFromModel * _tangent.xyz, _tangent.w);\":u?\"return vec4(instanceModelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n    }`)}const M=n();export{u as InstancedDoublePassParameters,p as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function o(o,a){switch(o.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`),a.normalType){case 1:o.attributes.add(\"normalCompressed\",\"vec2\"),o.vertex.code.add(r`vec3 decompressNormal(vec2 normal) {\nfloat z = 1.0 - abs(normal.x) - abs(normal.y);\nreturn vec3(normal + sign(normal) * min(z, 0.0), z);\n}\nvec3 normalModel() {\nreturn decompressNormal(normalCompressed);\n}`);break;case 0:o.attributes.add(\"normal\",\"vec3\"),o.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`);break;default:e(a.normalType);case 2:case 3:}}export{o as NormalAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{MaskedColorDefinition as o,CreateMaskedFromUInt8NaNColor as r,MultiplyMaskedColors as e}from\"./MaskedColor.glsl.js\";import{glsl as l}from\"../../shaderModules/glsl.js\";import{IntegerPassUniform as d}from\"../../shaderModules/IntegerPassUniform.js\";import{colorMixModes as a}from\"../../../materials/internal/MaterialUtil.js\";function i(i,s){i.varyings.add(\"colorMixMode\",\"int\"),i.varyings.add(\"opacityMixMode\",\"int\"),i.vertex.uniforms.add(new d(\"symbolColorMixMode\",o=>a[o.colorMixMode])),s.hasSymbolColors?(i.vertex.include(o),i.vertex.include(r),i.vertex.include(e),i.attributes.add(\"symbolColor\",\"vec4\"),i.vertex.code.add(l`\n    MaskedColor applySymbolColor(MaskedColor color) {\n      return multiplyMaskedColors(color, createMaskedFromUInt8NaNColor(${\"symbolColor\"}));\n    }\n  `)):i.vertex.code.add(l`MaskedColor applySymbolColor(MaskedColor color) {\nreturn color;\n}`),i.vertex.code.add(l`\n    void forwardColorMixMode(bvec4 mask) {\n      colorMixMode = mask.r ? ${l.int(a.ignore)} : symbolColorMixMode;\n      opacityMixMode = mask.a ? ${l.int(a.ignore)} : symbolColorMixMode;\n    }\n  `)}export{i as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as r}from\"../../../../../../core/compilerUtils.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{NormalAttribute as l}from\"./NormalAttribute.glsl.js\";import{VertexPositionPassParameters as m,VertexPositionDrawParameters as e}from\"./VertexPosition.glsl.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";import{Matrix3DrawUniform as t}from\"../../shaderModules/Matrix3DrawUniform.js\";import{Matrix3PassUniform as i}from\"../../shaderModules/Matrix3PassUniform.js\";function d(o,a){switch(a.normalType){case 0:case 1:o.include(l,a),o.varyings.add(\"vNormalWorld\",\"vec3\"),o.varyings.add(\"vNormalView\",\"vec3\"),o.vertex.uniforms.add(new t(\"transformNormalGlobalFromModel\",r=>r.transformNormalGlobalFromModel),new i(\"transformNormalViewFromGlobal\",r=>r.transformNormalViewFromGlobal)).code.add(s`void forwardNormal() {\nvNormalWorld = transformNormalGlobalFromModel * normalModel();\nvNormalView = transformNormalViewFromGlobal * vNormalWorld;\n}`);break;case 2:o.vertex.code.add(s`void forwardNormal() {}`);break;default:r(a.normalType);case 3:}}class f extends m{constructor(){super(...arguments),this.transformNormalViewFromGlobal=o()}}class c extends e{constructor(){super(...arguments),this.transformNormalGlobalFromModel=o(),this.toMapSpace=a()}}export{d as VertexNormal,c as VertexNormalDrawParameters,f as VertexNormalPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{addNearFar as o}from\"../ForwardLinearDepthToWriteShadowMap.glsl.js\";import{SliceDraw as r}from\"../Slice.glsl.js\";import{Transform as e}from\"../Transform.glsl.js\";import{NormalAttribute as t}from\"../attributes/NormalAttribute.glsl.js\";import{ObjectAndLayerIdColor as i}from\"../attributes/ObjectAndLayerIdColor.glsl.js\";import{TextureCoordinateAttribute as a}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormal as s}from\"../attributes/VertexNormal.glsl.js\";import{OutputDepth as l}from\"../output/OutputDepth.glsl.js\";import{OutputHighlight as d}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as n}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlphaPass as c}from\"../util/DiscardOrAdjustAlpha.glsl.js\";import{addProjViewLocalOrigin as u}from\"../util/View.glsl.js\";import{glsl as p,If as v}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as m}from\"../../shaderModules/Texture2DPassUniform.js\";function f(f,g){const{vertex:x,fragment:O,varyings:j}=f,{hasColorTexture:h,alphaDiscardMode:w}=g,V=h&&1!==w,{output:C,normalType:b,hasColorTextureTransform:A}=g;switch(C){case 2:u(x,g),f.include(e),O.include(r,g),f.include(a,g),V&&O.uniforms.add(new m(\"tex\",o=>o.texture)),x.main.add(p`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();`),f.include(c,g),O.main.add(p`\n        discardBySlice(vpos);\n        ${v(V,p`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}`);break;case 4:case 5:case 6:case 7:case 10:u(x,g),f.include(e),f.include(a,g),f.include(n,g),f.include(l,g),O.include(r,g),f.include(i,g),o(f),j.add(\"depth\",\"float\",{invariant:!0}),V&&O.uniforms.add(new m(\"tex\",o=>o.texture)),x.main.add(p`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPositionWithDepth(proj, view, vpos, nearFar, depth);\nforwardTextureCoordinates();\nforwardObjectAndLayerIdColor();`),f.include(c,g),O.main.add(p`\n        discardBySlice(vpos);\n        ${v(V,p`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n               discardOrAdjustAlpha(texColor);`)}\n        ${10===C?p`outputObjectAndLayerIdColor();`:p`outputDepth(depth);`}`);break;case 3:{u(x,g),f.include(e),f.include(t,g),f.include(s,g),f.include(a,g),f.include(n,g),V&&O.uniforms.add(new m(\"tex\",o=>o.texture)),2===b&&j.add(\"vPositionView\",\"vec3\",{invariant:!0});const o=0===b||1===b;x.main.add(p`\n        vpos = getVertexInLocalOriginSpace();\n        ${o?p`vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:p`vPositionView = (view * vec4(vpos, 1.0)).xyz;`}\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();`),O.include(r,g),f.include(c,g),O.main.add(p`\n        discardBySlice(vpos);\n        ${v(V,p`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}\n\n        ${2===b?p`vec3 normal = screenDerivativeNormal(vPositionView);`:p`vec3 normal = normalize(vNormalWorld);\n                    if (gl_FrontFacing == false){\n                      normal = -normal;\n                    }`}\n        fragColor = vec4(0.5 + 0.5 * normal, 1.0);`);break}case 9:u(x,g),f.include(e),f.include(a,g),f.include(n,g),V&&O.uniforms.add(new m(\"tex\",o=>o.texture)),x.main.add(p`vpos = getVertexInLocalOriginSpace();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();`),O.include(r,g),f.include(c,g),f.include(d,g),O.main.add(p`\n        discardBySlice(vpos);\n        ${v(V,p`vec4 texColor = texture(tex, ${A?\"colorUV\":\"vuv0\"});\n                discardOrAdjustAlpha(texColor);`)}\n        calculateOcclusionAndOutputHighlight();`)}}export{f as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/glsl.js\";function a(a,e){switch(e.output){case 4:case 5:case 6:case 7:a.fragment.code.add(t`float _calculateFragDepth(const in float depth) {\nconst float SLOPE_SCALE = 2.0;\nconst float BIAS = 20.0 * .000015259;\nfloat m = max(abs(dFdx(depth)), abs(dFdy(depth)));\nreturn depth + SLOPE_SCALE * m + BIAS;\n}\nvoid outputDepth(float _linearDepth){\nfloat fragDepth = _calculateFragDepth(_linearDepth);\ngl_FragDepth = fragDepth;\n}`);break;case 8:a.fragment.code.add(t`void outputDepth(float _linearDepth){\ngl_FragDepth = _linearDepth;\n}`)}}export{a as OutputDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{IDENTITY as e}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{ONES as t}from\"../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{VertexTextureCoordinates as a}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{Float2PassUniform as r}from\"../../shaderModules/Float2PassUniform.js\";import{glsl as n}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as o}from\"../../shaderModules/Matrix3PassUniform.js\";import{Texture2DDrawUniform as s}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as m}from\"../../shaderModules/Texture2DPassUniform.js\";function d(d,l){const c=d.fragment,{hasVertexTangents:i,doubleSidedMode:x,hasNormalTexture:T,textureCoordinateType:u,bindType:g,hasNormalTextureTransform:v}=l;i?(d.attributes.add(\"tangent\",\"vec4\"),d.varyings.add(\"vTangent\",\"vec4\"),2===x?c.code.add(n`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\nvec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`):c.code.add(n`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = vTangent.w;\nvec3 tangent = normalize(vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`)):c.code.add(n`mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\nvec3 Q1 = dFdx(pos);\nvec3 Q2 = dFdy(pos);\nvec2 stx = dFdx(st);\nvec2 sty = dFdy(st);\nfloat det = stx.t * sty.s - sty.t * stx.s;\nvec3 T = stx.t * Q2 - sty.t * Q1;\nT = T - normal * dot(normal, T);\nT *= inversesqrt(max(dot(T,T), 1.e-10));\nvec3 B = sign(det) * cross(normal, T);\nreturn mat3(T, B, normal);\n}`),T&&0!==u&&(d.include(a,l),c.uniforms.add(1===g?new m(\"normalTexture\",e=>e.textureNormal):new s(\"normalTexture\",e=>e.textureNormal)),v&&(c.uniforms.add(new r(\"scale\",e=>e.scale??t)),c.uniforms.add(new o(\"normalTextureTransformMatrix\",t=>t.normalTextureTransformMatrix??e))),c.code.add(n`vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\nvec3 rawNormal = textureLookup(normalTexture, uv).rgb * 2.0 - 1.0;`),v&&c.code.add(n`mat3 normalRotation = mat3(normalTextureTransformMatrix[0][0]/scale[0], normalTextureTransformMatrix[0][1]/scale[1], 0.0,\nnormalTextureTransformMatrix[1][0]/scale[0], normalTextureTransformMatrix[1][1]/scale[1], 0.0,\n0.0, 0.0, 0.0 );\nrawNormal.xy = (normalRotation * vec3(rawNormal.x, rawNormal.y, 1.0)).xy;`),c.code.add(n`return tangentSpace * rawNormal;\n}`))}export{d as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as i}from\"../../../../../../chunks/vec32.js\";import{create as n}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as t}from\"../../../../../../chunks/vec42.js\";import{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Float3BindUniform as h}from\"../../shaderModules/Float3BindUniform.js\";import{Float4BindUniform as g}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";function m(n,e){const m=n.fragment,a=void 0!==e.lightingSphericalHarmonicsOrder?e.lightingSphericalHarmonicsOrder:2;0===a?(m.uniforms.add(new h(\"lightingAmbientSH0\",({lighting:n})=>i(r,n.sh.r[0],n.sh.g[0],n.sh.b[0]))),m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===a?(m.uniforms.add(new g(\"lightingAmbientSH_R\",({lighting:i})=>t(l,i.sh.r[0],i.sh.r[1],i.sh.r[2],i.sh.r[3])),new g(\"lightingAmbientSH_G\",({lighting:i})=>t(l,i.sh.g[0],i.sh.g[1],i.sh.g[2],i.sh.g[3])),new g(\"lightingAmbientSH_B\",({lighting:i})=>t(l,i.sh.b[0],i.sh.b[1],i.sh.b[2],i.sh.b[3]))),m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===a&&(m.uniforms.add(new h(\"lightingAmbientSH0\",({lighting:n})=>i(r,n.sh.r[0],n.sh.g[0],n.sh.b[0])),new g(\"lightingAmbientSH_R1\",({lighting:i})=>t(l,i.sh.r[1],i.sh.r[2],i.sh.r[3],i.sh.r[4])),new g(\"lightingAmbientSH_G1\",({lighting:i})=>t(l,i.sh.g[1],i.sh.g[2],i.sh.g[3],i.sh.g[4])),new g(\"lightingAmbientSH_B1\",({lighting:i})=>t(l,i.sh.b[1],i.sh.b[2],i.sh.b[3],i.sh.b[4])),new g(\"lightingAmbientSH_R2\",({lighting:i})=>t(l,i.sh.r[5],i.sh.r[6],i.sh.r[7],i.sh.r[8])),new g(\"lightingAmbientSH_G2\",({lighting:i})=>t(l,i.sh.g[5],i.sh.g[6],i.sh.g[7],i.sh.g[8])),new g(\"lightingAmbientSH_B2\",({lighting:i})=>t(l,i.sh.b[5],i.sh.b[6],i.sh.b[7],i.sh.b[8]))),m.code.add(s`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),1!==e.pbrMode&&2!==e.pbrMode||m.code.add(s`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}const r=n(),l=e();export{m as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Pos2Locations as o}from\"../../lib/DefaultVertexBufferLayouts.js\";import{S as s}from\"../../../../../chunks/SSAOBlur.glsl.js\";import{makePipelineState as t,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,t){super(r,t,new e(s,()=>import(\"../../shaders/SSAOBlur.glsl.js\")),o)}initializePipeline(){return t({colorWrite:i})}}export{l as SSAOBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{NoParameters as e}from\"../../../../webgl/NoParameters.js\";class r extends e{constructor(){super(...arguments),this.projScale=1}}class t extends r{constructor(){super(...arguments),this.intensity=1}}class o extends e{}class c extends o{constructor(){super(...arguments),this.blurSize=s()}}export{c as BlurDrawParameters,r as BlurPassParameters,o as SSAODrawParameters,t as SSAOPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Pos2Locations as o}from\"../../lib/DefaultVertexBufferLayouts.js\";import{S as s}from\"../../../../../chunks/SSAO.glsl.js\";import{makePipelineState as t,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,t){super(r,t,new e(s,()=>import(\"../../shaders/SSAO.glsl.js\")),o)}initializePipeline(){return t({colorWrite:i})}}export{l as SSAOTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as t}from\"../../../../../core/maybe.js\";import{watch as s}from\"../../../../../core/reactiveUtils.js\";import{Milliseconds as i}from\"../../../../../core/time.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as m}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{InternalRenderCategory as n}from\"../../../webgl.js\";import p from\"../../../webgl/RenderNode.js\";import{distanceFadeEnd as c,distanceFadeStart as h}from\"../../core/shaderLibrary/shading/ScreenSpaceConstants.js\";import{SSAOBlurTechnique as u}from\"./SSAOBlurTechnique.js\";import{noiseData as l}from\"./SSAONoiseData.js\";import{SSAOPassParameters as d,BlurDrawParameters as f}from\"./SSAOParameters.js\";import{SSAOTechnique as b}from\"./SSAOTechnique.js\";import{g as w}from\"../../../../../chunks/SSAO.glsl.js\";import{DepthStencilAttachment as S}from\"../../../../webgl/enums.js\";import{Texture as T}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as _}from\"../../../../webgl/TextureDescriptor.js\";const g=2;let j=class extends p{constructor(e){super(e),this.consumes={required:[\"normals\"]},this.produces=n.SSAO,this.isEnabled=()=>!1,this._enableTime=i(0),this._passParameters=new d,this._drawParameters=new f}initialize(){const e=Uint8Array.from(atob(l),e=>e.charCodeAt(0)),r=new _(32);r.wrapMode=33071,r.pixelFormat=6407,r.wrapMode=10497,r.hasMipmap=!0,this._passParameters.noiseTexture=new T(this.renderingContext,r,e),this.techniques.precompile(b),this.techniques.precompile(u),this.addHandles(s(()=>this.isEnabled(),()=>this._enableTime=i(0)))}destroy(){this._passParameters.noiseTexture=t(this._passParameters.noiseTexture)}render(e){const t=e.find(({name:e})=>\"normals\"===e),s=t?.getTexture(),o=t?.getTexture(S);if(!s||!o)return;const a=this.techniques.get(b),p=this.techniques.get(u);if(!a.compiled||!p.compiled)return this._enableTime=i(performance.now()),void this.requestRender(1);0===this._enableTime&&(this._enableTime=i(performance.now()));const l=this.renderingContext,d=this.view.qualitySettings.fadeDuration,f=this.bindParameters,T=f.camera,_=T.relativeElevation,j=r((c-_)/(c-h),0,1),x=d>0?Math.min(d,performance.now()-this._enableTime)/d:1,q=x*j;this._passParameters.normalTexture=s,this._passParameters.depthTexture=o,this._passParameters.projScale=1/T.computeScreenPixelSizeAtDist(1),this._passParameters.intensity=4*P/w(T)**6*q;const v=T.fullViewport[2],y=T.fullViewport[3],A=this.fboCache.acquire(v,y,\"ssao input\",2);l.bindFramebuffer(A.fbo),l.setViewport(0,0,v,y),l.bindTechnique(a,f,this._passParameters,this._drawParameters),l.screen.draw();const C=Math.round(v/g),O=Math.round(y/g),V=this.fboCache.acquire(C,O,\"ssao blur\",0);l.bindFramebuffer(V.fbo),this._drawParameters.colorTexture=A.getTexture(),m(this._drawParameters.blurSize,0,g/y),l.bindTechnique(p,f,this._passParameters,this._drawParameters),l.setViewport(0,0,C,O),l.screen.draw(),A.release();const M=this.fboCache.acquire(C,O,n.SSAO,0);return l.bindFramebuffer(M.fbo),l.setViewport(0,0,v,y),l.setClearColor(1,1,1,0),l.clear(16384),this._drawParameters.colorTexture=V.getTexture(),m(this._drawParameters.blurSize,g/v,0),l.bindTechnique(p,f,this._passParameters,this._drawParameters),l.setViewport(0,0,C,O),l.screen.draw(),l.setViewport4fv(T.fullViewport),V.release(),x<1&&this.requestRender(2),M}};e([o()],j.prototype,\"consumes\",void 0),e([o()],j.prototype,\"produces\",void 0),e([o({constructOnly:!0})],j.prototype,\"isEnabled\",void 0),j=e([a(\"esri.views.3d.webgl-engine.effects.ssao.SSAO\")],j);const P=.5;export{j as SSAO,g as blurSizePixels};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e=\"eXKEvZaUc66cjIKElE1jlJ6MjJ6Ufkl+jn2fcXp5jBx7c6KEflSGiXuXeW6OWs+tfqZ2Yot2Y7Zzfo2BhniEj3xoiXuXj4eGZpqEaHKDWjSMe7palFlzc3BziYOGlFVzg6Zzg7CUY5JrjFF7eYJ4jIKEcyyEonSXe7qUfqZ7j3xofqZ2c4R5lFZ5Y0WUbppoe1l2cIh2ezyUho+BcHN2cG6DbpqJhqp2e1GcezhrdldzjFGUcyxjc3aRjDyEc1h7Sl17c6aMjH92pb6Mjpd4dnqBjMOEhqZleIOBYzB7gYx+fnqGjJuEkWlwnCx7fGl+c4hjfGyRe5qMlNOMfnqGhIWHc6OMi4GDc6aMfqZuc6aMzqJzlKZ+lJ6Me3qRfoFue0WUhoR5UraEa6qMkXiPjMOMlJOGe7JrUqKMjK6MeYRzdod+Sl17boiPc6qEeYBlcIh2c1WEe7GDiWCDa0WMjEmMdod+Y0WcdntzhmN8WjyMjKJjiXtzgYxYaGd+a89zlEV7e2GJfnd+lF1rcK5zc4p5cHuBhL6EcXp5eYB7fnh8iX6HjIKEeaxuiYOGc66RfG2Ja5hzjlGMjEmMe9OEgXuPfHyGhPeEdl6JY02McGuMfnqGhFiMa3WJfnx2l4hwcG1uhmN8c0WMc39og1GBbrCEjE2EZY+JcIh2cIuGhIWHe0mEhIVrc09+gY5+eYBlnCyMhGCDl3drfmmMgX15aGd+gYx+fnuRfnhzY1SMsluJfnd+hm98WtNrcIuGh4SEj0qPdkqOjFF7jNNjdnqBgaqUjMt7boeBhnZ4jDR7c5pze4GGjEFrhLqMjHyMc0mUhKZze4WEa117kWlwbpqJjHZ2eX2Bc09zeId+e0V7WlF7jHJ2l72BfId8l3eBgXyBe897jGl7c66cgW+Xc76EjKNbgaSEjGx4fId8jFFjgZB8cG6DhlFziZhrcIh2fH6HgUqBgXiPY8dahGFzjEmMhEFre2dxhoBzc5SGfleGe6alc7aUeYBlhKqUdlp+cH5za4OEczxza0Gcc4J2jHZ5iXuXjH2Jh5yRjH2JcFx+hImBjH+MpddCl3dreZeJjIt8ZW18bm1zjoSEeIOBlF9oh3N7hlqBY4+UeYFwhLJjeYFwaGd+gUqBYxiEYot2fqZ2ondzhL6EYyiEY02Ea0VjgZB8doaGjHxoc66cjEGEiXuXiXWMiZhreHx8frGMe75rY02Ec5pzfnhzlEp4a3VzjM+EhFFza3mUY7Zza1V5e2iMfGyRcziEhDyEkXZ2Y4OBnCx7g5t2eyBjgV6EhEFrcIh2dod+c4Z+nJ5zjm15jEmUeYxijJp7nL6clIpjhoR5WrZraGd+fnuRa6pzlIiMg6ZzfHx5foh+eX1ufnB5eX1ufnB5aJt7UqKMjIh+e3aBfm5lbYSBhGFze6J4c39oc0mUc4Z+e0V7fKFVe0WEdoaGY02Ec4Z+Y02EZYWBfH6HgU1+gY5+hIWUgW+XjJ57ebWRhFVScHuBfJ6PhBx7WqJzlM+Ujpd4gHZziX6HjHmEgZN+lJt5boiPe2GJgX+GjIGJgHZzeaxufnB5hF2JtdN7jJ57hp57hK6ElFVzg6ZzbmiEbndzhIWHe3uJfoFue3qRhJd2j3xoc65zlE1jc3p8lE1jhniEgXJ7e657vZaUc3qBh52BhIF4aHKDa9drgY5+c52GWqZzbpqJe8tjnM+UhIeMfo2BfGl+hG1zSmmMjKJjZVaGgX15c1lze0mEp4OHa3mUhIWHhDyclJ6MeYOJkXiPc0VzhFiMlKaEboSJa5Jze41re3qRhn+HZYWBe0mEc4p5fnORbox5lEp4hGFjhGGEjJuEc1WEhLZjeHeGa7KlfHx2hLaMeX1ugY5+hIWHhKGPjMN7c1WEho1zhoBzZYx7fnhzlJt5exyUhFFziXtzfmmMa6qMYyiEiXxweV12kZSMeWqXSl17fnhzxmmMrVGEe1mcc4p5eHeGjK6MgY5+doaGa6pzlGV7g1qBh4KHkXiPeW6OaKqafqZ2eXZ5e1V7jGd7boSJc3BzhJd2e0mcYot2h1RoY8dahK6EQmWEWjx7e1l2lL6UgXyBdnR4eU9zc0VreX1umqaBhld7fo2Bc6KEc5Z+hDyEcIeBWtNrfHyGe5qMhMuMe5qMhEGEbVVupcNzg3aHhIF4boeBe0mEdlptc39ofFl5Y8uUlJOGiYt2UmGEcyxjjGx4jFF7a657ZYWBnElzhp57iXtrgZN+tfOEhIOBjE2HgU1+e8tjjKNbiWCDhE15gUqBgYN7fnqGc66ce9d7iYSBj0qPcG6DnGGcT3eGa6qMZY+JlIiMl4hwc3aRdnqBlGV7eHJ2hLZjfnuRhDyEeX6MSk17g6Z+c6aUjHmEhIF4gXyBc76EZW18fGl+fkl+jCxrhoVwhDyUhIqGlL2DlI6EhJd2tdN7eYORhEGMa2Faa6pzc3Bzc4R5lIRznM+UY9eMhDycc5Z+c4p5c4iGY117pb6MgXuPrbJafnx2eYOJeXZ5e657hDyEcziElKZjfoB5eHeGj4WRhGGEe6KGeX1utTStc76EhFGJnCyMa5hzfH6HnNeceYB7hmN8gYuMhIVrczSMgYF8h3N7c5pza5hzjJqEYIRdgYuMlL2DeYRzhGGEeX1uhLaEc4iGeZ1zdl6JhrVteX6Me2iMfm5lWqJzSpqEa6pzdnmchHx2c6OMhNdrhoR5g3aHczxzeW52gV6Ejm15frGMc0Vzc4Z+l3drfniJe+9rWq5rlF1rhGGEhoVwe9OEfoh+e7pac09+c3qBY0lrhDycdnp2lJ6MiYOGhGCDc3aRlL2DlJt5doaGdnp2gYF8gWeOjF2Uc4R5c5Z+jEmMe7KEc4mEeYJ4dmyBe0mcgXiPbqJ7eYB7fmGGiYSJjICGlF1reZ2PnElzbpqJfH6Hc39oe4WEc5eJhK6EhqyJc3qBgZB8c09+hEmEaHKDhFGJc5SGiXWMUpaEa89zc6OMnCyMiXtrho+Be5qMc7KEjJ57dmN+hKGPjICGbmiEe7prdod+hGCDdnmchBx7eX6MkXZ2hGGEa657hm98jFFjY5JreYOJgY2EjHZ2a295Y3FajJ6Mc1J+YzB7e4WBjF2Uc4R5eV12gYxzg1qBeId+c9OUc5pzjFFjgY5+hFiMlIaPhoR5lIpjjIKBlNdSe7KEeX2BfrGMhIqGc65zjE2UhK6EklZ+QmWEeziMWqZza3VzdnR4foh+gYF8n3iJiZhrnKp7gYF8eId+lJ6Me1lrcIuGjKJjhmN8c66MjFF7a6prjJ6UnJ5zezyUfruRWlF7nI5zfHyGe657h4SEe8tjhBx7jFFjc09+c39ojICMeZeJeXt+YzRzjHZ2c0WEcIeBeXZ5onSXkVR+gYJ+eYFwdldzgYF7eX2BjJ6UiXuXlE1jh4SEe1mchLJjc4Z+hqZ7eXZ5bm1zlL6Ue5p7iWeGhKqUY5pzjKJjcIeBe8t7gXyBYIRdlEp4a3mGnK6EfmmMZpqEfFl5gYxzjKZuhGFjhoKGhHx2fnx2eXuMe3aBiWeGvbKMe6KGa5hzYzB7gZOBlGV7hmN8hqZlYot2Y117a6pzc6KEfId8foB5rctrfneJfJ6PcHN2hFiMc5pzjH92c0VzgY2EcElzdmCBlFVzg1GBc65zY4OBboeBcHiBeYJ4ewxzfHx5lIRzlEmEnLKEbk1zfJ6PhmN8eYBljBiEnMOEiXxwezyUcIeBe76EdsKEeX2BdnR4jGWUrXWMjGd7fkl+j4WRlEGMa5Jzho+BhDyEfnqMeXt+g3aHlE1jczClhNN7ZW18eHx8hGFjZW18iXWMjKJjhH57gYuMcIuGWjyMe4ZtjJuExmmMj4WRdntzi4GDhFFzYIRdnGGcjJp7Y0F7e4WEkbCGiX57fnSHa657a6prhBCMe3Z+SmmMjH92eHJ2hK6EY1FzexhrvbKMnI5za4OEfnd+eXuMhImBe897hLaMjN+EfG+BeIOBhF1+eZeJi4GDkXZ2eXKEgZ6Ejpd4c2GHa1V5e5KUfqZuhCx7jKp7lLZrg11+hHx2hFWUoot2nI5zgbh5mo9zvZaUe3qRbqKMfqZ2kbCGhFiM\";export{e as noiseData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/glsl.js\";import{Texture2DBindUniform as s}from\"../../shaderModules/Texture2DBindUniform.js\";import{blurSizePixels as r}from\"../../../effects/ssao/SSAO.js\";function t(t,o){o.receiveAmbientOcclusion?(t.uniforms.add(new s(\"ssaoTex\",e=>e.ssao?.getTexture())),t.constants.add(\"blurSizePixelsInverse\",\"float\",1/r),t.code.add(e`float evaluateAmbientOcclusionInverse() {\nvec2 ssaoTextureSizeInverse = 1.0 / vec2(textureSize(ssaoTex, 0));\nreturn texture(ssaoTex, gl_FragCoord.xy * blurSizePixelsInverse * ssaoTextureSizeInverse).r;\n}\nfloat evaluateAmbientOcclusion() {\nreturn 1.0 - evaluateAmbientOcclusionInverse();\n}`)):t.code.add(e`float evaluateAmbientOcclusionInverse() { return 1.0; }\nfloat evaluateAmbientOcclusion() { return 0.0; }`)}export{t as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../core/shaderModules/glsl.js\";function a(a){a.code.add(e`float mapChannel(float x, vec2 p) {\nreturn (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n}`),a.code.add(e`vec3 blackLevelSoftCompression(vec3 color, float averageAmbientRadiance) {\nvec2 p = vec2(0.02, 0.0075) * averageAmbientRadiance;\nreturn vec3(mapChannel(color.x, p), mapChannel(color.y, p), mapChannel(color.z, p));\n}`)}export{a as BlackLevelLightSoftCompression};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{colorGamma as i}from\"../../../../../../colorUtils.js\";import\"../../../../../../core/has.js\";import{EvaluateAmbientLighting as n}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateAmbientOcclusion as o}from\"./EvaluateAmbientOcclusion.glsl.js\";import{addMainLightDirection as e,addMainLightIntensity as t,applyShading as a}from\"./MainLighting.glsl.js\";import{PhysicallyBasedRendering as r}from\"./PhysicallyBasedRendering.glsl.js\";import{PiUtils as l}from\"./PiUtils.glsl.js\";import{BooleanBindUniform as c}from\"../../shaderModules/BooleanBindUniform.js\";import{FloatBindUniform as d}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as s,If as m}from\"../../shaderModules/glsl.js\";import{ambientBoost as g}from\"../../../lighting/SceneLighting.js\";import{BlackLevelLightSoftCompression as h}from\"../../../shaders/BlackLevelLightSoftCompression.glsl.js\";import{ToneMapping as u}from\"../../../shaders/ToneMapping.glsl.js\";function p(i){i.constants.add(\"ambientBoostFactor\",\"float\",g)}function v(i){i.uniforms.add(new d(\"lightingGlobalFactor\",i=>i.lighting.globalFactor))}function f(g,f){const L=g.fragment,{pbrMode:b,spherical:C,hasColorTexture:N}=f;L.include(o,f),0!==b&&L.include(r,f),g.include(n,f),L.include(l),L.include(u,f);const R=!(2===b&&!N);switch(R&&L.include(h),L.code.add(s`\n    const float GAMMA_SRGB = ${s.float(i)};\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${m(0!==b,\"const float GROUND_REFLECTANCE = 0.2;\")}\n  `),p(L),v(L),e(L),L.code.add(s`\n    float additionalDirectedAmbientLight(vec3 vPosWorld) {\n      float vndl = dot(${C?s`normalize(vPosWorld)`:s`vec3(0.0, 0.0, 1.0)`}, mainLightDirection);\n      return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n    }\n  `),t(L),L.code.add(s`vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\nfloat additionalAmbientScale = additionalDirectedAmbientLight(vPosWorld);\nreturn (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * mainLightIntensity;\n}`),b){case 0:case 4:case 3:g.include(a),L.code.add(s`vec3 evaluateSceneLighting(vec3 normalWorld, vec3 albedo, float shadow, float ssao, vec3 additionalLight) {\nvec3 mainLighting = applyShading(normalWorld, shadow);\nvec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ssao);\nvec3 albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\nvec3 totalLight = mainLighting + ambientLighting + additionalLight;\ntotalLight = min(totalLight, vec3(PI));\nvec3 outColor = vec3((albedoLinear / PI) * totalLight);\nreturn pow(outColor, vec3(INV_GAMMA_SRGB));\n}`);break;case 1:case 2:L.code.add(s`const float fillLightIntensity = 0.25;\nconst float horizonLightDiffusion = 0.4;\nconst float additionalAmbientIrradianceFactor = 0.02;\nvec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight,\nvec3 viewDir, vec3 groundNormal, vec3 mrr, float additionalAmbientIrradiance) {\nvec3 viewDirection = -viewDir;\nvec3 h = normalize(viewDirection + mainLightDirection);\nPBRShadingInfo inputs;\ninputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\ninputs.NdotNG = clamp(dot(normal, groundNormal), -1.0, 1.0);\nvec3 reflectedView = normalize(reflect(viewDirection, normal));\ninputs.RdotNG = clamp(dot(reflectedView, groundNormal), -1.0, 1.0);\ninputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\ninputs.ssao = ssao;\ninputs.metalness = mrr[0];\ninputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);`),L.code.add(s`inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\ninputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0));\ninputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);`),f.useFillLights?L.uniforms.add(new c(\"hasFillLights\",i=>i.enableFillLights)):L.constants.add(\"hasFillLights\",\"bool\",!1),L.code.add(s`vec3 ambientDir = vec3(5.0 * groundNormal[1] - groundNormal[0] * groundNormal[2], - 5.0 * groundNormal[0] - groundNormal[2] * groundNormal[1], groundNormal[1] * groundNormal[1] + groundNormal[0] * groundNormal[0]);\nambientDir = ambientDir != vec3(0.0) ? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\ninputs.NdotAmbDir = hasFillLights ? abs(dot(normal, ambientDir)) : 1.0;\nfloat NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\nvec3 mainLightIrradianceComponent = NdotL * (1.0 - shadow) * mainLightIntensity;\nvec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * mainLightIntensity * fillLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\ninputs.skyIrradianceToSurface = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\ninputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;`),L.uniforms.add(new d(\"lightingSpecularStrength\",i=>i.lighting.mainLight.specularStrength),new d(\"lightingEnvironmentStrength\",i=>i.lighting.mainLight.environmentStrength)).code.add(s`vec3 horizonRingDir = inputs.RdotNG * groundNormal - reflectedView;\nvec3 horizonRingH = normalize(viewDirection + horizonRingDir);\ninputs.NdotH_Horizon = dot(normal, horizonRingH);\nfloat NdotH = clamp(dot(normal, h), 0.0, 1.0);\nvec3 mainLightRadianceComponent = lightingSpecularStrength * normalDistribution(NdotH, inputs.roughness) * mainLightIntensity * (1.0 - shadow);\nvec3 horizonLightRadianceComponent = lightingEnvironmentStrength * normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * mainLightIntensity * fillLightIntensity;\nvec3 ambientLightRadianceComponent = lightingEnvironmentStrength * calculateAmbientRadiance(ssao) + additionalLight;\nfloat normalDirectionModifier = mix(1., min(mix(0.1, 2.0, (inputs.NdotNG + 1.) * 0.5), 1.0), clamp(inputs.roughness * 5.0, 0.0 , 1.0));\ninputs.skyRadianceToSurface = (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;\ninputs.groundRadianceToSurface = 0.5 * GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) * normalDirectionModifier + mainLightRadianceComponent;\ninputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE);`),L.code.add(s`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent;\n        ${R?s`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`:s`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `);break;case 5:case 6:e(L),t(L),L.code.add(s`const float roughnessTerrain = 0.5;\nconst float specularityTerrain = 0.5;\nconst vec3 fresnelReflectionTerrain = vec3(0.04);\nvec3 evaluatePBRSimplifiedLighting(vec3 n, vec3 c, float shadow, float ssao, vec3 al, vec3 vd, vec3 nup) {\nvec3 viewDirection = -vd;\nvec3 h = normalize(viewDirection + mainLightDirection);\nfloat NdotL = clamp(dot(n, mainLightDirection), 0.001, 1.0);\nfloat NdotV = clamp(abs(dot(n, viewDirection)), 0.001, 1.0);\nfloat NdotH = clamp(dot(n, h), 0.0, 1.0);\nfloat NdotNG = clamp(dot(n, nup), -1.0, 1.0);\nvec3 albedoLinear = pow(c, vec3(GAMMA_SRGB));\nfloat lightness = 0.3 * albedoLinear[0] + 0.5 * albedoLinear[1] + 0.2 * albedoLinear[2];\nvec3 f0 = (0.85 * lightness + 0.15) * fresnelReflectionTerrain;\nvec3 f90 =  vec3(clamp(dot(f0, vec3(50.0 * 0.33)), 0.0, 1.0));\nvec3 mainLightIrradianceComponent = (1. - shadow) * NdotL * mainLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(n, ssao) + al;\nvec3 ambientSky = ambientLightIrradianceComponent + mainLightIrradianceComponent;\nvec3 indirectDiffuse = ((1.0 - NdotNG) * mainLightIrradianceComponent + (1.0 + NdotNG ) * ambientSky) * 0.5;\nvec3 outDiffColor = albedoLinear * (1.0 - f0) * indirectDiffuse / PI;\nvec3 mainLightRadianceComponent = normalDistribution(NdotH, roughnessTerrain) * mainLightIntensity;\nvec2 dfg = prefilteredDFGAnalytical(roughnessTerrain, NdotV);\nvec3 specularColor = f0 * dfg.x + f90 * dfg.y;\nvec3 specularComponent = specularityTerrain * specularColor * mainLightRadianceComponent;\nvec3 outColorLinear = outDiffColor + specularComponent;\nvec3 outColor = pow(outColorLinear, vec3(INV_GAMMA_SRGB));\nreturn outColor;\n}`)}}export{f as EvaluateSceneLighting,p as addAmbientBoostFactor,v as addLightingGlobalFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Float3BindUniform as i}from\"../../shaderModules/Float3BindUniform.js\";import{glsl as n}from\"../../shaderModules/glsl.js\";function t(n){n.uniforms.add(new i(\"mainLightDirection\",i=>i.lighting.mainLight.direction))}function a(n){n.uniforms.add(new i(\"mainLightIntensity\",i=>i.lighting.mainLight.intensity))}function o(i){t(i.fragment),a(i.fragment),i.fragment.code.add(n`vec3 applyShading(vec3 shadingNormal, float shadow) {\nfloat dotVal = clamp(dot(shadingNormal, mainLightDirection), 0.0, 1.0);\nreturn mainLightIntensity * ((1.0 - shadow) * dotVal);\n}`)}export{t as addMainLightDirection,a as addMainLightIntensity,o as applyShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function e(e,o){const m=e.fragment;switch(m.code.add(r`struct ShadingNormalParameters {\nvec3 normalView;\nvec3 viewDirection;\n} shadingParams;`),o.doubleSidedMode){case 0:m.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn normalize(params.normalView);\n}`);break;case 1:m.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n}`);break;case 2:m.code.add(r`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n}`);break;default:a(o.doubleSidedMode);case 3:}}export{e as Normals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/glsl.js\";function t(t){t.code.add(e`vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG) {\nreturn ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n}`),t.code.add(e`float integratedRadiance(float cosTheta2, float roughness) {\nreturn (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n}`),t.code.add(e`vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness) {\nfloat cosTheta2 = 1.0 - RdotNG * RdotNG;\nfloat intRadTheta = integratedRadiance(cosTheta2, roughness);\nfloat ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\nfloat sky = 2.0 - ground;\nreturn (ground * ambientGround + sky * ambientSky) * 0.5;\n}`)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{AnalyticalSkyModel as e}from\"./AnalyticalSkyModel.glsl.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";function n(n,a){n.include(o),1!==a.pbrMode&&2!==a.pbrMode&&5!==a.pbrMode&&6!==a.pbrMode||(n.code.add(t`float normalDistribution(float NdotH, float roughness)\n{\nfloat a = NdotH * roughness;\nfloat b = roughness / (1.0 - NdotH * NdotH + a * a);\nreturn b * b * INV_PI;\n}`),n.code.add(t`const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\nconst vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\nconst vec2 c2 = vec2(-1.04, 1.04);\nvec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\nreturn c2 * a004 + r.zw;\n}`)),1!==a.pbrMode&&2!==a.pbrMode||(n.include(e),n.code.add(t`struct PBRShadingInfo\n{\nfloat NdotV;\nfloat LdotH;\nfloat NdotNG;\nfloat RdotNG;\nfloat NdotAmbDir;\nfloat NdotH_Horizon;\nvec3 skyRadianceToSurface;\nvec3 groundRadianceToSurface;\nvec3 skyIrradianceToSurface;\nvec3 groundIrradianceToSurface;\nfloat averageAmbientRadiance;\nfloat ssao;\nvec3 albedoLinear;\nvec3 f0;\nvec3 f90;\nvec3 diffuseColor;\nfloat metalness;\nfloat roughness;\n};`),n.code.add(t`vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\nvec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\nvec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\nvec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\nvec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\nvec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\nvec3 specularComponent = specularColor * indirectSpecular;\nreturn (diffuseComponent + specularComponent);\n}`))}function a(e,n){e.include(o),e.code.add(t`\n  struct PBRShadingWater {\n      float NdotL;   // cos angle between normal and light direction\n      float NdotV;   // cos angle between normal and view direction\n      float NdotH;   // cos angle between normal and half vector\n      float VdotH;   // cos angle between view direction and half vector\n      float LdotH;   // cos angle between light direction and half vector\n      float VdotN;   // cos angle between view direction and normal vector\n  };\n\n  float dtrExponent = ${n.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n  `),e.code.add(t`vec3 fresnelReflection(float angle, vec3 f0, float f90) {\nreturn f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n}`),e.code.add(t`float normalDistributionWater(float NdotH, float roughness) {\nfloat r2 = roughness * roughness;\nfloat NdotH2 = NdotH * NdotH;\nfloat denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\nreturn r2 / denom;\n}`),e.code.add(t`float geometricOcclusionKelemen(float LoH) {\nreturn 0.25 / (LoH * LoH);\n}`),e.code.add(t`vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max) {\nvec3  F = fresnelReflection(props.VdotH, F0, F0Max);\nfloat dSun = normalDistributionWater(props.NdotH, roughness);\nfloat V = geometricOcclusionKelemen(props.LdotH);\nfloat diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\nfloat strengthSunHaze  = 1.2;\nfloat dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze) * strengthSunHaze;\nreturn ((dSun + dSunHaze) * V) * F;\n}`)}export{n as PhysicallyBasedRendering,a as PhysicallyBasedRenderingWater};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{VertexTextureCoordinates as e}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{Float3DrawUniform as o}from\"../../shaderModules/Float3DrawUniform.js\";import{Float3PassUniform as r}from\"../../shaderModules/Float3PassUniform.js\";import{glsl as s,If as t}from\"../../shaderModules/glsl.js\";import{Texture2DDrawUniform as c}from\"../../shaderModules/Texture2DDrawUniform.js\";import{Texture2DPassUniform as l}from\"../../shaderModules/Texture2DPassUniform.js\";import{schematicMRRFactors as u}from\"../../../materials/pbrUtils.js\";import{NoParameters as a}from\"../../../../../webgl/NoParameters.js\";class i extends a{constructor(e,o){super(),this.textureOcclusion=e,this.textureMetallicRoughness=o,this.mrrFactors=u}}function n(u,a){const i=a.pbrMode,n=u.fragment;if(2!==i&&0!==i&&1!==i)return void n.code.add(s`void applyPBRFactors() {}`);if(0===i)return void n.code.add(s`void applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);if(2===i)return void n.code.add(s`vec3 mrr = vec3(0.0, 0.6, 0.2);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`);const{hasMetallicRoughnessTexture:d,hasMetallicRoughnessTextureTransform:m,hasOcclusionTexture:p,hasOcclusionTextureTransform:f,bindType:h}=a;(d||p)&&u.include(e,a),n.code.add(s`vec3 mrr;\nfloat occlusion;`),d&&n.uniforms.add(1===h?new l(\"texMetallicRoughness\",e=>e.textureMetallicRoughness):new c(\"texMetallicRoughness\",e=>e.textureMetallicRoughness)),p&&n.uniforms.add(1===h?new l(\"texOcclusion\",e=>e.textureOcclusion):new c(\"texOcclusion\",e=>e.textureOcclusion)),n.uniforms.add(1===h?new r(\"mrrFactors\",e=>e.mrrFactors):new o(\"mrrFactors\",e=>e.mrrFactors)),n.code.add(s`\n    ${t(d,s`void applyMetallicRoughness(vec2 uv) {\n            vec3 metallicRoughness = textureLookup(texMetallicRoughness, uv).rgb;\n            mrr[0] *= metallicRoughness.b;\n            mrr[1] *= metallicRoughness.g;\n          }`)}\n\n    ${t(p,\"void applyOcclusion(vec2 uv) { occlusion *= textureLookup(texOcclusion, uv).r; }\")}\n\n    float getBakedOcclusion() {\n      return ${p?\"occlusion\":\"1.0\"};\n    }\n\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      occlusion = 1.0;\n\n      ${t(d,`applyMetallicRoughness(${m?\"metallicRoughnessUV\":\"vuv0\"});`)}\n      ${t(p,`applyOcclusion(${f?\"occlusionUV\":\"vuv0\"});`)}\n    }\n  `)}export{i as PBRRenderingParameters,n as PhysicallyBasedRenderingParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as o}from\"./ForwardLinearDepth.glsl.js\";import{isColorOrColorEmission as r}from\"./ShaderOutput.js\";import{If as e,glsl as t}from\"../shaderModules/glsl.js\";function a(a,d){const i=r(d.output)&&d.receiveShadows;i&&o(a,!0),a.vertex.code.add(t`\n    void forwardLinearDepthToReadShadowMap() { ${e(i,\"forwardLinearDepth(gl_Position.w);\")} }\n  `)}export{a as ForwardLinearDepthToReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class s extends r{constructor(r,s,t,e){super(r,\"mat4\",2,(t,o,m,c)=>t.setUniformMatrices4fv(r,s(o,m,c),e),t)}}export{s as Matrix4sDrawUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class s extends r{constructor(r,s,t,e){super(r,\"mat4\",1,(t,o,m)=>t.setUniformMatrices4fv(r,s(o,m),e),t)}}export{s as Matrix4sPassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Float4BindUniform as e}from\"../../shaderModules/Float4BindUniform.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";import{IntegerBindUniform as s}from\"../../shaderModules/IntegerBindUniform.js\";import{Matrix4sDrawUniform as i}from\"../../shaderModules/Matrix4sDrawUniform.js\";import{Matrix4sPassUniform as t}from\"../../shaderModules/Matrix4sPassUniform.js\";import{NoParameters as r}from\"../../../../../webgl/NoParameters.js\";class d extends r{constructor(){super(...arguments),this.origin=a()}}function c(a){a.fragment.uniforms.add(new t(\"shadowMapMatrix\",(a,e)=>e.shadowMap.getShadowMapMatrices(a.origin),4)),l(a)}function n(a){a.fragment.uniforms.add(new i(\"shadowMapMatrix\",(a,e)=>e.shadowMap.getShadowMapMatrices(a.origin),4)),l(a)}function l(a){const{fragment:i}=a;i.uniforms.add(new e(\"cascadeDistances\",a=>a.shadowMap.cascadeDistances),new s(\"numCascades\",a=>a.shadowMap.numCascades)),i.code.add(o`const vec3 invalidShadowmapUVZ = vec3(0.0, 0.0, -1.0);\nvec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\nvec4 lv = mat * vec4(_vpos, 1.0);\nlv.xy /= lv.w;\nreturn 0.5 * lv.xyz + vec3(0.5);\n}\nvec2 cascadeCoordinates(int i, ivec2 textureSize, vec3 lvpos) {\nfloat xScale = float(textureSize.y) / float(textureSize.x);\nreturn vec2((float(i) + lvpos.x) * xScale, lvpos.y);\n}\nvec3 calculateUVZShadow(in vec3 _worldPos, in float _linearDepth, in ivec2 shadowMapSize) {\nint i = _linearDepth < cascadeDistances[1] ? 0 : _linearDepth < cascadeDistances[2] ? 1 : _linearDepth < cascadeDistances[3] ? 2 : 3;\nif (i >= numCascades) {\nreturn invalidShadowmapUVZ;\n}\nmat4 shadowMatrix = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];\nvec3 lvpos = lightSpacePosition(_worldPos, shadowMatrix);\nif (lvpos.z >= 1.0 || lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) {\nreturn invalidShadowmapUVZ;\n}\nvec2 uvShadow = cascadeCoordinates(i, shadowMapSize, lvpos);\nreturn vec3(uvShadow, lvpos.z);\n}`)}export{d as ReadShadowMapOrigin,n as calculateUVZShadowDraw,c as calculateUVZShadowPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReadShadowMapOrigin as a}from\"./calculateUVZShadow.glsl.js\";import{glsl as o}from\"../../shaderModules/glsl.js\";class d extends a{}function e(a){a.fragment.code.add(o`float readShadowMapUVZ(vec3 uvzShadow, sampler2DShadow _shadowMap) {\nreturn texture(_shadowMap, uvzShadow);\n}`)}export{d as ReadShadowMapDrawParameters,e as ShadowmapFiltering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Uniform as r}from\"../../../../webgl/Uniform.js\";class e extends r{constructor(r,e){super(r,\"sampler2DShadow\",0,(o,s)=>o.bindTexture(r,e(s)))}}export{e as Texture2DShadowBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{create as a}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ForwardLinearDepthToReadShadowMap as o}from\"../ForwardLinearDepthToReadShadowMap.glsl.js\";import{calculateUVZShadowPass as e,calculateUVZShadowDraw as r,ReadShadowMapOrigin as t}from\"./calculateUVZShadow.glsl.js\";import{ShadowmapFiltering as d}from\"./ShadowmapFiltering.glsl.js\";import{FloatBindUniform as i}from\"../../shaderModules/FloatBindUniform.js\";import{If as l,glsl as n}from\"../../shaderModules/glsl.js\";import{Texture2DShadowBindUniform as s}from\"../../shaderModules/Texture2DShadowBindUniform.js\";import{NoParameters as c}from\"../../../../../webgl/NoParameters.js\";class h extends t{}class m extends c{constructor(){super(...arguments),this.origin=a()}}function p(a,o){o.receiveShadows&&a.include(e),u(a,o)}function f(a,o){o.receiveShadows&&a.include(r),u(a,o)}function u(a,e){a.fragment.uniforms.add(new i(\"lightingGlobalFactor\",a=>a.lighting.globalFactor));const{receiveShadows:r,spherical:t}=e;a.include(o,e),r&&w(a),a.fragment.code.add(n`\n    float readShadow(float additionalAmbientScale, vec3 vpos) {\n      return ${r?\"max(lightingGlobalFactor * (1.0 - additionalAmbientScale), readShadowMap(vpos, linearDepth))\":l(t,\"lightingGlobalFactor * (1.0 - additionalAmbientScale)\",\"0.0\")};\n    }\n  `)}function w(a){a.include(d),a.fragment.uniforms.add(new s(\"shadowMap\",({shadowMap:a})=>a.depthTexture)).code.add(n`float readShadowMap(const in vec3 _worldPos, float _linearDepth) {\nvec3 uvzShadow = calculateUVZShadow(_worldPos, _linearDepth, textureSize(shadowMap,0));\nif (uvzShadow.z < 0.0) {\nreturn 0.0;\n}\nreturn readShadowMapUVZ(uvzShadow, shadowMap);\n}`)}export{f as ReadShadowMapDraw,h as ReadShadowMapDrawParameters,p as ReadShadowMapPass,m as ReadShadowMapPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst e=3e5,o=5e5;export{o as distanceFadeEnd,e as distanceFadeStart};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{IDENTITY as r}from\"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{glsl as e}from\"../../shaderModules/glsl.js\";import{Matrix3PassUniform as o}from\"../../shaderModules/Matrix3PassUniform.js\";function a(a,s){s.hasColorTextureTransform?(a.varyings.add(\"colorUV\",\"vec2\"),a.vertex.uniforms.add(new o(\"colorTextureTransformMatrix\",e=>e.colorTextureTransformMatrix??r)).code.add(e`void forwardColorUV(){\ncolorUV = (colorTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):a.vertex.code.add(e`void forwardColorUV(){}`)}function s(a,s){s.hasNormalTextureTransform&&0!==s.textureCoordinateType?(a.varyings.add(\"normalUV\",\"vec2\"),a.vertex.uniforms.add(new o(\"normalTextureTransformMatrix\",e=>e.normalTextureTransformMatrix??r)).code.add(e`void forwardNormalUV(){\nnormalUV = (normalTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):a.vertex.code.add(e`void forwardNormalUV(){}`)}function i(a,s){s.hasEmissionTextureTransform&&0!==s.textureCoordinateType?(a.varyings.add(\"emissiveUV\",\"vec2\"),a.vertex.uniforms.add(new o(\"emissiveTextureTransformMatrix\",e=>e.emissiveTextureTransformMatrix??r)).code.add(e`void forwardEmissiveUV(){\nemissiveUV = (emissiveTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):a.vertex.code.add(e`void forwardEmissiveUV(){}`)}function d(a,s){s.hasOcclusionTextureTransform&&0!==s.textureCoordinateType?(a.varyings.add(\"occlusionUV\",\"vec2\"),a.vertex.uniforms.add(new o(\"occlusionTextureTransformMatrix\",e=>e.occlusionTextureTransformMatrix??r)).code.add(e`void forwardOcclusionUV(){\nocclusionUV = (occlusionTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):a.vertex.code.add(e`void forwardOcclusionUV(){}`)}function t(a,s){s.hasMetallicRoughnessTextureTransform&&0!==s.textureCoordinateType?(a.varyings.add(\"metallicRoughnessUV\",\"vec2\"),a.vertex.uniforms.add(new o(\"metallicRoughnessTextureTransformMatrix\",e=>e.metallicRoughnessTextureTransformMatrix??r)).code.add(e`void forwardMetallicRoughnessUV(){\nmetallicRoughnessUV = (metallicRoughnessTextureTransformMatrix * vec3(vuv0, 1.0)).xy;\n}`)):a.vertex.code.add(e`void forwardMetallicRoughnessUV(){}`)}export{a as colorTextureUV,i as emissiveTextureUV,t as metallicRoughnessTextureUV,s as normalTextureUV,d as occlusionTextureUV};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FloatDrawUniform as o}from\"../../shaderModules/FloatDrawUniform.js\";import{FloatPassUniform as t}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as r,If as e}from\"../../shaderModules/glsl.js\";import{alphaCutoff as a}from\"../../../../../../webscene/support/AlphaCutoff.js\";function f(o,r){l(o,r,new t(\"textureAlphaCutoff\",o=>o.textureAlphaCutoff))}function s(t,r){l(t,r,new o(\"textureAlphaCutoff\",o=>o.textureAlphaCutoff))}function l(o,t,f){const s=o.fragment,l=t.alphaDiscardMode,u=0===l;2!==l&&3!==l||s.uniforms.add(f),s.code.add(r`\n    void discardOrAdjustAlpha(inout vec4 color) {\n      ${1===l?\"color.a = 1.0;\":`if (color.a < ${u?r.float(a):\"textureAlphaCutoff\"}) {\\n              discard;\\n             } ${e(2===l,\"else { color.a = 1.0; }\")}`}\n    }\n  `)}export{s as DiscardOrAdjustAlphaDraw,f as DiscardOrAdjustAlphaPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ColorConversion as e}from\"./ColorConversion.glsl.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";function i(i){i.include(e),i.code.add(t`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in macOS using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${t.int(1)}) {\n        return allMixed;\n      }\n      if (mode == ${t.int(2)}) {\n        return internalMixed;\n      }\n      if (mode == ${t.int(3)}) {\n        return externalColor;\n      }\n\n      // tint (or something invalid)\n      float vIn = rgb2v(internalMixed);\n      vec3 hsvTint = rgb2hsv(externalColor);\n      vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n      return hsv2rgb(hsvOut);\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in macOS using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${t.int(2)}) {\n        return internalMixed;\n      }\n      if (mode == ${t.int(3)}) {\n        return externalOpacity;\n      }\n\n      // multiply or tint (or something invalid)\n      return allMixed;\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{FloatBindUniform as o}from\"../../core/shaderModules/FloatBindUniform.js\";import{glsl as r}from\"../../core/shaderModules/glsl.js\";function e(e,n){n.snowCover&&(e.uniforms.add(new o(\"snowCover\",o=>o.snowCover)).code.add(r`float getSnow(vec3 normal, vec3 groundNormal) {\nreturn smoothstep(0.5, 0.55, dot(normal, groundNormal)) * snowCover;\n}\nfloat getRealisticTreeSnow(vec3 faceNormal, vec3 shadingNormal, vec3 groundNormal) {\nfloat snow = min(1.0, smoothstep(0.5, 0.55, dot(faceNormal, groundNormal)) +\nsmoothstep(0.5, 0.55, dot(-faceNormal, groundNormal)) +\nsmoothstep(0.0, 0.1, dot(shadingNormal, groundNormal)));\nreturn snow * snowCover;\n}`),e.code.add(r`vec3 applySnowToMRR(vec3 mrr, float snow) {\nreturn mix(mrr, vec3(0.0, 1.0, 0.04), snow);\n}`))}export{e as SnowCover};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import{EventEmitter as i}from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as n,transpose as l}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as g}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewVec4f as d,BufferViewVec4u8 as p,BufferViewUint8 as u}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as _}from\"../../../support/mathUtils.js\";import{newLayout as v}from\"../../../support/buffer/InterleavedLayout.js\";import{olidEnabled as b}from\"../../effects/geometry/olidUtils.js\";import{assert as M}from\"../Util.js\";class T{constructor(t){this.localTransform=t.localTransform,this.globalTransform=t.globalTransform,this.modelOrigin=t.modelOrigin,this.model=t.instanceModel,this.modelNormal=t.instanceModelNormal,this.modelScaleFactors=t.modelScaleFactors,this.boundingSphere=t.boundingSphere,this.featureAttribute=t.getField(\"instanceFeatureAttribute\",d),this.color=t.getField(\"instanceColor\",p),this.olidColor=t.getField(\"instanceOlidColor\",p),this.state=t.getField(\"state\",u),this.lodLevel=t.getField(\"lodLevel\",u)}}let F=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._highlightOptionsMap=new Map,this._highlightOptionsMapPrev=new Map,this._layout=S(e),this._capacity=A,this._buffer=this._layout.createBuffer(this._capacity),this._view=new T(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,1),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&!!(1&e.get(t)),\"invalid instance handle\"),this._getStateFlag(t,18)?this._setStateFlags(t,32):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&!!(1&e.get(t)),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=j,i=x;e.localTransform.getMat(t,C),e.globalTransform.getMat(t,L);const a=c(L,L,C);m(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=_(j,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),n(i,i),l(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,64),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,x),s.modelOrigin.getVec(t,j),e[0]=x[0],e[1]=x[1],e[2]=x[2],e[3]=0,e[4]=x[3],e[5]=x[4],e[6]=x[5],e[7]=0,e[8]=x[6],e[9]=x[7],e[10]=x[8],e[11]=0,e[12]=j[0],e[13]=j[1],e[14]=j[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(j,this,t),e*=Math.max(j[0],j[1],j[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(j,this,t),e*=w(j[0],j[1],j[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute?.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute?.getVec(t,e)}setColor(t,e){this._view.color?.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.olidColor?.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,4,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,4)}setHighlight(t,e){const{_highlightOptionsMap:s}=this,i=s.get(t);e?e!==i&&(s.set(t,e),this._setStateFlag(t,8,!0),this.events.emit(\"instance-highlight-changed\")):i&&(s.delete(t),this._setStateFlag(t,8,!1),this.events.emit(\"instance-highlight-changed\"))}get highlightOptionsMap(){return this._highlightOptionsMap}getHighlightStateFlag(t){return this._getStateFlag(t,8)}geHighlightOptionsPrev(t){const e=this._highlightOptionsMapPrev.get(t)??null;return this._highlightOptionsMapPrev.delete(t),e}getHighlightName(t){const e=this.highlightOptionsMap.get(t)??null;return e?this._highlightOptionsMapPrev.set(t,e):this._highlightOptionsMapPrev.delete(t),e}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(A,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new T(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;1&t.get(e);)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],F.prototype,\"shaderTransformation\",void 0),t([a()],F.prototype,\"_size\",void 0),t([a({readOnly:!0})],F.prototype,\"size\",null),F=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],F);const y=v().mat4f64(\"localTransform\").mat4f64(\"globalTransform\").vec4f64(\"boundingSphere\").vec3f64(\"modelOrigin\").mat3f(\"instanceModel\").mat3f(\"instanceModelNormal\").vec2f(\"modelScaleFactors\");function S(t){return O(y.clone(),t).u8(\"state\").u8(\"lodLevel\")}function O(t,e){return e.instancedFeatureAttribute&&t.vec4f(\"instanceFeatureAttribute\"),e.instancedColor&&t.vec4u8(\"instanceColor\"),b()&&t.vec4u8(\"instanceOlidColor\"),t}const j=f(),x=h(),C=g(),L=g(),A=64;export{F as InstanceData,T as InstanceDataView,O as addOptionalLayoutFields,A as initialCapacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glLayout as e}from\"../../../support/buffer/glUtil.js\";import{VertexBuffer as t}from\"../../../../webgl/VertexBuffer.js\";class r{constructor(r,i,s){this.elementSize=i.stride,this._buffer=new t(r,e(i,1)),this.resize(s)}destroy(){this._buffer.dispose()}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this.elementSize,i=t*this.elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this.elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this.elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as BackedBufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec4f as s,BufferViewVec4u8 as a}from\"../../../../../geometry/support/buffer/BufferView.js\";import{newLayout as n}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as r}from\"../Util.js\";import{BackedBufferObject as h}from\"./BackedBufferObject.js\";import{addOptionalLayoutFields as d,initialCapacity as _}from\"./InstanceData.js\";class c{constructor(t){this.model=t.instanceModel,this.modelNormal=t.instanceModelNormal,this.modelOriginHi=t.instanceModelOriginHi,this.modelOriginLo=t.instanceModelOriginLo,this.featureAttribute=t.getField(\"instanceFeatureAttribute\",s),this.color=t.getField(\"instanceColor\",a),this.olidColor=t.getField(\"instanceOlidColor\",a)}}class o{constructor(t,i){this._rctx=t,this._layout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){r(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){r(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){r(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),r(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){r(this._updating,\"not updating\"),r(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(_,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(_,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(r(this._updating,\"not updating\"),t===this._capacity)return;const i=new h(this._rctx,this._layout,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);r(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._layout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const f=n().vec3f(\"instanceModelOriginHi\").vec3f(\"instanceModelOriginLo\").mat3f(\"instanceModel\").mat3f(\"instanceModelNormal\");function u(t){return d(f.clone(),t)}export{o as RenderInstanceData,c as RenderInstanceDataView,u as getRenderInstanceDataLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends o{constructor(e){super(),this.spherical=e,this.alphaDiscardMode=1,this.doubleSidedMode=0,this.pbrMode=0,this.cullFace=0,this.normalType=0,this.customDepthTest=0,this.emissionSource=0,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.hasVerticalOffset=!1,this.hasColorTexture=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.hasScreenSizePerspective=!1,this.hasVertexTangents=!1,this.hasOccludees=!1,this.instanced=!1,this.instancedDoublePrecision=!1,this.hasModelTransformation=!1,this.offsetBackfaces=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.textureAlphaPremultiplied=!1,this.instancedFeatureAttribute=!1,this.instancedColor=!1,this.writeDepth=!0,this.transparent=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.snowCover=!1,this.hasColorTextureTransform=!1,this.hasEmissionTextureTransform=!1,this.hasNormalTextureTransform=!1,this.hasOcclusionTextureTransform=!1,this.hasMetallicRoughnessTextureTransform=!1,this.occlusionPass=!1,this.useCustomDTRExponentForWater=!1,this.useFillLights=!0,this.draped=!1}get textureCoordinateType(){return this.hasTextures?1:0}get hasTextures(){return this.hasColorTexture||this.hasNormalTexture||this.hasMetallicRoughnessTexture||3===this.emissionSource||this.hasOcclusionTexture}get hasVVInstancing(){return this.instanced}get discardInvisibleFragments(){return this.transparent}}e([t({count:4})],s.prototype,\"alphaDiscardMode\",void 0),e([t({count:3})],s.prototype,\"doubleSidedMode\",void 0),e([t({count:7})],s.prototype,\"pbrMode\",void 0),e([t({count:3})],s.prototype,\"cullFace\",void 0),e([t({count:3})],s.prototype,\"normalType\",void 0),e([t({count:3})],s.prototype,\"customDepthTest\",void 0),e([t({count:8})],s.prototype,\"emissionSource\",void 0),e([t()],s.prototype,\"hasVertexColors\",void 0),e([t()],s.prototype,\"hasSymbolColors\",void 0),e([t()],s.prototype,\"hasVerticalOffset\",void 0),e([t()],s.prototype,\"hasColorTexture\",void 0),e([t()],s.prototype,\"hasMetallicRoughnessTexture\",void 0),e([t()],s.prototype,\"hasOcclusionTexture\",void 0),e([t()],s.prototype,\"hasNormalTexture\",void 0),e([t()],s.prototype,\"hasScreenSizePerspective\",void 0),e([t()],s.prototype,\"hasVertexTangents\",void 0),e([t()],s.prototype,\"hasOccludees\",void 0),e([t()],s.prototype,\"instanced\",void 0),e([t()],s.prototype,\"instancedDoublePrecision\",void 0),e([t()],s.prototype,\"hasModelTransformation\",void 0),e([t()],s.prototype,\"offsetBackfaces\",void 0),e([t()],s.prototype,\"hasVVSize\",void 0),e([t()],s.prototype,\"hasVVColor\",void 0),e([t()],s.prototype,\"receiveShadows\",void 0),e([t()],s.prototype,\"receiveAmbientOcclusion\",void 0),e([t()],s.prototype,\"textureAlphaPremultiplied\",void 0),e([t()],s.prototype,\"instancedFeatureAttribute\",void 0),e([t()],s.prototype,\"instancedColor\",void 0),e([t()],s.prototype,\"writeDepth\",void 0),e([t()],s.prototype,\"transparent\",void 0),e([t()],s.prototype,\"enableOffset\",void 0),e([t()],s.prototype,\"terrainDepthTest\",void 0),e([t()],s.prototype,\"cullAboveTerrain\",void 0),e([t()],s.prototype,\"snowCover\",void 0),e([t()],s.prototype,\"hasColorTextureTransform\",void 0),e([t()],s.prototype,\"hasEmissionTextureTransform\",void 0),e([t()],s.prototype,\"hasNormalTextureTransform\",void 0),e([t()],s.prototype,\"hasOcclusionTextureTransform\",void 0),e([t()],s.prototype,\"hasMetallicRoughnessTextureTransform\",void 0);export{s as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{DefaultMaterialTechnique as r}from\"./DefaultMaterialTechnique.js\";import{R as s}from\"../../../../chunks/RealisticTree.glsl.js\";class o extends r{constructor(r,o){super(r,o,new e(s,()=>import(\"./RealisticTree.glsl.js\")))}}export{o as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{q as e,j as r,d as t,n as s,e as a,b as i,h as o,f as n,o as l}from\"../../../../chunks/vec32.js\";import{ZEROS as u,create as c,fromValues as h}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{is3DGeometryOutputMRT as m,isShadowLikeOutput as p,isColorOrColorEmission as d}from\"../core/shaderLibrary/ShaderOutput.js\";import{GLTextureMaterial as f}from\"../lib/GLTextureMaterial.js\";import{Material as T}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as x}from\"../lib/OrderIndependentTransparency.js\";import{intersectTriangleGeometry as v}from\"../lib/RayIntersections.js\";import{getVerticalOffsetObject3D as g}from\"../lib/verticalOffsetUtils.js\";import{DefaultBufferWriter as S}from\"./DefaultBufferWriter.js\";import{verticalOffsetAtDistance as b}from\"./internal/MaterialUtil.js\";import{getLayout as M,DefaultMaterialPassParameters as O,DefaultMaterialTechnique as C}from\"../shaders/DefaultMaterialTechnique.js\";import{DefaultMaterialTechniqueConfiguration as w}from\"../shaders/DefaultMaterialTechniqueConfiguration.js\";import{RealisticTreeTechnique as y}from\"../shaders/RealisticTreeTechnique.js\";import{alphaCutoff as R}from\"../../../../webscene/support/AlphaCutoff.js\";class P extends T{constructor(e,r){super(e,j),this.materialType=\"default\",this.supportsEdges=!0,this.intersectDraped=void 0,this.produces=new Map([[2,e=>(m(e)||p(e))&&!this.transparent],[4,e=>(m(e)||p(e))&&this.transparent&&this.parameters.writeDepth],[8,e=>(m(e)||p(e))&&this.transparent&&!this.parameters.writeDepth]]),this._layout=M(this.parameters),this._configuration=new w(r.spherical)}isVisibleForOutput(e){return 4!==e&&6!==e&&5!==e||this.parameters.castShadows}get visible(){const{layerOpacity:e,colorMixMode:r,opacity:t,externalColor:s}=this.parameters;return e*(\"replace\"===r?1:t)*(\"ignore\"===r||isNaN(s[3])?1:s[3])>=R}get _hasEmissiveBase(){return!!this.parameters.emissiveTextureId||!e(this.parameters.emissiveBaseColor,u)}get hasEmissions(){return this.parameters.emissiveStrength>0&&(0===this.parameters.emissiveSource&&this._hasEmissiveBase||1===this.parameters.emissiveSource)}getConfiguration(e,r){const{parameters:t,_configuration:s}=this,{treeRendering:a,doubleSided:i,doubleSidedType:o}=t;return super.getConfiguration(e,r,this._configuration),s.hasNormalTexture=t.hasNormalTexture,s.hasColorTexture=t.hasColorTexture,s.hasMetallicRoughnessTexture=t.hasMetallicRoughnessTexture,s.hasOcclusionTexture=t.hasOcclusionTexture,s.hasVertexTangents=!a&&t.hasVertexTangents,s.instanced=t.instanced,s.instancedDoublePrecision=t.instancedDoublePrecision,s.hasVVColor=!!t.vvColor,s.hasVVSize=!!t.vvSize,s.hasVerticalOffset=null!=t.verticalOffset,s.hasScreenSizePerspective=null!=t.screenSizePerspective,s.hasSlicePlane=t.hasSlicePlane,s.alphaDiscardMode=t.textureAlphaMode,s.normalType=a?0:t.normalType,s.transparent=this.transparent,s.writeDepth=t.writeDepth,s.customDepthTest=t.customDepthTest??0,s.hasOccludees=r.hasOccludees,s.cullFace=t.hasSlicePlane?0:t.cullFace,s.cullAboveTerrain=r.cullAboveTerrain,s.hasModelTransformation=!a&&null!=t.modelTransformation,s.hasVertexColors=t.hasVertexColors,s.hasSymbolColors=t.hasSymbolColors,s.doubleSidedMode=a?2:i&&\"normal\"===o?1:i&&\"winding-order\"===o?2:0,s.instancedFeatureAttribute=t.instancedFeatureAttribute,s.instancedColor=t.instancedColor,d(e)?(s.terrainDepthTest=r.terrainDepthTest,s.receiveShadows=t.receiveShadows,s.receiveAmbientOcclusion=t.receiveAmbientOcclusion&&null!=r.ssao):(s.terrainDepthTest=!1,s.receiveShadows=s.receiveAmbientOcclusion=!1),s.textureAlphaPremultiplied=!!t.textureAlphaPremultiplied,s.pbrMode=t.usePBR?t.isSchematic?2:1:0,s.emissionSource=t.emissionSource,s.offsetBackfaces=!(!this.transparent||!t.offsetTransparentBackfaces),s.oitPass=r.oitPass,s.enableOffset=r.camera.relativeElevation<x,s.snowCover=r.snowCover>0,s.hasColorTextureTransform=!!t.colorTextureTransformMatrix,s.hasNormalTextureTransform=!!t.normalTextureTransformMatrix,s.hasEmissionTextureTransform=!!t.emissiveTextureTransformMatrix,s.hasOcclusionTextureTransform=!!t.occlusionTextureTransformMatrix,s.hasMetallicRoughnessTextureTransform=!!t.metallicRoughnessTextureTransformMatrix,s}intersect(e,u,c,h,m,p){if(null!=this.parameters.verticalOffset){const e=c.camera;r(z,u[12],u[13],u[14]);let p=null;switch(c.viewingMode){case 1:p=s(_,z);break;case 2:p=t(_,B)}let d=0;const f=a(E,z,e.eye),T=i(f),x=o(f,f,1/T);let v=null;this.parameters.screenSizePerspective&&(v=n(p,x)),d+=b(e,T,this.parameters.verticalOffset,v??0,this.parameters.screenSizePerspective,null),o(p,p,d),l(N,p,c.transform.inverseRotation),h=a(I,h,N),m=a(V,m,N)}v(e,c,h,m,g(c.verticalOffset),p)}createGLMaterial(e){return new D(e)}createBufferWriter(){return new S(this._layout)}get transparent(){return A(this.parameters)}}class D extends f{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){this._material.setParameters({receiveShadows:e.shadowMap.enabled});const t=this._material.parameters;this.updateTexture(t.textureId);const s=e.camera.viewInverseTransposeMatrix;return r(t.origin,s[3],s[7],s[11]),this._material.setParameters(this.textureBindParameters),this.getTechnique(t.treeRendering?y:C,e)}}class j extends O{constructor(){super(...arguments),this.treeRendering=!1,this.hasVertexTangents=!1}get hasNormalTexture(){return!this.treeRendering&&!!this.normalTextureId}get hasColorTexture(){return!!this.textureId}get hasMetallicRoughnessTexture(){return!this.treeRendering&&!!this.metallicRoughnessTextureId}get hasOcclusionTexture(){return!this.treeRendering&&!!this.occlusionTextureId}get emissionSource(){return this.treeRendering?0:null!=this.emissiveTextureId&&0===this.emissiveSource?3:this.usePBR?0===this.emissiveSource?2:1:0}get hasTextures(){return this.hasColorTexture||this.hasNormalTexture||this.hasMetallicRoughnessTexture||3===this.emissionSource||this.hasOcclusionTexture}}function A(e){const{drivenOpacity:r,opacity:t,externalColor:s,layerOpacity:a,texture:i,textureId:o,textureAlphaMode:n,colorMixMode:l}=e,u=s[3];return r||t<1&&\"replace\"!==l||u<1&&\"ignore\"!==l||a<1||(null!=i||null!=o)&&1!==n&&2!==n&&\"replace\"!==l}const I=c(),V=c(),B=h(0,0,1),_=c(),N=c(),z=c(),E=c();export{D as DefaultGLMaterial,P as DefaultMaterial,j as DefaultMaterialParameters,A as isTransparent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{q as l}from\"../../../../chunks/vec32.js\";import{freeze as e,ZEROS as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";function n({normalTexture:e,metallicRoughnessTexture:n,metallicFactor:r,roughnessFactor:t,emissiveTexture:o,emissiveFactor:s,occlusionTexture:c}){return null==e&&null==n&&null==o&&(null==s||l(s,u))&&null==c&&(null==t||1===t)&&(null==r||1===r)}function r({normalTexture:e,metallicRoughnessTexture:n,metallicFactor:r,roughnessFactor:t,emissiveTexture:o,emissiveFactor:s,occlusionTexture:c}){return null==e&&null==n&&null==o&&(null==s||l(s,u))&&null==c&&(null==t||1===t)&&(null==r||1===r||0===r)}const t=e(1,1,.5),o=e(0,.6,.2),s=e(0,1,.2);export{t as advancedMRRFactors,s as esriSymbologyMRRFactors,o as schematicMRRFactors,n as useSchematicPBR,r as useSchematicPBRI3S};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ZEROS as e,freeze as t,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as s}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{glLayout as r}from\"../../support/buffer/glUtil.js\";import{newLayout as o}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as l}from\"../core/shaderLibrary/ShaderOutput.js\";import{VertexNormalPassParameters as n,VertexNormalDrawParameters as a}from\"../core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{ReloadableShaderModule as c}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as h,depthOnlyOutputBuffersOr as u}from\"../core/shaderTechnique/ShaderTechnique.js\";import{olidEnabled as p}from\"../effects/geometry/olidUtils.js\";import{oitPolygonOffset as m,depthWrite as d,oitDepthTest as f,blending as v,getDrawBuffers as b}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as g,stencilBaseAllZerosParams as S,stencilWriteMaskOn as y}from\"../lib/StencilUtils.js\";import{getRenderInstanceDataLayout as j}from\"../lib/lodRendering/RenderInstanceData.js\";import{advancedMRRFactors as x}from\"../materials/pbrUtils.js\";import{D as C}from\"../../../../chunks/DefaultMaterial.glsl.js\";import{makePipelineState as P,cullingParams as T,defaultColorWrite as O}from\"../../../webgl/renderState.js\";import{fromLayouts as V}from\"../../../webgl/VertexAttributeLocations.js\";import{alphaCutoff as D}from\"../../../../webscene/support/AlphaCutoff.js\";class w extends n{constructor(){super(...arguments),this.isSchematic=!1,this.usePBR=!1,this.mrrFactors=x,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.doubleSided=!1,this.doubleSidedType=\"normal\",this.cullFace=2,this.instanced=!1,this.instancedFeatureAttribute=!1,this.instancedColor=!1,this.instanceColorEncodesAlphaIgnore=!1,this.emissiveStrength=0,this.emissiveSource=1,this.emissiveBaseColor=e,this.instancedDoublePrecision=!1,this.normalType=0,this.receiveShadows=!0,this.receiveAmbientOcclusion=!0,this.castShadows=!0,this.ambient=t(.2,.2,.2),this.diffuse=t(.8,.8,.8),this.externalColor=s(1,1,1,1),this.colorMixMode=\"multiply\",this.opacity=1,this.layerOpacity=1,this.origin=i(),this.hasSlicePlane=!1,this.offsetTransparentBackfaces=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.modelTransformation=null,this.drivenOpacity=!1,this.writeDepth=!0,this.customDepthTest=0,this.textureAlphaMode=0,this.textureAlphaCutoff=D,this.textureAlphaPremultiplied=!1,this.renderOccluded=1,this.isDecoration=!1}get hasVVSize(){return!!this.vvSize}get hasVVColor(){return!!this.vvColor}get hasVVOpacity(){return!!this.vvOpacity}}class A extends a{constructor(){super(...arguments),this.origin=i(),this.slicePlaneLocalOrigin=this.origin}}class M extends h{constructor(e,t,i=new c(C,()=>import(\"./DefaultMaterial.glsl.js\"))){const s=[r(F(t))];t.instanced&&t.instancedDoublePrecision&&s.push(r(j(t))),super(e,t,i,V(s))}_makePipeline(e,t){const{oitPass:i,output:s,transparent:r,cullFace:o,customDepthTest:n,hasOccludees:a}=e;return P({blending:l(s)&&r?v(i):null,culling:z(e)?T(o):null,depthTest:{func:f(i,k(n))},depthWrite:d(e),drawBuffers:u(s,b(i,s)),colorWrite:O,stencilWrite:a?y:null,stencilTest:a?t?g:S:null,polygonOffset:m(e)})}initializePipeline(e){return this._occludeePipelineState=this._makePipeline(e,!0),this._makePipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}function k(e){switch(e){case 1:return 515;case 0:case 3:return 513;case 2:return 516}}function z(e){return 0!==e.cullFace||!e.hasSlicePlane&&(!e.transparent&&!e.doubleSidedMode)}function F(e){const t=o().vec3f(\"position\");return 1===e.normalType?t.vec2i16(\"normalCompressed\",{glNormalized:!0}):t.vec3f(\"normal\"),e.hasVertexTangents&&t.vec4f(\"tangent\"),e.hasTextures&&t.vec2f16(\"uv0\"),e.hasVertexColors&&t.vec4u8(\"color\"),e.hasSymbolColors&&t.vec4u8(\"symbolColor\"),!e.instanced&&p()&&t.vec4u8(\"olidColor\"),t}export{A as DefaultMaterialDrawParameters,w as DefaultMaterialPassParameters,M as DefaultMaterialTechnique,F as getLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../core/shaderModules/glsl.js\";function o(o){o.code.add(e`vec3 tonemapACES(vec3 x) {\nreturn clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);\n}`)}export{o as ToneMapping};\n"],"names":["J","K","H","attributes","Q","vertex","X","fragment","Y","varyings","Z","output","ee","normalType","re","offsetBackfaces","oe","spherical","ie","snowCover","ae","pbrMode","le","textureAlphaPremultiplied","se","instancedDoublePrecision","ne","hasVertexColors","te","hasVertexTangents","de","hasColorTexture","ce","hasNormalTexture","me","hasNormalTextureTransform","ge","hasColorTextureTransform","ue","U","add","invariant","include","$","l","u","N","r","v","T","O","S","V","I","t","i","ve","e","w","g","a","c","d","m","uniforms","E","externalColor","supportsNaN","M","s","n","j","P","main","R","_templateObject","_taggedTemplateLiteral","_","int","W","ignore","float","q","b","p","A","o","G","get","B","ambient","diffuse","k","opacity","layerOpacity","F","texture","L","C","D","x","z","f","h","y","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","concat","_templateObject7","_templateObject8","_templateObject9","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","camera","code","outputs","normalTexture","depthTexture","projScale","noiseTexture","fullWidth","descriptor","width","fullHeight","height","intensity","Math","max","computeScreenPixelSizeAtDist","abs","relativeElevation","getRadius","colorTexture","blurSize","distance","instancedColor","hasModelTransformation","instanced","_e$modelTransformatio","modelTransformation","_r$modelTransformatio","viewInverseTransposeMatrix","colorMixMode","hasSymbolColors","transformNormalGlobalFromModel","transformNormalViewFromGlobal","constructor","super","arguments","this","toMapSpace","alphaDiscardMode","_templateObject0","_templateObject1","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","doubleSidedMode","textureCoordinateType","bindType","textureNormal","_e$scale","scale","_t$normalTextureTrans","normalTextureTransformMatrix","lightingSphericalHarmonicsOrder","_ref","lighting","sh","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref0","_ref1","initializePipeline","colorWrite","consumes","required","produces","SSAO","isEnabled","_enableTime","_passParameters","_drawParameters","initialize","Uint8Array","from","atob","charCodeAt","wrapMode","pixelFormat","hasMipmap","renderingContext","techniques","precompile","addHandles","destroy","render","find","name","getTexture","compiled","performance","now","requestRender","view","qualitySettings","fadeDuration","bindParameters","min","fullViewport","fboCache","acquire","bindFramebuffer","fbo","setViewport","bindTechnique","screen","draw","round","release","setClearColor","clear","setViewport4fv","prototype","constructOnly","receiveAmbientOcclusion","_e$ssao","ssao","constants","globalFactor","useFillLights","enableFillLights","mainLight","specularStrength","environmentStrength","direction","useCustomDTRExponentForWater","hasMetallicRoughnessTexture","hasMetallicRoughnessTextureTransform","hasOcclusionTexture","hasOcclusionTextureTransform","textureMetallicRoughness","textureOcclusion","mrrFactors","receiveShadows","setUniformMatrices4fv","shadowMap","getShadowMapMatrices","origin","cascadeDistances","numCascades","bindTexture","_e$colorTextureTransf","colorTextureTransformMatrix","_e$normalTextureTrans","hasEmissionTextureTransform","_e$emissiveTextureTra","emissiveTextureTransformMatrix","_e$occlusionTextureTr","occlusionTextureTransformMatrix","_e$metallicRoughnessT","metallicRoughnessTextureTransformMatrix","textureAlphaCutoff","localTransform","globalTransform","modelOrigin","model","instanceModel","modelNormal","instanceModelNormal","modelScaleFactors","boundingSphere","featureAttribute","getField","color","olidColor","state","lodLevel","events","_capacity","_size","_next","_highlightOptionsMap","Map","_highlightOptionsMapPrev","_layout","clone","u8","_buffer","createBuffer","_view","capacity","size","addInstance","_grow","_findSlot","set","emit","removeInstance","_getStateFlag","_setStateFlags","freeInstance","setLocalTransform","length","undefined","setMat","updateModelTransform","getLocalTransform","getMat","setGlobalTransform","getGlobalTransform","setVec","sort","index","getModelTransform","getVec","applyShaderTransformation","shaderTransformation","applyTransform","getCombinedModelTransform","getCombinedLocalTransform","getCombinedMaxScaleFactor","scaleFactor","getCombinedMedianScaleFactor","getModel","setFeatureAttribute","_this$_view$featureAt","getFeatureAttribute","_this$_view$featureAt2","setColor","_this$_view$color","setObjectAndLayerIdColor","_this$_view$olidColor","setVisible","getVisible","_setStateFlag","setHighlight","delete","highlightOptionsMap","getHighlightStateFlag","geHighlightOptionsPrev","_this$_highlightOptio","getHighlightName","_this$highlightOption","getState","getLodLevel","countFlags","_clearStateFlags","floor","copyFrom","readOnly","mat4f64","vec4f64","vec3f64","mat3f","vec2f","instancedFeatureAttribute","vec4f","vec4u8","elementSize","stride","resize","dispose","array","_array","buffer","usedMemory","byteLength","copyRange","transferAll","setData","transferRange","setSubData","ArrayBuffer","subarray","setSize","modelOriginHi","instanceModelOriginHi","modelOriginLo","instanceModelOriginLo","_rctx","_headIndex","_tailIndex","_firstIndex","_captureFirstIndex","_updating","_prevHeadIndex","_resized","isEmpty","isFull","headIndex","tailIndex","firstIndex","_this$_buffer$usedMem","_this$_buffer","reset","startUpdateCycle","beginUpdate","endUpdate","_shrink","_transferRange","allocateHead","_incrementHead","freeTail","_incrementTail","_resize","_compactInstances","createView","vec3f","cullFace","customDepthTest","emissionSource","hasVerticalOffset","hasScreenSizePerspective","hasOccludees","hasVVSize","hasVVColor","writeDepth","transparent","enableOffset","terrainDepthTest","cullAboveTerrain","occlusionPass","draped","hasTextures","hasVVInstancing","discardInvisibleFragments","count","materialType","supportsEdges","intersectDraped","parameters","_configuration","isVisibleForOutput","castShadows","visible","isNaN","_hasEmissiveBase","emissiveTextureId","emissiveBaseColor","hasEmissions","emissiveStrength","emissiveSource","getConfiguration","_t$customDepthTest","treeRendering","doubleSided","doubleSidedType","vvColor","vvSize","verticalOffset","screenSizePerspective","hasSlicePlane","textureAlphaMode","usePBR","isSchematic","offsetTransparentBackfaces","oitPass","intersect","viewingMode","eye","transform","inverseRotation","createGLMaterial","createBufferWriter","_objectSpread","material","beginSlot","_material","setParameters","enabled","updateTexture","textureId","textureBindParameters","getTechnique","normalTextureId","metallicRoughnessTextureId","occlusionTextureId","drivenOpacity","metallicRoughnessTexture","metallicFactor","roughnessFactor","emissiveTexture","emissiveFactor","occlusionTexture","instanceColorEncodesAlphaIgnore","vvOpacity","vvSymbolAnchor","vvSymbolRotationMatrix","renderOccluded","isDecoration","hasVVOpacity","slicePlaneLocalOrigin","push","_makePipeline","blending","culling","depthTest","func","depthWrite","drawBuffers","stencilWrite","stencilTest","polygonOffset","_occludeePipelineState","getPipeline","vec2i16","glNormalized","vec2f16"],"sourceRoot":""}