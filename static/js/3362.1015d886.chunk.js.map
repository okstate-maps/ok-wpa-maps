{"version":3,"file":"static/js/3362.1015d886.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/draw/support/Reshape.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import{createTask as i}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import r from\"../../../core/Evented.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,abortMaybe as h}from\"../../../core/maybe.js\";import{zeroMeters as p}from\"../../../core/quantityUtils.js\";import{when as c,pausable as l,watch as d,syncAndInitial as m,initial as v}from\"../../../core/reactiveUtils.js\";import{createScreenPoint as y}from\"../../../core/screenUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import{closeRingsAndFixWinding as u,geometryToCoordinates as f,getMidpoint as x}from\"../../../geometry/support/coordsUtils.js\";import G from\"../../../layers/GraphicsLayer.js\";import b from\"../../../symbols/SimpleMarkerSymbol.js\";import{ViewingMode as V}from\"../../ViewingMode.js\";import{SnappingVisualizer2D as M}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{cloneMove as w}from\"./drawUtils.js\";import S from\"./GraphicMover.js\";import E from\"./HighlightHelper.js\";import{addUniqueLayer as k}from\"./layerUtils.js\";import{settings as I}from\"./settings.js\";import{ViewEventPriorities as T}from\"../../input/InputManager.js\";import{sketchKeys as O}from\"../../interactive/keybindings.js\";import{EditGeometryOperations as C}from\"../../interactive/editGeometry/EditGeometryOperations.js\";import j from\"../../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as R}from\"../../interactive/snapping/SnappingContext.js\";import{Tooltip as H}from\"../../interactive/tooltip/Tooltip.js\";import{TranslateGraphicTooltipInfo as U,TranslateVertexTooltipInfo as A}from\"../../interactive/tooltip/TranslateTooltipInfos.js\";import{autoArea2D as z}from\"../../support/automaticAreaMeasurementUtils.js\";import{autoDistanceBetweenPoints2D as F,autoLength2D as L}from\"../../support/automaticLengthMeasurementUtils.js\";import D from\"../../../geometry/Polyline.js\";import P from\"../../../geometry/Point.js\";class q{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-start\"}}class K{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape\"}}class N{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-stop\"}}class B{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-start\"}}class J{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move\"}}class Q{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-stop\"}}class W{constructor(e){this.added=e,this.type=\"vertex-select\"}}class X{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class Y{constructor(e,t,i,s){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-add\"}}class Z{constructor(e,t,i,s){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-remove\"}}const $=I.reshapeGraphics,ee={vertices:{default:new b({style:\"circle\",size:$.vertex.size,color:$.vertex.color,outline:{color:$.vertex.outlineColor,width:1}}),hover:new b({style:\"circle\",size:$.vertex.hoverSize,color:$.vertex.hoverColor,outline:{color:$.vertex.hoverOutlineColor,width:1}}),selected:new b({style:\"circle\",size:$.selected.size,color:$.selected.color,outline:{color:$.selected.outlineColor,width:1}})},midpoints:{default:new b({style:\"circle\",size:$.midpoint.size,color:$.midpoint.color,outline:{color:$.midpoint.outlineColor,width:1}}),hover:new b({style:\"circle\",size:$.midpoint.size,color:$.midpoint.color,outline:{color:$.midpoint.outlineColor,width:1}})}};let te=class extends r.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._snappingContext=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this._tooltip=null,this._translateGraphicTooltipInfo=null,this._translateVertexTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new s,this.midpointSymbol=new b({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.symbols=ee,this.tooltipOptions=new j,this.type=\"reshape\",this.vertexGraphics=new s,this.view=null}initialize(){const e=this.view;this._highlightHelper=new E({view:e}),this._setup(),this.addHandles([c((()=>e?.ready),(()=>{const{layer:e,view:t}=this;k(t,e),this.addHandles(t.on(\"key-down\",(e=>this._keyDownHandler(e)),T.TOOL))}),{once:!0,initial:!0}),l((()=>this.graphic),(()=>this.refresh())),l((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),l((()=>this.enableMidpoints),(()=>this.refresh())),d((()=>this.tooltipOptions.enabled),(e=>{this._tooltip=e?new H({view:this.view}):a(this._tooltip)}),m),d((()=>this.view.effectiveTheme.accentColor),(()=>this._updateSymbolsForTheme()),v)])}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._tooltip=a(this._tooltip)}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set(\"highlightsEnabled\",e),this._setUpHighlights()}get state(){const e=this.view.ready,t=!(!this.graphic||!this.layer);return e&&t?\"active\":e?\"ready\":\"disabled\"}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length>0&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||null==e?.geometry)return;const i=e.geometry;\"mesh\"!==i.type&&\"extent\"!==i.type?(\"polygon\"===i.type&&u(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper?.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if(null==e||\"mesh\"===e.type||\"extent\"===e.type)return void this._logGeometryTypeError();const t=\"multipoint\"===e.type?new D({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=C.fromGeometry(t,V.Local)}_saveSnappingContextForHandle(e,t){this._snappingGraphicsLayer=new G({listMode:\"hide\",internal:!0,title:\"Reshape snapping layer\"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new R({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:t.viewEvent?.pointerType||\"mouse\",excludeFeature:this.graphic,feature:this.graphic,visualizer:new M(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper?.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetSnappingStateVars(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=a(this._editGeometryOperations),this._snappingTask=h(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set(\"selectedVertices\",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=f(e.clone());if(\"polygon\"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if(null!=e&&(\"polyline\"===e.type||\"polygon\"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:o}}=this,r=[];return e?.forEach(((e,n)=>{e.forEach(((e,a)=>{const[h,p,c]=e;r.push(new t({geometry:new P({x:h,y:p,z:c,spatialReference:o}),symbol:s?.vertices?.default,attributes:{...i,pathIndex:n,pointIndex:a}}))}))})),r}_createMidpointGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:o}}=this,r=[];return e?.forEach(((e,n)=>{e.forEach(((a,h)=>{const[p,c,l]=a,d=e[h+1]?h+1:0;if(\"polygon\"===this.graphic.geometry?.type||0!==d){const[a,m,v]=e[d],[y,_,g]=x([p,c,l],[a,m,v]);r.push(new t({geometry:new P({x:y,y:_,z:g,spatialReference:o}),symbol:s.midpoints.default,attributes:{...i,pathIndex:n,pointIndexStart:h,pointIndexEnd:d}}))}}))})),r}_updateSymbolsForTheme(){const e=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set(\"color\",e),hover:this.symbols.vertices.hover?.clone().set(\"color\",e)},midpoints:{...this.symbols.midpoints}};for(const t of this.vertexGraphics)this._isSelected(t)?t.symbol=this.symbols.vertices.selected:this._hoverGraphic===t?t.symbol=this.symbols.vertices.hover:t.symbol=this.symbols.vertices.default}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let i=0;i<t.length;i++){const s=[];for(let e=0;e<t.length;e++){if(i===e)continue;const o=t[i],r=t[e];o.x===r.x&&o.y===r.y&&s.push(e)}e[i].attributes.relatedGraphicIndices=s}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:s,view:o}=this,r=s.concat(i).items;e&&r.push(t),this._mover=new S({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:r,view:o,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),s=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,s)}else if(this._isVertex(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertices(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_setUpOperation(e){const{graphic:t,dx:i,dy:s}=e,o=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:o?\"move\":\"reshape\",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:s}=e;if(s===this.graphic){const{geometry:o}=s;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void(null!=o&&\"point\"===o.type&&this._onHandleMove(s,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(s)){if(this._clearSelection(),this._isMidpoint(s)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(s);this._emitVertexAddEvent([s],e,t)}this._addToSelection(s)}this._setUpOperation(e),this._emitReshapeStartEvent(s),this._onHandleMove(s,t,i,e,(()=>{this._updateTooltip(s,e.viewEvent),this._emitReshapeEvent(s)}))}_onGraphicMoveCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:s,graphic:o}=e;t.totalDx+=i,t.totalDy+=s;const{operationType:r}=t,{geometry:n}=o;if(null!=n)if(\"move\"!==r)this._onHandleMove(o,i,s,e,(()=>{this._updateTooltip(o,e.viewEvent),this._emitReshapeEvent(o)}));else if(\"point\"===n.type)this._onHandleMove(o,i,s,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,s)}));else if(\"polyline\"===n.type||\"polygon\"===n.type){const t=this._getCoordinatesForUI(n);this._updateVertexGraphicLocations(t),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,s)}}_onGraphicMoveStopCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:s,graphic:o}=e,{operationType:r}=t;t.totalDx+=i,t.totalDy+=s,this._onHandleMove(o,i,s,e,(()=>\"move\"===r?this._emitMoveStopEvent():this._emitReshapeStopEvent(o))),this._isMidpoint(o)?this.refresh():(this._updateTooltip(this._isVertex(o)?o:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const t=this.view.spatialReference;for(const i of this.vertexGraphics){const{pathIndex:s,pointIndex:o}=i.attributes,[r,n,a]=e[s][o];i.geometry=new P({x:r,y:n,z:a,spatialReference:t})}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:s,pointIndexEnd:o}=t.attributes,[r,n,a]=e[i][s],[h,p,c]=e[i][o],[l,d,m]=x([r,n,a],[h,p,c]);t.geometry=new P({x:l,y:d,z:m,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic({attributes:e}){return[e?.pathIndex||0,e?.pointIndex||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,s,o,r){h(this._snappingTask);const n=this._snappingContext;if(!n)return;const a=e.geometry,p=\"graphic-move-stop\"===o.type;if(null!=this.snappingManager&&this.selectedVertices.length<2&&!p){const o=this.snappingManager;this._stagedVertex=o.update({point:a,context:n}),this._syncGeometryAfterVertexMove(e,new P(this._stagedVertex),t,s,p),r(),this._snappingTask=i((async i=>{const h=await o.snap({point:a,context:n,signal:i});h.valid&&(this._stagedVertex=h.apply(),this._syncGeometryAfterVertexMove(e,new P(this._stagedVertex),t,s,p),r())}))}else{const i=null!=this._stagedVertex?new P(this._stagedVertex):a;this._syncGeometryAfterVertexMove(e,i,t,s,p),r()}}async _syncGeometryAfterVertexMove(e,t,i,s,o=!1){const r=this._editGeometryOperations.data.geometry;if(\"point\"===r.type)e.geometry=t;else if(\"mesh\"===r.type)e.geometry=r.centerAt(t),e.notifyGeometryChanged();else{const{x:n,y:a,z:h}=t,[p,c]=this._getIndicesForVertexGraphic(e);let l=f(r);const d=l[p].length-1,m=null!=h?[n,a,h]:[n,a];l[p][c]=m,\"polygon\"===r.type&&(0===c?l[p][d]=m:c===d&&(l[p][0]=m)),this._isVertex(e)&&(l=this._moveRelatedCoordinates(l,e,m),l=this._moveSelectedHandleCoordinates(l,e,i,s,\"polygon\"===r.type),this._updateMidpointGraphicLocations(l)),this.graphic.geometry=r.clone();const v=this._getVertexFromEditGeometry(e),y=n-v.pos[0],_=a-v.pos[1];this._editGeometryOperations.moveVertices([v],y,_,0),o&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i){const{relatedGraphicIndices:s}=t.attributes;for(const o of s){const s=this.vertexGraphics.at(o),{pathIndex:r,pointIndex:n}=s.attributes;e[r][n]=i,s.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,s,o){for(const r of this.selectedVertices)if(r!==t){const{pathIndex:t,pointIndex:n,relatedGraphicIndices:a}=r.attributes,h=w(r.geometry,i,s,this.view),p=e[t].length-1;e[t][n]=[h.x,h.y],r.geometry=h,o&&(0===n?e[t][p]=[h.x,h.y]:n===p&&(e[t][0]=[h.x,h.y]));for(const i of a){const t=this.vertexGraphics.at(i),{pathIndex:s,pointIndex:o}=t.attributes;e[s][o]=[h.x,h.y],t.geometry=h}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._hoverGraphic=t;const i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._hoverGraphic=null,this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,s=i.geometry;if(null==s||\"polygon\"!==s.type&&\"polyline\"!==s.type)return[];const o=s.clone(),r=[],{pathIndex:n,pointIndexStart:a,pointIndexEnd:h}=e.attributes,{x:p,y:c,z:l}=e.geometry,d=0===h?a+1:h,m=f(o);return m[n].splice(d,0,null!=l?[p,c,l]:[p,c]),e.attributes={...t,pathIndex:n,pointIndex:d,relatedGraphicIndices:[]},r.push({coordinates:m[n][d],componentIndex:n,vertexIndex:d}),this.graphic.geometry=o,r}_addToSelection(e){e instanceof t&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedVertices\",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,i){const{vertices:s}=this.symbols,o=i?s.hover:s.default;e instanceof t&&(e=[e]);for(const t of e)this.selectedVertices.splice(this.selectedVertices.indexOf(t),1),this._set(\"selectedVertices\",this.selectedVertices),t.set(\"symbol\",o);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedVertices\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){O.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const i=this.graphic.geometry;if(null==i||\"polygon\"!==i.type&&\"polyline\"!==i.type)return;if(\"polygon\"===i.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof t&&(e=[e]);const s=this.graphic.clone(),o=i.clone();let r=f(o);const n=[];e instanceof t&&(e=[e]);for(const t of e){const{x:e,y:i}=t.geometry;for(let t=0;t<r.length;t++){const s=r[t];for(let o=0;o<s.length;o++){const[a,h]=s[o];e===a&&i===h&&(n.push({coordinates:r[t][o],componentIndex:t,vertexIndex:o}),r[t].splice(Number(o),1))}}}if(\"polygon\"===o.type)r=r.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[s,o]=e[e.length-1];return(2!==e.length||t!==s||i!==o)&&(t===s&&i===o||e.push(e[0]),!0)})),o.rings=r;else{for(const e of r)1===e.length&&r.splice(r.indexOf(e),1);o.paths=r}this.graphic.geometry=o,this.refresh(),this._emitVertexRemoveEvent(e,s,n)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_updateTooltip(e,t){null!=this._tooltip&&(e?e===this.graphic?this._updateMoveGraphicTooltip(t):this._updateMoveVertexTooltip(t):this._tooltip.clear())}_updateMoveGraphicTooltip(e){const{_tooltip:t,tooltipOptions:i,view:s}=this;if(null==t)return;const o=this._translateGraphicTooltipInfo??=new U({tooltipOptions:i});if(o.clear(),o.tooltipOptions=i,e){const{x:t,y:i}=e.origin,r=s.toMap(e),n=s.toMap(y(t,i)),a=F(n,r);o.distance=null!=a?a:p}t.info=o}_updateMoveVertexTooltip(e){const{_tooltip:t,graphic:{geometry:i},tooltipOptions:s,view:o}=this;if(null==t)return;const r=this._translateVertexTooltipInfo??=new A({tooltipOptions:s});if(r.clear(),r.tooltipOptions=s,\"polygon\"===i?.type?r.area=z(i):\"polyline\"===i?.type&&(r.totalLength=L(i)),e){const{x:t,y:i}=e.origin,s=o.toMap(e),n=o.toMap(y(t,i)),a=F(n,s);r.distance=null!=a?a:p}t.info=r}_emitMoveStartEvent(e,t){const i=new B(this.graphic,e,t);this.emit(\"move-start\",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new J(this.graphic,e,t);this.emit(\"move\",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const e=this._activeOperationInfo;if(!e)return;const{totalDx:t,totalDy:i}=e,s=new Q(this.graphic,t,i);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitReshapeStartEvent(e){const t=new q(this.graphic,e,this.selectedVertices);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new K(this.graphic,e,this.selectedVertices);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new N(this.graphic,e,this.selectedVertices);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new W(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new X(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const s=new Y(e,this.graphic,t,i);this.emit(\"vertex-add\",s),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(s)}_emitVertexRemoveEvent(e,t,i){const s=new Z(e,this.graphic,t,i);this.emit(\"vertex-remove\",s),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(s)}_logGeometryTypeError(){n.getLogger(this).error(new o(\"reshape:invalid-geometry\",\"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"))}};e([_()],te.prototype,\"_tooltip\",void 0),e([_()],te.prototype,\"_translateGraphicTooltipInfo\",void 0),e([_()],te.prototype,\"_translateVertexTooltipInfo\",void 0),e([_()],te.prototype,\"callbacks\",void 0),e([_()],te.prototype,\"enableMidpoints\",void 0),e([_()],te.prototype,\"enableMovement\",void 0),e([_()],te.prototype,\"enableVertices\",void 0),e([_()],te.prototype,\"graphic\",void 0),e([_({value:!0})],te.prototype,\"highlightsEnabled\",null),e([_()],te.prototype,\"layer\",void 0),e([_({readOnly:!0})],te.prototype,\"midpointGraphics\",void 0),e([_()],te.prototype,\"midpointSymbol\",void 0),e([_({readOnly:!0})],te.prototype,\"selectedVertices\",void 0),e([_()],te.prototype,\"snappingManager\",void 0),e([_({readOnly:!0})],te.prototype,\"state\",null),e([_()],te.prototype,\"symbols\",void 0),e([_({type:j})],te.prototype,\"tooltipOptions\",void 0),e([_({readOnly:!0})],te.prototype,\"type\",void 0),e([_({readOnly:!0})],te.prototype,\"vertexGraphics\",void 0),e([_()],te.prototype,\"view\",void 0),te=e([g(\"esri.views.draw.support.Reshape\")],te);const ie=te;export{ie as default};\n"],"names":["q","constructor","e","t","i","this","graphic","mover","selected","type","K","N","B","dx","dy","J","Q","W","added","X","removed","Y","s","oldGraphic","vertices","Z","$","I","reshapeGraphics","ee","default","b","style","size","vertex","color","outline","outlineColor","width","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","te","r","EventedAccessor","super","_activeOperationInfo","_editGeometryOperations","_graphicAttributes","esriSketchTool","_mover","_snappingContext","_hoverGraphic","_snappingTask","_stagedVertex","_tooltip","_translateGraphicTooltipInfo","_translateVertexTooltipInfo","callbacks","onReshapeStart","onReshape","onReshapeStop","onMoveStart","onMove","onMoveStop","onGraphicClick","enableMidpoints","enableMovement","enableVertices","layer","midpointGraphics","midpointSymbol","selectedVertices","snappingManager","symbols","tooltipOptions","j","vertexGraphics","view","initialize","_highlightHelper","E","_setup","addHandles","c","ready","k","on","_keyDownHandler","T","TOOL","once","initial","l","refresh","_clearSelection","_resetGraphics","d","enabled","H","a","m","effectiveTheme","accentColor","_updateSymbolsForTheme","v","destroy","_this$_mover","_reset","highlightsEnabled","_this$_highlightHelpe","removeAll","_set","_setUpHighlights","state","isUIGraphic","push","concat","items","length","includes","reset","clearSelection","removeSelectedVertices","_removeVertices","geometry","u","_setupGraphics","_setupMover","_logGeometryTypeError","_this$_highlightHelpe2","add","_setUpGeometryHelper","D","paths","points","spatialReference","C","fromGeometry","V","Local","_saveSnappingContextForHandle","_t$viewEvent","_snappingGraphicsLayer","G","listMode","internal","title","map","layers","R","editGeometryOperations","elevationInfo","mode","offset","pointer","viewEvent","pointerType","excludeFeature","feature","visualizer","M","vertexHandle","_getVertexFromEditGeometry","_this$_highlightHelpe3","_updateTooltip","_resetSnappingStateVars","cursor","_this$view","doneSnapping","remove","h","_removeMidpointGraphics","_removeVertexGraphics","removeMany","forEach","_getCoordinatesForUI","f","clone","pop","_setUpMidpointGraphics","_setUpVertexGraphics","_createMidpointGraphics","addMany","_createVertexGraphics","_storeRelatedVertexIndices","o","n","_s$vertices","p","P","x","y","z","symbol","attributes","pathIndex","pointIndex","_this$graphic$geometr","_","g","pointIndexStart","pointIndexEnd","_this$symbols$vertice","set","_isSelected","_ref","relatedGraphicIndices","S","enableMoveAllGraphics","indicatorsEnabled","graphics","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","stopPropagation","emit","_isMidpoint","button","_createVertexFromMidpoint","_emitVertexAddEvent","_isVertex","native","shiftKey","_removeFromSelection","_addToSelection","_setUpOperation","target","operationType","totalDx","totalDy","_emitMoveStartEvent","_onHandleMove","_emitMoveEvent","_emitReshapeStartEvent","_emitReshapeEvent","_updateVertexGraphicLocations","_emitMoveStopEvent","_emitReshapeStopEvent","_updateMidpointGraphicLocations","_getIndicesForVertexGraphic","_ref2","data","components","update","point","context","_syncGeometryAfterVertexMove","async","snap","signal","valid","apply","arguments","undefined","centerAt","notifyGeometryChanged","_moveRelatedCoordinates","_moveSelectedHandleCoordinates","pos","moveVertices","updateGeometry","indexOf","at","w","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","_emitDeselectEvent","O","delete","key","repeat","Number","filter","rings","_emitVertexRemoveEvent","_updateMoveGraphicTooltip","_updateMoveVertexTooltip","clear","_this$_translateGraph","U","origin","toMap","F","distance","info","_this$_translateVerte","A","area","totalLength","L","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","getLogger","error","prototype","value","readOnly","ie"],"sourceRoot":""}