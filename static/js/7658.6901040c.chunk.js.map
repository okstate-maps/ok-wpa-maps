{"version":3,"file":"static/js/7658.6901040c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/AsyncSequence.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.updating=!1,this._pending=[]}push(s,t){this._pending.push({promise:s,callback:t}),1===this._pending.length&&this._process()}_process(){if(!this._pending.length)return void(this.updating=!1);this.updating=!0;const s=this._pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this._pending.shift(),this._process()}))}};s([e()],r.prototype,\"updating\",void 0),r=s([i(\"esri.core.AsyncSequence\")],r);export{r as AsyncSequence};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";import{create as s,fromExtent as a,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class r{constructor(t,e){this.data=t,this.resolution=e,this.state={type:u.CREATED},this.alive=!0}process(t){switch(this.state.type){case u.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_COUNT:break;case u.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_FEATURES:break;case u.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case u.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case u.CREATED:case u.FETCH_COUNT:return 0;case u.FETCHED_COUNT:return this.state.featureCount;case u.FETCH_FEATURES:return this.state.previous.featureCount;case u.FETCHED_FEATURES:return this.state.features.length;case u.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case u.CREATED:return\"created\";case u.FETCH_COUNT:return\"fetch-count\";case u.FETCHED_COUNT:return\"fetched-count\";case u.FETCH_FEATURES:return\"fetch-features\";case u.FETCHED_FEATURES:return\"fetched-features\";case u.DONE:return\"done\"}}_gotoFetchCount(s,a){return{type:u.FETCH_COUNT,previous:s,task:t((async t=>{const s=await e(a.fetchCount(this,t));this.state.type===u.FETCH_COUNT&&(this.state=this._gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}_gotoFetchedCount(t,e){return{type:u.FETCHED_COUNT,featureCount:e,previous:t}}_gotoFetchFeatures(s,a){return{type:u.FETCH_FEATURES,previous:s,task:t((async t=>{const E=await e(a.fetchFeatures(this,s.featureCount,t));this.state.type===u.FETCH_FEATURES&&(this.state=this._gotoFetchedFeatures(this.state,E.ok?E.value:[]))}))}}_gotoFetchedFeatures(t,e){return{type:u.FETCHED_FEATURES,previous:t,features:e}}_goToDone(t,e){return e.finish(this,t.features),{type:u.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:u.CREATED},t.type){case u.CREATED:case u.FETCHED_COUNT:case u.FETCHED_FEATURES:case u.DONE:break;case u.FETCH_COUNT:case u.FETCH_FEATURES:t.task.abort()}}intersects(t){return null==t||!this.data.extent||(a(t,T),E(this.data.extent,T))}}var u;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(u||(u={}));const T=s();export{r as PendingFeatureTile,u as StateType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{equals as i}from\"../../../../../core/arrayUtils.js\";import{AsyncSequence as s}from\"../../../../../core/AsyncSequence.js\";import{createTask as r}from\"../../../../../core/asyncUtils.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import n from\"../../../../../core/Logger.js\";import{throwIfAbortError as a}from\"../../../../../core/promiseUtils.js\";import{sync as l,when as u}from\"../../../../../core/reactiveUtils.js\";import{union as d,equals as c,isSubsetOf as h,difference as p}from\"../../../../../core/SetUtils.js\";import{property as f}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import{subclass as y}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as g}from\"../../../../../core/support/UpdatingHandles.js\";import _ from\"../../../../../geometry/Extent.js\";import{toExtent as m}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as F,convertFromFeatureSet as b}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{isHostedAgolService as T}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as P}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as I,executeQueryPBF as v,executeQuery as O}from\"../../../../../rest/query/operations/query.js\";import S from\"../../../../../rest/support/Query.js\";import{StateType as C,PendingFeatureTile as E}from\"./PendingFeatureTile.js\";let j=class extends t{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}get _mandatoryOutFields(){const e=new Set;return this.objectIdField&&e.add(this.objectIdField),this.globalIdField&&e.add(this.globalIdField),e}set outFields(e){const t=this._get(\"outFields\"),i=d(e,this._mandatoryOutFields);c(i,t)||(this._set(\"outFields\",i),h(i,t)||this.refresh())}get outFields(){return this._get(\"outFields\")??this._mandatoryOutFields}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this.updatingExcludingEdits||this._pendingEdits.updating}get updatingExcludingEdits(){return this._updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.suspended=!0,this.tilesOfInterest=[],this.availability=0,this._pendingTiles=new Map,this._updatingHandles=new g,this._pendingEdits=new s,this._pendingEditsAbortController=new AbortController}initialize(){this._initializeFetchExtent(),this._updatingHandles.add((()=>this._configuration),(()=>this.refresh())),this._updatingHandles.add((()=>this.tilesOfInterest),((e,t)=>{i(e,t,(({id:e},{id:t})=>e===t))||this._process()}),l),this.addHandles(u((()=>!this.suspended),(()=>this._process())))}destroy(){this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._pendingEditsAbortController.abort(),this._pendingEditsAbortController=null,this._updatingHandles.destroy()}refresh(){this.store.refresh(),this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}applyEdits(e){this._pendingEdits.push(e,(async e=>{if(0===e.addedFeatures.length&&0===e.updatedFeatures.length&&0===e.deletedFeatures.length)return;for(const[,i]of this._pendingTiles)i.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))};await this._updatingHandles.addPromise(this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),this._pendingEditsAbortController.signal)),this._processPendingTiles()}))}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!T(this.url))return;const e=r((async e=>{try{const t=await I(this.url,new S({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=_.fromJSON(t.data?.extent)}catch(t){a(t),n.getLogger(this).warn(\"Failed to fetch data extent\",t)}}));this._updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.addHandles(o((()=>e.abort())))}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const[,e]of this._pendingTiles)e.alive=!1}_createPendingTiles(){if(this.suspended)return;const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const i=this.tilesOfInterest[t],s=this.store.process(i,((e,t)=>this._verifyTileComplexity(e,t)),this.outFields);null==e?e=s:e.prepend(s)}return e}_deletePendingTiles(){for(const[,e]of this._pendingTiles)e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const[,t]of this._pendingTiles)this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this._updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<q}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(A/(i*i))<H}_ensureFetchAllCounts(e){let t=!0;for(const[,i]of this._pendingTiles)i.state.type<C.FETCHED_COUNT&&this._updatingHandles.addPromise(i.process(e)),i.state.type<=C.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new E(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:w,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let o=0,n=t;for(;;){const a=this._createFeaturesQuery(e),l=this._setPagingParameters(a,s,n),{features:u,exceededTransferLimit:d}=await this._queryFeatures(a,i);l&&(s+=a.num),o+=u.length;for(const e of u)r.push(e);if(n=t-o,!l||!d||n<=0)return r}}_filterProperties(e){return null==e?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error(\"Expected globalIdField to be defined\");let s=null;if(this.store.featureStore.forEach((r=>{e===r.attributes[t]&&(s=r.objectId??r.attributes[i])})),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await v(this.url,e,new P({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:w,signal:t});return F(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await O(this.url,e,i,{query:this._configuration.customParameters,timeout:w,signal:t});return b(s,this.objectIdField)}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e),i=null!=e?.data?this.store.getAttributesForTile(e?.data?.id):null,s=d(p(this.outFields,i??new Set),this._mandatoryOutFields);return t.outFields=Array.from(s),t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new S({returnZ:this.hasZ,returnM:!1,geometry:null!=this.tileInfo&&null!=e?m(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?S.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||x);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([f({constructOnly:!0})],j.prototype,\"url\",void 0),e([f({constructOnly:!0})],j.prototype,\"objectIdField\",void 0),e([f({constructOnly:!0})],j.prototype,\"globalIdField\",void 0),e([f({constructOnly:!0})],j.prototype,\"capabilities\",void 0),e([f({constructOnly:!0})],j.prototype,\"sourceSpatialReference\",void 0),e([f({constructOnly:!0})],j.prototype,\"spatialReference\",void 0),e([f({constructOnly:!0})],j.prototype,\"store\",void 0),e([f({readOnly:!0})],j.prototype,\"_minimumVerticesPerFeature\",null),e([f()],j.prototype,\"_mandatoryOutFields\",null),e([f()],j.prototype,\"outFields\",null),e([f()],j.prototype,\"suspended\",void 0),e([f()],j.prototype,\"filter\",null),e([f()],j.prototype,\"customParameters\",null),e([f({readOnly:!0})],j.prototype,\"_configuration\",null),e([f()],j.prototype,\"tileInfo\",null),e([f()],j.prototype,\"tileSize\",null),e([f()],j.prototype,\"tilesOfInterest\",void 0),e([f({readOnly:!0})],j.prototype,\"updating\",null),e([f({readOnly:!0})],j.prototype,\"updatingExcludingEdits\",null),e([f({readOnly:!0})],j.prototype,\"availability\",void 0),e([f()],j.prototype,\"hasZ\",null),j=e([y(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],j);const x=2e3,w=6e5,q=1e6,A=25,H=1;export{j as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._byteSize=0}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize}delete(t){const e=this._store.get(t);return!!this._store.delete(t)&&(null!=e&&(this._byteSize-=e.byteSize),!0)}get(t){return this._used(t),this._store.get(t)}has(t){return this._used(t),this._store.has(t)}clear(){this._store.clear()}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r)}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}_used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e))}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{estimateAttributesObjectSize as s,estimateFixedArraySize as i}from\"../../../../../core/byteSizeEstimations.js\";import{ByteSizeUnit as r}from\"../../../../../core/ByteSizeUnit.js\";import{intersection as o,isSubsetOf as n}from\"../../../../../core/SetUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as a,intersects as c,fromExtent as h,area as d}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as f}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as _}from\"../../../../../layers/graphics/data/BoundsStore.js\";import p from\"../../../../../layers/support/TileInfo.js\";import{TileKey as m}from\"../../../../../layers/support/TileKey.js\";import{executeQueryForCount as g}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as y}from\"./FeatureServiceTileCache.js\";let v=class extends t{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10*r.MEGABYTES,this._tileBounds=new _,this._tiles=new y,this._refCounts=new Map,this._tileFeatureCounts=new Map,this._tmpBoundingRect=a()}add(e,t){for(const r of t)this._referenceFeature(r.objectId);const s=this.featureStore.upsertMany(t),i=s.map((e=>new Set(Object.keys(e.attributes)))).reduce(((e,t)=>o(e,t)),new Set(Object.keys(s[0]?.attributes??[])));this._addTileStorage(e,new Set(s.map((e=>e.objectId))),C(s),i),this._tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this._removeTileStorage(e)))}getAttributesForTile(e){return e?this._tiles.get(e)?.attributeKeys:null}destroy(){this.clear(),this._tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this._tileBounds.clear(),this._tiles.clear(),this._refCounts.clear()}refresh(){this.clear(),this._tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s,i){const r=e.id;this._tiles.set(r,new E(e,t,s,i)),this._tileBounds.set(r,e.extent),this._tileFeatureCounts.set(r,t.size)}_remove({id:e}){const t=this._tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)this._unreferenceFeature(i)===A.REMOVED&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this._tiles.delete(s),this._tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this._tiles){for(const s of e)t.objectIds.delete(s);this._tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this._refCounts.delete(t)}async _processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=f(this._tmpBoundingRect,n.geometry,r,o);null!=e&&this._tileBounds.forEachInBounds(e,(e=>{const t=this._tiles.get(e);this.featureStore.add(n);const s=n.objectId;t.objectIds.has(s)||(t.objectIds.add(s),this._referenceFeature(s),this._tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=(()=>!0),s){if(null==this.tileInfo||!e.extent||null!=this.extent&&!c(h(this.extent,this._tmpBoundingRect),e.extent))return new F(e);const i=this.getAttributesForTile(e.id);if(n(s,i))return new F(e);const r=this._createTileTree(e,this.tileInfo);return this._simplify(r,t,null,0,1),this._collectMissingTiles(e,r,this.tileInfo,s)}get debugInfo(){return Array.from(this._tiles.values()).map((({data:e})=>({data:e,featureCount:this._tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){return this._tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this._tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await g(t,s,i);return this._tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new w(e.level,e.row,e.col);return t.updateTileInfo(s,p.ExtrapolateOptions.POWER_OF_TWO),this._tileBounds.forEachInBounds(e.extent,(i=>{const r=this._tiles.get(i)?.data;r&&this._tilesAreRelated(e,r)&&this._populateChildren(s,r,t,this._tileFeatureCounts.get(r.id)||0)})),s}_tilesAreRelated(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,n=t.col>>r,l=e.row<<1,u=n-(e.col<<1)+(o-l<<1),a=e.children[u];if(null!=a)this._populateChildren(a,t,s,i);else{const r=new w(e.level+1,o,n);s.updateTileInfo(r,p.ExtrapolateOptions.POWER_OF_TWO),e.children[u]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),null!=s&&(s.children[i]=null),o);const n=r/2,l=n*n;let u=0;for(let a=0;a<e.children.length;a++){const s=e.children[a];u+=null!=s?this._simplify(s,t,e,a,n):l}return 0===u?this._mergeChildren(e):1-u/o<b&&(this._purge(e),null!=s&&(s.children[i]=null),u=o),u}_mergeChildren(e){const t=new Set;let s,i=0;this._forEachLeaf(e,(e=>{const r=this._tiles.get(e.id);if(r){s=s?o(s,r.attributeKeys):new Set(r.attributeKeys),i+=r.byteSize;for(const e of r.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}})),this._addTileStorage(e,t,i,s??new Set),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this._tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)null!=s&&(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(null!=e)if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s,i){const r=new j(s,e,this.extent);return this._collectMissingTilesRecurse(t,r,1,i),r.info}_collectMissingTilesRecurse(e,t,s,i){const r=this.getAttributesForTile(e.id),o=r&&!n(i,r);if(o&&t.addMissing(e.level,e.row,e.col,s),e.isLeaf)return;if(!e.hasChildren)return void(o||t.addMissing(e.level,e.row,e.col,s));const l=s/2;for(let n=0;n<e.children.length;n++){const s=e.children[n];null==s?t.addMissing(e.level+1,(e.row<<1)+((2&n)>>1),(e.col<<1)+(1&n),l):this._collectMissingTilesRecurse(s,t,l,i)}}_referenceFeature(e){const t=(this._refCounts.get(e)||0)+1;return this._refCounts.set(e,t),1===t?A.ADDED:A.UNCHANGED}_unreferenceFeature(e){const t=(this._refCounts.get(e)||0)-1;return 0===t?(this._refCounts.delete(e),A.REMOVED):(t>0&&this._refCounts.set(e,t),A.UNCHANGED)}get test(){return{tiles:Array.from(this._tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this._refCounts.keys()).map((e=>`${e}:${this._refCounts.get(e)}`))}}};function C(e){return e.reduce(((e,t)=>e+S(t)),0)}function S(e){return 32+T(e.geometry)+s(e.attributes)}function T(e){if(null==e)return 0;const t=i(e.lengths,4);return 32+i(e.coords,8)+t}e([l({constructOnly:!0})],v.prototype,\"featureStore\",void 0),e([l()],v.prototype,\"tileInfo\",void 0),e([l()],v.prototype,\"extent\",void 0),e([l()],v.prototype,\"maximumByteSize\",void 0),v=e([u(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],v);class E{constructor(e,t,s,i){this.data=e,this.objectIds=t,this.byteSize=s,this.attributeKeys=i}}class w{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(null!=this.children[0]||null!=this.children[1]||null!=this.children[2]||null!=this.children[3])}}class F{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=d(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class j{constructor(e,t,s){this._tileInfo=e,this._extent=null,this.info=new F(t),null!=s&&(this._extent=h(s))}addMissing(e,t,s,i){const r=new m(null,e,t,s);this._tileInfo.updateTileInfo(r,p.ExtrapolateOptions.POWER_OF_TWO),null==r.extent||null!=this._extent&&!c(this._extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=d(r.extent))}}const b=.18751;var A;!function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\",e[e.UNCHANGED=2]=\"UNCHANGED\"}(A||(A={}));export{v as FeatureServiceTileStore,F as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Evented.js\";import{createResolver as i,throwIfAborted as s}from\"../../../../../core/promiseUtils.js\";import{watch as r,whenOnce as n,sync as a}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as d}from\"../../../../../core/support/UpdatingHandles.js\";import p from\"../../../../../geometry/SpatialReference.js\";import u from\"../../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as c}from\"../../../../../layers/graphics/data/QueryEngine.js\";import h from\"../../../../../layers/support/TileInfo.js\";import f from\"../../../../../rest/support/Query.js\";import g from\"../../../../../symbols/support/ElevationInfo.js\";import{getSnappingCandidateElevationAligner as m}from\"../snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as y}from\"../snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as _}from\"../symbologySnappingCandidates.js\";import{FeatureServiceTiledFetcher as S}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as F}from\"./FeatureServiceTileStore.js\";import{fromJSON as v}from\"../../../../../geometry/support/jsonUtils.js\";let w=class extends t.EventedAccessor{constructor(){super(...arguments),this._isInitializing=!0,this.remoteClient=null,this._whenSetup=i(),this._elevationAligner=m(),this._elevationFilter=y(),this._symbologyCandidatesFetcher=_(),this._updatingHandles=new d,this._editsUpdatingHandles=new d,this._pendingApplyEdits=new Map,this._alignPointsInFeatures=async(e,t)=>{const i={query:e},r=await this.remoteClient.invoke(\"alignElevation\",i,{signal:t});return s(t),r},this._getSymbologyCandidates=async(e,t)=>{const i={candidates:e,spatialReference:this._spatialReference.toJSON()},r=await this.remoteClient.invoke(\"getSymbologyCandidates\",i,{signal:t});return s(t),r}}get updating(){return this.updatingExcludingEdits||this._editsUpdatingHandles.updating||this._featureFetcher.updating}get updatingExcludingEdits(){return this._featureFetcher.updatingExcludingEdits||this._isInitializing||this._updatingHandles.updating}destroy(){this._featureFetcher?.destroy(),this._queryEngine?.destroy(),this._featureStore?.clear()}async setup(e){if(this.destroyed)return{result:{}};const{geometryType:t,objectIdField:i,timeInfo:s,fieldsIndex:n}=e.serviceInfo,{hasZ:o}=e,l=p.fromJSON(e.spatialReference);this._spatialReference=l,this._featureStore=new u({...e.serviceInfo,hasZ:o,hasM:!1}),this._queryEngine=new c({spatialReference:e.spatialReference,featureStore:this._featureStore,geometryType:t,fieldsIndex:n,hasZ:o,hasM:!1,objectIdField:i,timeInfo:s}),this._featureFetcher=new S({store:new F({featureStore:this._featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l,sourceSpatialReference:p.fromJSON(e.serviceInfo.spatialReference)});const d=\"3d\"===e.configuration.viewType;return this._elevationAligner=m(d,{elevationInfo:null!=e.elevationInfo?g.fromJSON(e.elevationInfo):null,alignPointsInFeatures:this._alignPointsInFeatures}),this._elevationFilter=y(d),this.addHandles([r((()=>this._featureFetcher.availability),(e=>this.emit(\"notify-availability\",{availability:e})),a),r((()=>this.updating),(()=>this._notifyUpdating()))]),this._whenSetup.resolve(),this._isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this._updatingHandles.addPromise(this._whenSetup.promise),this._updateFeatureFetcherConfiguration(e),j}async setSuspended(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.suspended=e,j}async updateOutFields(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.outFields=new Set(e??[]),j}async fetchCandidates(e,t){await this._whenSetup.promise,s(t);const i=b(e),r=t?.signal,n=await this._queryEngine.executeQueryForSnapping(i,r);s(r);const a=await this._elevationAligner.alignCandidates(n.candidates,p.fromJSON(e.point.spatialReference)??p.WGS84,r);s(r);const o=await this._symbologyCandidatesFetcher.fetch(a,r);s(r);const l=0===o.length?a:a.concat(o);return{result:{candidates:this._elevationFilter.filter(i,l)}}}async updateTiles(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.tileSize=e.tileSize,this._featureFetcher.tilesOfInterest=e.tiles,this._featureFetcher.tileInfo=null!=e.tileInfo?h.fromJSON(e.tileInfo):null,j}async refresh(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.refresh(),j}async whenNotUpdating(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),await n((()=>!this.updatingExcludingEdits),t),s(t),j}async getDebugInfo(e,t){return s(t),{result:this._featureFetcher.debugInfo}}async beginApplyEdits(e,t){this._updatingHandles.addPromise(this._whenSetup.promise),s(t);const r=i();return this._pendingApplyEdits.set(e.id,r),this._featureFetcher.applyEdits(r.promise),this._editsUpdatingHandles.addPromise(r.promise),j}async endApplyEdits(e,t){const i=this._pendingApplyEdits.get(e.id);return i&&i.resolve(e.edits),s(t),j}async notifyElevationSourceChange(e,t){return this._elevationAligner.notifyElevationSourceChange(),j}async notifySymbologyChange(e,t){return this._symbologyCandidatesFetcher.notifySymbologyChange(),j}async setSymbologySnappingSupported(e){return this._symbologyCandidatesFetcher=_(e,this._getSymbologyCandidates),j}_updateFeatureFetcherConfiguration(e){this._featureFetcher.filter=null!=e.filter?f.fromJSON(e.filter):null,this._featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};e([o({readOnly:!0})],w.prototype,\"updating\",null),e([o({readOnly:!0})],w.prototype,\"updatingExcludingEdits\",null),e([o()],w.prototype,\"_isInitializing\",void 0),w=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],w);const I=w;function b(e){if(!e.filter)return{...e,query:{where:\"1=1\"}};const{distance:t,units:i,spatialRel:s,where:r,timeExtent:n,objectIds:a}=e.filter,o={geometry:e.filter.geometry?v(e.filter.geometry):void 0,distance:t,units:i,spatialRel:s,timeExtent:n,objectIds:a,where:r??\"1=1\"};return{...e,query:o}}const j={result:{}};export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{getMetersPerUnit as o}from\"../../../../symbols/support/unitConversionUtils.js\";function i(e=!1,t){if(e){const{elevationInfo:e,alignPointsInFeatures:s}=t;return new c(e,s)}return new a}class a{async alignCandidates(e,t,s){return e}notifyElevationSourceChange(){}}const r=1024;class c{constructor(t,s){this._elevationInfo=t,this._alignPointsInFeatures=s,this._alignmentsCache=new e(r),this._cacheVersion=0}async alignCandidates(e,t,s){const n=this._elevationInfo;return null==n||\"absolute-height\"!==n.mode||n.featureExpressionInfo?this._alignComputedElevationCandidates(e,t,s):(this._alignAbsoluteElevationCandidates(e,t,n),e)}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignAbsoluteElevationCandidates(e,t,s){const{offset:i,unit:a}=s;if(null==i)return;const r=n(t),c=i*(o(a??\"meters\")/r);for(const n of e)switch(n.type){case\"edge\":n.start.z+=c,n.end.z+=c;continue;case\"vertex\":n.target.z+=c;continue}}async _alignComputedElevationCandidates(e,n,o){const i=new Map;for(const s of e)t(i,s.objectId,d).push(s);const[a,r,c]=this._prepareQuery(i,n),l=await this._alignPointsInFeatures(a,o);s(o);if(c!==this._cacheVersion)return this._alignComputedElevationCandidates(e,n,o);this._applyCacheAndResponse(a,l,r);const{drapedObjectIds:h,failedObjectIds:u}=l,p=[];for(const t of e){const{objectId:e}=t;h.has(e)&&\"edge\"===t.type&&(t.draped=!0),u.has(e)||p.push(t)}return p}_prepareQuery(e,t){const s=[],n=[];for(const[o,i]of e){const e=[];for(const t of i)this._addToQueriesOrCachedResult(o,t.target,e,n),\"edge\"===t.type&&(this._addToQueriesOrCachedResult(o,t.start,e,n),this._addToQueriesOrCachedResult(o,t.end,e,n));0!==e.length&&s.push({objectId:o,points:e})}return[{spatialReference:t.toJSON(),pointsInFeatures:s},n,this._cacheVersion]}_addToQueriesOrCachedResult(e,t,s,n){const o=h(e,t),i=this._alignmentsCache.get(o);null==i?s.push(t):n.push(new l(t,i))}_applyCacheAndResponse(e,{elevations:t,drapedObjectIds:s,failedObjectIds:n},o){for(const r of o)r.apply();let i=0;const a=this._alignmentsCache;for(const{objectId:r,points:c}of e.pointsInFeatures){if(n.has(r)){i+=c.length;continue}const e=!s.has(r);for(const s of c){const n=h(r,s),o=t[i++];s.z=o,e&&a.put(n,o,1)}}}}class l{constructor(e,t){this.point=e,this.z=t}apply(){this.point.z=this.z}}function h(e,{x:t,y:s,z:n,spatialReference:o}){return`${e}-${t}-${s}-${n??0}}-wkid:${o?.wkid}`}function d(){return[]}export{i as getSnappingCandidateElevationAligner};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";class t{filter(t,n){return n}notifyElevationSourceChange(){}}class n{filter(t,n){const{point:r,distance:c}=t,{z:i}=r;if(!(null!=i))return n;if(0===n.length)return n;const o=s(c),u=this._updateCandidatesTo3D(n,r,o).filter(e);return u.sort(a),u}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case\"edge\":c(r,n,e);continue;case\"vertex\":o(r,n,e);continue}return t}}function e(t){return t.distance<=1}function r(e=!1){return e?new n:new t}function c(t,n,{x:e,y:r,z:c}){const{start:o,end:s,target:a}=t;t.draped||i(a,n,o,s);const u=(n.x-a.x)/e,d=(n.y-a.y)/r,f=(n.z-a.z)/c;t.distance=Math.sqrt(u*u+d*d+f*f)}function i(t,n,e,r){const c=r.x-e.x,i=r.y-e.y,o=r.z-e.z,s=c*c+i*i+o*o,a=(n.x-e.x)*c+(n.y-e.y)*i+o*(n.z-e.z),u=Math.min(1,Math.max(0,a/s)),d=e.x+c*u,f=e.y+i*u,x=e.z+o*u;t.x=d,t.y=f,t.z=x}function o(t,n,{x:e,y:r,z:c}){const{target:i}=t,o=(n.x-i.x)/e,s=(n.y-i.y)/r,a=(n.z-i.z)/c,u=Math.sqrt(o*o+s*s+a*a);t.distance=u}function s(t){return\"number\"==typeof t?{x:t,y:t,z:t}:t}function a(t,n){return t.distance-n.distance}export{r as getSnappingCandidateElevationFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{numericHash as o}from\"../../../../core/string.js\";function n(t=!1,e){return t?new i(e):new c}class c{async fetch(){return[]}notifySymbologyChange(){}}const r=1024;class i{constructor(t){this._getSymbologyCandidates=t,this._candidatesCache=new e(r),this._cacheVersion=0}async fetch(e,o){if(0===e.length)return[];const n=[],c=[],r=this._candidatesCache;for(const s of e){const e=a(s),o=r.get(e);if(o)for(const s of o)c.push(t(s));else n.push(s),r.put(e,[],1)}if(0===n.length)return c;const i=this._cacheVersion,{candidates:h,sourceCandidateIndices:d}=await this._getSymbologyCandidates(n,o);s(o);if(i!==this._cacheVersion)return this.fetch(e,o);const f=[],{length:g}=h;for(let s=0;s<g;++s){const e=h[s],o=a(n[d[s]]),c=r.get(o);c.push(e),r.put(o,c,c.length),f.push(t(e))}return c.concat(f)}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function a(t){switch(t.type){case\"vertex\":{const{objectId:e,target:s}=t,n=`${e}-vertex-${s.x}-${s.y}-${s.z??0}`;return o(n).toString()}case\"edge\":{const{objectId:e,start:s,end:n}=t,c=`${e}-edge-${s.x}-${s.y}-${s.z??0}-to-${n.x}-${n.y}-${n.z??0}`;return o(c).toString()}default:return\"\"}}export{n as getSymbologySnappingCandidatesFetcher};\n"],"names":["r","t","constructor","super","arguments","this","updating","_pending","push","s","promise","callback","length","_process","then","catch","shift","e","prototype","i","u","data","resolution","state","type","CREATED","alive","process","_gotoFetchCount","task","resume","FETCH_COUNT","FETCHED_COUNT","_gotoFetchFeatures","FETCH_FEATURES","FETCHED_FEATURES","_goToDone","DONE","debugInfo","featureCount","_featureCount","_stateToString","previous","features","a","async","fetchCount","_gotoFetchedCount","ok","value","E","fetchFeatures","_gotoFetchedFeatures","finish","reset","abort","intersects","extent","T","j","_minimumVerticesPerFeature","_this$store","store","featureStore","geometryType","_mandatoryOutFields","Set","objectIdField","add","globalIdField","outFields","_get","d","c","_set","h","refresh","_this$_get","filter","_filterProperties","JSON","stringify","customParameters","_configuration","tileInfo","tileSize","updatingExcludingEdits","_pendingEdits","_updatingHandles","hasZ","suspended","tilesOfInterest","availability","_pendingTiles","Map","g","_pendingEditsAbortController","AbortController","initialize","_initializeFetchExtent","_ref","_ref2","id","l","addHandles","destroy","forEach","_deletePendingTile","clear","applyEdits","addedFeatures","updatedFeatures","deletedFeatures","map","_ref3","objectId","globalId","_lookupObjectIdByGlobalId","addPromise","processEdits","_queryFeaturesById","signal","_processPendingTiles","capabilities","query","supportsExtent","url","_this$capabilities$qu","_t$data","I","S","where","outSpatialReference","spatialReference","cacheHint","supportsCacheHint","_","fromJSON","n","getLogger","warn","o","numberOfFeatures","numFeatures","pendingTiles","Array","from","values","storedTiles","_markTilesNotAlive","_createPendingTiles","_deletePendingTiles","_collectMissingTilesInfo","_setAvailability","coveredArea","fullArea","missingTiles","get","_createPendingTile","_verifyTileComplexity","prepend","_fetchCount","_fetchFeatures","_finishPendingTile","_ensureFetchAllCounts","getFeatureCount","_verifyVertexComplexity","_verifyFeatureDensity","q","A","H","C","_updateAvailability","set","delete","_createCountQuery","timeout","w","_createFeaturesQuery","_setPagingParameters","exceededTransferLimit","_queryFeatures","num","gdbVersion","timeExtent","Error","_r$objectId","attributes","concat","objectIds","supportsFormatPBF","_queryFeaturesPBF","_queryFeaturesJSON","sourceSpatialReference","v","P","F","O","b","_createBaseQuery","_e$data","undefined","getAttributesForTile","p","returnGeometry","supportsResultType","resultType","returnZ","returnM","geometry","m","supportsPagination","supportsMaxRecordCountFactor","tileMaxRecordCount","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","x","start","maxRecordCountFactor","Math","min","ceil","f","constructOnly","readOnly","y","_store","_byteSize","byteSize","_used","has","applyByteSizeLimit","Symbol","iterator","maximumByteSize","MEGABYTES","_tileBounds","_tiles","_refCounts","_tileFeatureCounts","_tmpBoundingRect","_s$0$attributes","_s$","_referenceFeature","upsertMany","Object","keys","reduce","_addTileStorage","lengths","coords","_removeTileStorage","_this$_tiles$get","attributeKeys","_processEditsDelete","_processEditsRefetch","size","_remove","_unreferenceFeature","REMOVED","removeManyById","hasM","forEachInBounds","_createTileTree","_simplify","_collectMissingTiles","_this$_tileFeatureCou","count","level","row","col","updateTileInfo","ExtrapolateOptions","POWER_OF_TWO","_this$_tiles$get2","_tilesAreRelated","_populateChildren","floor","isLeaf","children","_mergeChildren","_purge","_s","_forEachLeaf","_collectMissingTilesRecurse","info","addMissing","hasChildren","ADDED","UNCHANGED","test","tiles","featureReferences","_tileInfo","_extent","EventedAccessor","_isInitializing","remoteClient","_whenSetup","_elevationAligner","_elevationFilter","_symbologyCandidatesFetcher","_editsUpdatingHandles","_pendingApplyEdits","_alignPointsInFeatures","invoke","_getSymbologyCandidates","candidates","_spatialReference","toJSON","_featureFetcher","_this$_featureFetcher","_this$_queryEngine","_this$_featureStore","_queryEngine","_featureStore","setup","destroyed","result","timeInfo","fieldsIndex","serviceInfo","configuration","viewType","elevationInfo","alignPointsInFeatures","emit","_notifyUpdating","resolve","configure","_updateFeatureFetcherConfiguration","setSuspended","updateOutFields","fetchCandidates","_p$fromJSON","distance","units","spatialRel","executeQueryForSnapping","alignCandidates","point","WGS84","fetch","updateTiles","whenNotUpdating","getDebugInfo","beginApplyEdits","endApplyEdits","edits","notifyElevationSourceChange","notifySymbologyChange","setSymbologySnappingSupported","_elevationInfo","_alignmentsCache","_cacheVersion","mode","featureExpressionInfo","_alignComputedElevationCandidates","_alignAbsoluteElevationCandidates","offset","unit","z","end","target","_prepareQuery","_applyCacheAndResponse","drapedObjectIds","failedObjectIds","draped","_addToQueriesOrCachedResult","points","pointsInFeatures","elevations","apply","put","wkid","_updateCandidatesTo3D","sort","max","sqrt","_candidatesCache","sourceCandidateIndices","_s$z","toString","_s$z2","_n$z"],"sourceRoot":""}