(this["webpackJsonpok-wpa-maps"]=this["webpackJsonpok-wpa-maps"]||[]).push([[187],{1131:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return I}));var a=r(2),i=r(3),n=r(5),s=r(6),o=r(0),c=r(1),u=(r(12),r(15),r(11),r(8)),l=r(4),p=r.n(l),b=r(10),f=r(9),O=r(54),y=r(903),j=r(307),d=r(951),m=r(91),v=(r(76),r(80)),B=r(20),g=r(7),k=r(28),h=r(39),R=r(965),P=r(126),A=r(904),N=r(47),S=r(101),w=r(90);function x(e){return P.default.fromJSON(e).features.map((function(e){return e.geometry}))}var F=function(e){Object(n.a)(r,e);var t=Object(s.a)(r);function r(e){var i;return Object(a.a)(this,r),(i=t.call(this,e)).directions=null,i.facilities=null,i.incidents=null,i.messages=null,i.pointBarriers=null,i.polylineBarriers=null,i.polygonBarriers=null,i.routes=null,i}return Object(i.a)(r,[{key:"readFacilities",value:function(e){return x(e)}},{key:"readIncidents",value:function(e){return x(e)}},{key:"readPointBarriers",value:function(e,t){return x(t.barriers)}},{key:"readPolylineBarriers",value:function(e){return x(e)}},{key:"readPolygonBarriers",value:function(e){return x(e)}},{key:"readRoutes",value:function(e){return function(e){return e.features.map((function(t){var r=h.a.fromJSON(e.spatialReference),a=v.a.fromJSON(t);return Object(g.k)(a.geometry)&&(a.geometry.spatialReference=r),a}))}(e)}}]),r}(B.a);Object(o.a)([Object(c.b)({type:[R.a]})],F.prototype,"directions",void 0),Object(o.a)([Object(c.b)({type:[N.a]})],F.prototype,"facilities",void 0),Object(o.a)([Object(k.a)("facilities")],F.prototype,"readFacilities",null),Object(o.a)([Object(c.b)({type:[N.a]})],F.prototype,"incidents",void 0),Object(o.a)([Object(k.a)("incidents")],F.prototype,"readIncidents",null),Object(o.a)([Object(c.b)({type:[A.a]})],F.prototype,"messages",void 0),Object(o.a)([Object(c.b)({type:[N.a]})],F.prototype,"pointBarriers",void 0),Object(o.a)([Object(k.a)("pointBarriers",["barriers"])],F.prototype,"readPointBarriers",null),Object(o.a)([Object(c.b)({type:[S.a]})],F.prototype,"polylineBarriers",void 0),Object(o.a)([Object(k.a)("polylineBarriers")],F.prototype,"readPolylineBarriers",null),Object(o.a)([Object(c.b)({type:[w.a]})],F.prototype,"polygonBarriers",void 0),Object(o.a)([Object(k.a)("polygonBarriers")],F.prototype,"readPolygonBarriers",null),Object(o.a)([Object(c.b)({type:[v.a]})],F.prototype,"routes",void 0),Object(o.a)([Object(k.a)("routes")],F.prototype,"readRoutes",null);var J=F=Object(o.a)([Object(u.a)("esri.rest.support.ClosestFacilitySolveResult")],F),C=Object(y.a)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function T(){return(T=Object(f.a)(p.a.mark((function e(t,r,a){var i,n,s,o,c,u,l,f,y,v,B,g,k,h,R;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],n=[],s={},o={},c=Object(m.c)(t),u=c.path,r.incidents&&r.incidents.features&&Object(d.a)(r.incidents.features,n,"incidents.features",s),r.facilities&&r.facilities.features&&Object(d.a)(r.facilities.features,n,"facilities.features",s),r.pointBarriers&&r.pointBarriers.features&&Object(d.a)(r.pointBarriers.features,n,"pointBarriers.features",s),r.polylineBarriers&&r.polylineBarriers.features&&Object(d.a)(r.polylineBarriers.features,n,"polylineBarriers.features",s),r.polygonBarriers&&r.polygonBarriers.features&&Object(d.a)(r.polygonBarriers.features,n,"polygonBarriers.features",s),e.next=4,Object(j.a)(n);case 4:for(f in l=e.sent,s)y=s[f],i.push(f),o[f]=l.slice(y[0],y[1]);if(!Object(d.e)(o,i)){e.next=17;break}return v=null,e.prev=8,e.next=11,Object(d.c)(u,r.apiKey,a);case 11:v=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:v&&!v.hasZ&&Object(d.b)(o,i);case 17:for(g in B=function(e){o[e].forEach((function(t,a){r.get(e)[a].geometry=t}))},o)B(g);return k=Object(b.a)(Object(b.a)({},a),{},{query:Object(b.a)(Object(b.a)(Object(b.a)({},c.query),C.toQueryParams(r)),{},{f:"json"})}),e.next=22,Object(O.default)("".concat(u,"/solveClosestFacility"),k);case 22:return h=e.sent,R=h.data,e.abrupt("return",J.fromJSON(R));case 25:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}var q=function(e){Object(n.a)(r,e);var t=Object(s.a)(r);function r(e){var i;return Object(a.a)(this,r),(i=t.call(this,e)).url=null,i}return Object(i.a)(r,[{key:"solve",value:function(e,t){return function(e,t,r){return T.apply(this,arguments)}(this.url,e,t)}}]),r}(r(423).a);Object(o.a)([Object(c.b)()],q.prototype,"url",void 0);var I=q=Object(o.a)([Object(u.a)("esri.tasks.ClosestFacilityTask")],q)}}]);
//# sourceMappingURL=187.3c07e46d.chunk.js.map