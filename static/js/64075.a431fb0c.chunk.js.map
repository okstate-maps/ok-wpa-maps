{"version":3,"file":"static/js/64075.a431fb0c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/arcade/functions/knowledgegraph.js","../node_modules/@arcgis/core/arcade/portalUtils.js","../node_modules/@arcgis/core/rest/geometryService/project.js","../node_modules/@arcgis/core/rest/knowledgeGraph/Entity.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphNamedObject.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphObject.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphQuery.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryStreaming.js","../node_modules/@arcgis/core/rest/knowledgeGraph/ObjectValue.js","../node_modules/@arcgis/core/rest/knowledgeGraph/Path.js","../node_modules/@arcgis/core/rest/knowledgeGraph/Relationship.js","../node_modules/@arcgis/core/rest/support/ProjectParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import r from\"../ArcadePortal.js\";import t from\"../Dictionary.js\";import{ArcadeExecutionError as n}from\"../executionError.js\";import{B as o,u as a,o as i,J as s,K as p,e as l,f as c,g as f,n as u,h as m}from\"../../chunks/languageUtils.js\";import{getPortal as d}from\"../portalUtils.js\";import h from\"../../geometry/Geometry.js\";import{load as g,project as w,isLoaded as y}from\"../../geometry/projectionUtils.js\";import j from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as S,geographicToWebMercator as v}from\"../../geometry/support/webMercatorUtils.js\";import R from\"../../portal/Portal.js\";import G from\"../../portal/PortalItem.js\";import{project as x}from\"../../rest/geometryService/project.js\";import k from\"../../rest/knowledgeGraph/Entity.js\";import P from\"../../rest/knowledgeGraph/GraphQueryStreaming.js\";import b from\"../../rest/knowledgeGraph/ObjectValue.js\";import I from\"../../rest/knowledgeGraph/Path.js\";import W from\"../../rest/knowledgeGraph/Relationship.js\";import D from\"../../rest/support/ProjectParameters.js\";import{isString as T,isArray as U,isNumber as q,isDate as A}from\"../../support/guards.js\";let J=null;async function N(r){const t=e.geometryServiceUrl??\"\";if(!t){y()||await g();for(const e of r)e.container[e.indexer]=w(e.container[e.indexer],j.WGS84);return}const n=r.map(e=>e.container[e.indexer]),o=new D({geometries:n,outSpatialReference:j.WGS84}),a=await x(t,o);for(let e=0;e<a.length;e++){const t=r[e];t.container[t.indexer]=a[e]}}async function F(e,r){const t=new G({portal:e,id:r});return await t.load(),null===J&&(J=await import(\"../../rest/knowledgeGraphService.js\")),await J.fetchKnowledgeGraph(t.url)}function M(e,r,t,n,o){if(null===e)return null;if(T(e)||q(e))return e;if(l(e))return e.toJSDate();if(l(e))return e.toJSDate();if(c(e))return e.toStorageFormat();if(f(e))return e.toStorageString();if(u(e)){const a={};for(const i of e.keys())a[i]=M(e.field(i),r,t,n,o),a[i]instanceof h&&o.push({container:a,indexer:i});return a}if(U(e)){const a=e.map(e=>M(e,r,t,n,o));for(let e=0;e<a.length;e++)a[e]instanceof h&&o.push({container:a,indexer:e});return a}return m(e)?e.spatialReference.isWGS84?e:e.spatialReference.isWebMercator&&r?S(e):e:void 0}function Q(e,r){if(!e)return e;if(e.spatialReference.isWGS84&&r.spatialReference.isWebMercator)return v(e);if(e.spatialReference.equals(r.spatialReference))return e;throw new n(r,\"WrongSpatialReference\",null)}function B(e,r){if(!e)return null;const t={};for(const n in e)t[n]=E(e[n],r);return t}function E(e,r){return null===e?null:U(e)?e.map(e=>E(e,r)):e instanceof k?{graphTypeName:e.typeName,id:e.id,graphType:\"entity\",properties:B(e.properties,r)}:e instanceof b?{graphType:\"object\",properties:B(e.properties,r)}:e instanceof W?{graphTypeName:e.typeName,id:e.id,graphType:\"relationship\",originId:e.originId??null,destinationId:e.destinationId??null,properties:B(e.properties,r)}:e instanceof I?{graphType:\"path\",path:e.path?e.path.map(e=>E(e,r)):null}:m(e)?Q(e,r):T(e)||q(e)||A(e)?e:null}function K(e){\"async\"===e.mode&&(e.functions.knowledgegraphbyportalitem=function(t,i){return e.standardFunctionAsync(t,i,(e,s,p)=>{if(o(p,2,2,t,i),null===p[0])throw new n(t,\"PortalRequired\",i);if(p[0]instanceof r){const e=a(p[1]);let r;r=t.services?.portal?t.services.portal:R.getDefault();return F(d(p[0],r),e)}if(!1===T(p[0]))throw new n(t,\"InvalidParameter\",i);const l=a(p[0]);return F(t.services?.portal??R.getDefault(),l)})},e.signatures.push({name:\"knowledgegraphbyportalitem\",min:2,max:2}),e.functions.querygraph=function(r,a){return e.standardFunctionAsync(r,a,async(e,l,c)=>{o(c,2,4,r,a);const f=c[0];if(!i(f))throw new n(r,\"InvalidParameter\",a);const u=c[1];if(!T(u))throw new n(r,\"InvalidParameter\",a);null===J&&(J=await import(\"../../rest/knowledgeGraphService.js\"));let m=null;const d=s(c[2],null);if(!(d instanceof t||null===d))throw new n(r,\"InvalidParameter\",a);if(d){let e=[];m=M(d,!0,!1,r,e),e=e.filter(e=>!e.container[e.indexer].spatialReference.isWGS84),e.length>0&&await N(e)}const h=s(c[3],!1),g=new P({openCypherQuery:u,bindParameters:m,provenanceBehavior:h?\"include\":\"exclude\"});(f?.serviceDefinition?.currentVersion??11.3)>11.2&&(g.outputSpatialReference=r.spatialReference);const w=(await J.executeQueryStreaming(f,g)).resultRowsStream.getReader(),y=[];try{for(;;){const{done:e,value:t}=await w.read();if(e)break;if(U(t))for(const n of t)y.push(E(n,r));else{const e=[];for(const n of t)e.push(E(t[n],r));y.push(e)}}}catch(j){throw j}return t.convertJsonToArcade(y,p(r),!1,!0)})},e.signatures.push({name:\"querygraph\",min:2,max:4}))}export{K as registerFunctions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../portal/Portal.js\";function l(l,t){if(null===l)return t;return new r({url:l.field(\"url\")})}export{l as getPortal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{ensureType as o}from\"../../core/accessorSupport/ensureType.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{parseUrl as e,asValidOptions as s}from\"../utils.js\";import{decodeGeometries as p}from\"./utils.js\";import m from\"../support/ProjectParameters.js\";const i=o(m);async function n(o,m,n){m=i(m);const u=e(o),c={...u.query,f:\"json\",...m.toJSON()},j=m.outSpatialReference,a=t(m.geometries[0]),f=s(c,n);return r(u.path+\"/project\",f).then(({data:{geometries:r}})=>p(r,a,j))}export{n as project};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../../geometry/Point.js\";import s from\"./GraphNamedObject.js\";let p=class extends s{constructor(o){super(o),this.layoutGeometry=null}};o([r({type:e,json:{write:!0}})],p.prototype,\"layoutGeometry\",void 0),p=o([t(\"esri.rest.knowledgeGraph.Entity\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./GraphObject.js\";let s=class extends e{constructor(r){super(r),this.typeName=null,this.id=null}};r([o({type:String,json:{write:!0}})],s.prototype,\"typeName\",void 0),r([o({type:String,json:{write:!0}})],s.prototype,\"id\",void 0),s=r([t(\"esri.rest.knowledgeGraph.GraphNamedObject\")],s);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.properties=null}};r([e({json:{write:!0}})],t.prototype,\"properties\",void 0),t=r([s(\"esri.rest.knowledgeGraph.GraphObject\")],t);export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import o from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends o{constructor(r){super(r),this.openCypherQuery=\"\"}};r([e()],p.prototype,\"openCypherQuery\",void 0),p=r([s(\"esri.rest.knowledgeGraph.GraphQuery\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../geometry/SpatialReference.js\";import a from\"./GraphQuery.js\";let p=class extends a{constructor(r){super(r),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};r([e()],p.prototype,\"bindParameters\",void 0),r([e()],p.prototype,\"bindGeometryQuantizationParameters\",void 0),r([e()],p.prototype,\"outputQuantizationParameters\",void 0),r([e({type:o})],p.prototype,\"outputSpatialReference\",void 0),r([e()],p.prototype,\"provenanceBehavior\",void 0),p=r([t(\"esri.rest.knowledgeGraph.GraphQueryStreaming\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./GraphObject.js\";let e=class extends s{constructor(r){super(r)}};e=r([o(\"esri.rest.knowledgeGraph.ObjectValue\")],e);export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./GraphObject.js\";let p=class extends o{constructor(r){super(r),this.path=[]}};r([t({type:[e],json:{write:!0}})],p.prototype,\"path\",void 0),p=r([s(\"esri.rest.knowledgeGraph.Path\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../../geometry/Polyline.js\";import s from\"./GraphNamedObject.js\";let i=class extends s{constructor(o){super(o),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};o([r({type:String,json:{write:!0}})],i.prototype,\"originId\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"destinationId\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"layoutGeometry\",void 0),i=o([t(\"esri.rest.knowledgeGraph.Relationship\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/SpatialReference.js\";import{getJsonType as i}from\"../../geometry/support/jsonUtils.js\";import{srToRESTValue as a}from\"../../geometry/support/spatialReferenceUtils.js\";let p=class extends o{constructor(r){super(r),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map(r=>r.toJSON()),o=this.geometries[0],t={};return t.outSR=a(this.outSpatialReference),t.inSR=a(o.spatialReference),t.geometries=JSON.stringify({geometryType:i(o),geometries:r}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}};r([t()],p.prototype,\"geometries\",void 0),r([t({type:s,json:{read:{source:\"outSR\"}}})],p.prototype,\"outSpatialReference\",void 0),r([t()],p.prototype,\"transformation\",void 0),r([t()],p.prototype,\"transformForward\",void 0),p=r([e(\"esri.rest.support.ProjectParameters\")],p);export{p as default};\n"],"names":["J","async","F","e","r","t","G","portal","id","load","fetchKnowledgeGraph","url","M","n","o","T","q","l","toJSDate","c","toStorageFormat","f","toStorageString","u","a","i","keys","field","h","push","container","indexer","U","map","length","m","spatialReference","isWGS84","isWebMercator","S","B","E","_e$originId","_e$destinationId","k","graphTypeName","typeName","graphType","properties","b","W","originId","destinationId","I","path","v","equals","Q","A","K","mode","functions","knowledgegraphbyportalitem","standardFunctionAsync","s","p","_t$services$portal","_t$services2","_t$services","services","R","getDefault","d","signatures","name","min","max","querygraph","_f$serviceDefinition$","_f$serviceDefinition","filter","_e$geometryServiceUrl","geometryServiceUrl","y","g","w","j","WGS84","D","geometries","outSpatialReference","x","N","P","openCypherQuery","bindParameters","provenanceBehavior","serviceDefinition","currentVersion","outputSpatialReference","executeQueryStreaming","resultRowsStream","getReader","done","value","read","convertJsonToArcade","_objectSpread","query","toJSON","then","_ref","data","constructor","super","this","layoutGeometry","type","json","write","prototype","String","bindGeometryQuantizationParameters","outputQuantizationParameters","transformation","transformForward","outSR","inSR","JSON","stringify","geometryType","wkid","source"],"sourceRoot":""}