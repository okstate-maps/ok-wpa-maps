{"version":3,"file":"static/js/49553.2fbb289a.chunk.js","mappings":"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","sources":["../node_modules/src/.internal/core/util/Draw.ts","../node_modules/src/.internal/core/render/Line.ts","../node_modules/src/.internal/core/render/Tick.ts","../node_modules/d3-shape/src/constant.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/path.js","../node_modules/src/.internal/core/util/Data.ts","../node_modules/src/.internal/core/render/Component.ts","../node_modules/src/.internal/core/render/Chart.ts","../node_modules/src/.internal/core/render/SerialChart.ts","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/src/.internal/core/util/ColorSet.ts","../node_modules/src/.internal/core/util/Time.ts","../node_modules/src/.internal/core/render/Series.ts"],"sourcesContent":["/** @ignore *//** */\n\nimport type { IPoint } from \"./IPoint\"\nimport * as $math from \"./Math\";\nimport type { IGraphics } from \"../render/backend/Renderer\";\n\n/**\n * @ignore\n */\nexport function segmentedLine(display: IGraphics, segments: Array<Array<Array<IPoint>>>) {\n\tfor (let s = 0, len = segments.length; s < len; s++) {\n\t\tconst groups = segments[s];\n\t\tif (groups.length > 0) {\n\t\t\tlet firstGroup = groups[0];\n\t\t\tif (firstGroup.length > 0) {\n\t\t\t\tlet firstPoint = firstGroup[0];\n\t\t\t\tdisplay.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tfor (let g = 0, len = groups.length; g < len; g++) {\n\t\t\t\t\tline(display, groups[g]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function line(display: IGraphics, points: Array<IPoint>) {\n\tfor (let p = 0, len = points.length; p < len; p++) {\n\t\tconst point = points[p];\n\t\tdisplay.lineTo(point.x, point.y);\n\t}\n}\n\n/**\n * @ignore\n */\nexport function moveTo(display: IGraphics, point: IPoint) {\n\tdisplay.moveTo(point.x, point.y);\n}\n\n/**\n * @ignore\n */\nexport function clear(display: IGraphics) {\n\tdisplay.clear();\n}\n\n/**\n * @ignore\n */\nexport function smoothedSegmentedline(display: IGraphics, segments: Array<Array<Array<IPoint>>>, tensionX: number, tensionY: number) {\n\tfor (let s = 0, len = segments.length; s < len; s++) {\n\t\tconst groups = segments[s];\n\t\tif (groups.length > 0) {\n\t\t\tlet firstGroup = groups[0];\n\t\t\tif (firstGroup.length > 0) {\n\t\t\t\tlet firstPoint = firstGroup[0];\n\t\t\t\tdisplay.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tfor (let g = 0, len = groups.length; g < len; g++) {\n\t\t\t\t\tconst points = groups[g];\n\t\t\t\t\tif (points.length > 0) {\n\t\t\t\t\t\tdisplay.lineTo(points[0].x, points[0].y)\n\t\t\t\t\t}\n\t\t\t\t\tsmoothedLine(display, points, tensionX, tensionY);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function smoothedLine(display: IGraphics, points: Array<IPoint>, tensionX: number, tensionY: number) {\n\n\tfor (let i = points.length - 1; i > 0; i--) {\n\t\tlet p0 = points[i];\n\t\tlet p1 = points[i - 1];\n\n\t\tif (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\n\t\t\tpoints.splice(i - 1, 1);\n\t\t}\n\t}\n\n\tif (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\n\t\tline(display, points);\n\t\treturn;\n\t}\n\n\ttensionX = 1 - tensionX + 0.00001;\n\ttensionY = 1 - tensionY + 0.00001;\n\n\tlet first = points[0];\n\tlet last = points[points.length - 1];\n\n\tlet closed: boolean = false;\n\n\tif ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\n\t\tclosed = true;\n\t}\n\n\t// Can't moveTo here, as it wont be possible to have fill then.\n\tlet path: string = \"\";\n\n\tfor (let i = 0, len = points.length - 1; i < len; i++) {\n\t\tlet p0: IPoint = points[i - 1];\n\n\t\tlet p1: IPoint = points[i];\n\n\t\tlet p2: IPoint = points[i + 1];\n\n\t\tlet p3: IPoint = points[i + 2];\n\n\t\tif (i === 0) {\n\t\t\tif (closed) {\n\t\t\t\tp0 = points[len - 2];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp0 = points[0];\n\t\t\t}\n\t\t} else if (i == len - 1) {\n\t\t\tif (closed) {\n\t\t\t\tp3 = points[1];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp3 = p2;\n\t\t\t}\n\t\t}\n\n\n\t\tlet controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\n\t\tlet controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\n\n\t\tdisplay.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\n\t}\n\n\treturn path;\n}\n","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\nimport type { IPoint } from \"../util/IPoint\";\nimport * as $draw from \"../util/Draw\";\n\nexport interface ILineSettings extends IGraphicsSettings {\n\n\t/**\n\t * A list of [[IPoint]] (x/y coordinates) points for the line.\n\t */\n\tpoints?: Array<IPoint>;\n\n\t/**\n\t * A list of [[IPoint]] arrays for different segments of the line.\n\t * \n\t * @since 5.1.4\n\t */\n\tsegments?: Array<Array<Array<IPoint>>>;\n}\n\nexport interface ILinePrivate extends IGraphicsPrivate {\n}\n\n/**\n * Draws a line.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class Line extends Graphics {\n\n\tdeclare public _settings: ILineSettings;\n\tdeclare public _privateSettings: ILinePrivate;\n\n\tpublic static className: string = \"Line\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Line.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear) {\n\n\t\t\tconst points = this.get(\"points\");\n\t\t\tconst segments = this.get(\"segments\");\n\n\t\t\tif (points && points.length > 0) {\n\t\t\t\tlet point = points[0];\n\n\t\t\t\tthis._display.moveTo(point.x, point.y);\n\t\t\t\t$draw.segmentedLine(this._display, [[points]]);\n\t\t\t}\n\t\t\telse if (segments) {\n\t\t\t\t$draw.segmentedLine(this._display, segments);\n\t\t\t}\n\t\t\telse if (!this.get(\"draw\")) {\n\t\t\t\tlet w = this.width();\n\t\t\t\tlet h = this.height();\n\n\t\t\t\tthis._display.moveTo(0, 0);\n\t\t\t\tthis._display.lineTo(w, h);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Line, ILineSettings, ILinePrivate } from \"./Line\";\n\n\nexport interface ITickSettings extends ILineSettings {\n\n\t/**\n\t * Length in pixels.\n\t */\n\tlength?: number;\n\n\t/**\n\t * Location within target space. 0 - beginning, 1 - end.\n\t */\n\tlocation?: number;\n\n}\n\nexport interface ITickPrivate extends ILinePrivate {\n}\n\n/**\n * Draws a tick element (mostly used on axes).\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n */\nexport class Tick extends Line {\n\n\tdeclare public _settings: ITickSettings;\n\tdeclare public _privateSettings: ITickPrivate;\n\n\tpublic static className: string = \"Tick\";\n\tpublic static classNames: Array<string> = Line.classNames.concat([Tick.className]);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import type { ICounterRef } from \"./Counter\";\nimport { List } from \"./List\";\nimport type { DataProcessor } from \"./DataProcessor\";\n\n/**\n * Defines interface for a [[List]] with a data processor.\n */\nexport interface IDataWithProcessor {\n\n\t/**\n\t * An optional processor for data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\n\t */\n\tprocessor?: DataProcessor;\n\n}\n\n/**\n * A [[List]] that holds components data.\n * \n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\n */\nexport class ListData<T> extends List<T> implements ICounterRef, IDataWithProcessor {\n\n\t/**\n\t * @ignore\n\t */\n\tpublic incrementRef(): void { }\n\n\t/**\n\t * @ignore\n\t */\n\tpublic decrementRef(): void { }\n\n\t/**\n\t * An optional processor for data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\n\t */\n\tpublic processor?: DataProcessor;\n\n\tprotected _onPush(newValue: T) {\n\t\tif (this.processor) {\n\t\t\tthis.processor.processRow(newValue);\n\t\t}\n\t\tsuper._onPush(newValue);\n\t}\n\n\tprotected _onInsertIndex(index: number, newValue: T) {\n\t\tif (this.processor) {\n\t\t\tthis.processor.processRow(newValue);\n\t\t}\n\t\tsuper._onInsertIndex(index, newValue);\n\t}\n\n\tprotected _onSetIndex(index: number, oldValue: T, newValue: T) {\n\t\tif (this.processor) {\n\t\t\tthis.processor.processRow(newValue);\n\t\t}\n\t\tsuper._onSetIndex(index, oldValue, newValue);\n\t}\n}\n\n/**\n * @deprecated\n * @todo remove\n */\nexport class JsonData<T> implements ICounterRef, IDataWithProcessor {\n\tpublic incrementRef(): void { }\n\tpublic decrementRef(): void { }\n\n\tpublic processor?: DataProcessor;\n\tprotected _value: T;\n\n\tconstructor(value: T) {\n\t\tthis._value = value;\n\t}\n\n\t// TODO: how do we go about calling processor here?\n\n}\n","import { Settings } from \"../util/Entity\";\nimport { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"./Container\";\nimport { ListData } from \"../util/Data\";\nimport * as $array from \"../util/Array\";\nimport * as $object from \"../util/Object\";\nimport type * as $ease from \"../util/Ease\";\nimport type { Bullet } from \"./Bullet\";\n\n/**\n * A base element that holds data bit (data item) for any [[Component]].\n */\nexport class DataItem<P extends IComponentDataItem> extends Settings {\n\tdeclare public _settings: P;\n\n\t/**\n\t * A data item's owener [[Component]].\n\t */\n\tpublic component: Component;\n\n\t/**\n\t * A reference to actual item in source data this item is based on.\n\t */\n\tpublic dataContext: unknown;\n\n\t/**\n\t * @todo requires description\n\t */\n\tpublic bullets: Array<Bullet> | undefined;\n\n\t/**\n\t * A set of \"open\" values.\n\t */\n\tpublic open: { [index: string]: any } | undefined;\n\n\t/**\n\t * A set of \"close\" values.\n\t */\n\tpublic close: { [index: string]: any } | undefined;\n\n\tconstructor(component: Component, dataContext: unknown, settings: P) {\n\t\tsuper(settings);\n\n\t\tthis.dataContext = dataContext;\n\t\tthis.component = component;\n\t\tthis._settings.visible = true;\n\t\tthis._checkDirty();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirty(): void {\n\t\tthis.component.markDirtyValues(this);\n\t}\n\n\tpublic _startAnimation(): void {\n\t\tthis.component._root._addAnimation(this);\n\t}\n\n\tprotected _animationTime(): number | null {\n\t\treturn this.component._root.animationTime;\n\t}\n\n\tprotected _dispose() {\n\t\tif (this.component) {\n\t\t\tthis.component.disposeDataItem(this);\n\t\t}\n\t\tsuper._dispose();\n\t}\n\n\t/**\n\t * Shows a data item that's currently hidden.\n\t */\n\tpublic show(duration?: number) {\n\t\tthis.setRaw(\"visible\", true);\n\t\tif (this.component) {\n\t\t\tthis.component.showDataItem(this, duration);\n\t\t}\n\t}\n\n\t/**\n\t * Hides a data item that's currently visible.\n\t */\n\tpublic hide(duration?: number) {\n\t\tthis.setRaw(\"visible\", false);\n\t\tif (this.component) {\n\t\t\tthis.component.hideDataItem(this, duration);\n\t\t}\n\t}\n\n\tpublic isHidden() {\n\t\treturn !this.get(\"visible\");\n\t}\n}\n\n\nexport interface IComponentDataItem {\n\tvisible?: boolean;\n}\n\nexport interface IComponentSettings extends IContainerSettings {\n\n\t/**\n\t * A duration of the animation from one setting value to another, in\n\t * milliseconds.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_data_values} for more info\n\t */\n\tinterpolationDuration?: number;\n\n\t/**\n\t * Easing function to use for cross setting value animations.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Easing_functions} for more info\n\t */\n\tinterpolationEasing?: $ease.Easing;\n\n}\n\nexport interface IComponentPrivate extends IContainerPrivate {\n}\n\nexport interface IComponentEvents extends IContainerEvents {\n\tdatavalidated: {}\n\tvalueschanged: {}\n}\n\n/**\n * A base class for elements that make use of data.\n */\nexport abstract class Component extends Container {\n\tpublic static className: string = \"Component\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Component.className]);\n\n\tdeclare public _settings: IComponentSettings;\n\tdeclare public _privateSettings: IComponentPrivate;\n\tdeclare public _dataItemSettings: IComponentDataItem;\n\tdeclare public _events: IComponentEvents;\n\n\tprotected _data: ListData<unknown> = new ListData();\n\n\tprotected _dataItems: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\n\tpublic _mainDataItems = this._dataItems;\n\n\tprotected valueFields: Array<string> = [];\n\tprotected fields: Array<string> = [\"id\"];\n\n\tprotected _valueFields!: Array<string>;\n\tprotected _valueFieldsF!: { [index: string]: { fieldKey: string, workingKey: string } };\n\n\tprotected _fields!: Array<string>;\n\tprotected _fieldsF!: { [index: string]: string };\n\n\tpublic _valuesDirty: boolean = false;\n\n\tprotected _dataChanged: boolean = false;\n\n\tprotected _dataGrouped = false;\n\n\t/**\n\t * Indicates if the component has already been initialized.\n\t */\n\tpublic inited: boolean = false;\n\n\t/**\n\t * Component's data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\n\t */\n\tpublic set data(data: ListData<unknown>) {\n\t\tdata.incrementRef();\n\t\tthis._data.decrementRef();\n\t\tthis._data = data;\n\t}\n\n\t/**\n\t * @return  Data\n\t */\n\tpublic get data(): ListData<unknown> {\n\t\treturn this._data;\n\t}\n\n\tprotected _dispose() {\n\t\tsuper._dispose();\n\t\tthis._data.decrementRef();\n\t}\n\n\tprotected _onDataClear() {\n\n\t}\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._data.incrementRef();\n\t\tthis._updateFields();\n\n\t\tthis._disposers.push(this.data.events.onAll((change) => {\n\t\t\tconst dataItems = this._mainDataItems;\n\t\t\tthis.markDirtyValues();\n\t\t\tthis._markDirtyGroup();\n\t\t\tthis._dataChanged = true;\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(dataItems, (dataItem) => {\n\t\t\t\t\tdataItem.dispose();\n\t\t\t\t});\n\n\t\t\t\tdataItems.length = 0;\n\t\t\t\tthis._onDataClear();\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tconst dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\n\t\t\t\tdataItems.push(dataItem);\n\t\t\t\tthis.processDataItem(dataItem);\n\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.index];\n\t\t\t\tconst properties = this._makeDataItem(change.newValue);\n\t\t\t\tif (dataItem.bullets && dataItem.bullets.length == 0) {\n\t\t\t\t\tdataItem.bullets = undefined;\n\t\t\t\t}\n\n\t\t\t\t$object.keys(properties).forEach((key) => {\n\t\t\t\t\tdataItem.animate({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\tto: properties[key],\n\t\t\t\t\t\tduration: this.get(\"interpolationDuration\", 0),\n\t\t\t\t\t\teasing: this.get(\"interpolationEasing\"),\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdataItem.dataContext = change.newValue;\n\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tconst dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\n\t\t\t\tdataItems.splice(change.index, 0, dataItem);\n\t\t\t\tthis.processDataItem(dataItem);\n\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.index];\n\t\t\t\tdataItem.dispose();\n\t\t\t\tdataItems.splice(change.index, 1);\n\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.oldIndex];\n\t\t\t\tdataItems.splice(change.oldIndex, 1);\n\t\t\t\tdataItems.splice(change.newIndex, 0, dataItem);\n\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IStreamEvent type\");\n\t\t\t}\n\n\t\t\tthis._afterDataChange();\n\t\t}));\n\t}\n\n\tprotected _updateFields() {\n\t\tif (this.valueFields) {\n\t\t\tthis._valueFields = [];\n\t\t\tthis._valueFieldsF = {};\n\n\t\t\t$array.each(this.valueFields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._valueFields.push(<any>key);\n\t\t\t\t\tthis._valueFieldsF[key as string] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.fields) {\n\t\t\tthis._fields = [];\n\t\t\tthis._fieldsF = {};\n\n\t\t\t$array.each(this.fields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._fields.push(<any>key);\n\t\t\t\t\tthis._fieldsF[key as string] = key + \"Field\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * A list of component's data items.\n\t *\n\t * @return  Data items\n\t */\n\tpublic get dataItems(): Array<DataItem<this[\"_dataItemSettings\"]>> {\n\t\treturn this._dataItems;\n\t}\n\n\tprotected processDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) { }\n\n\n\tpublic _makeDataItem(data: unknown): this[\"_dataItemSettings\"] {\n\t\t//const output: this[\"_dataItemSettings\"] = {};\n\t\tconst output: any = {}; // temporary to solve error\n\t\tif (this._valueFields) {\n\t\t\t$array.each(this._valueFields, (key) => {\n\t\t\t\tconst field = this.get(<any>(this._valueFieldsF[key].fieldKey));\n\t\t\t\toutput[key] = (data as any)[field];\n\n\t\t\t\toutput[this._valueFieldsF[key].workingKey] = output[key];\n\t\t\t});\n\t\t}\n\t\tif (this._fields) {\n\t\t\t$array.each(this._fields, (key) => {\n\t\t\t\tconst field = this.get(<any>(this._fieldsF[key]));\n\t\t\t\toutput[key] = (data as any)[field];\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a new data item and processes it.\n\t * \n\t * @param   data         Data item settings\n\t * @param   dataContext  Data context\n\t * @return               New data item\n\t */\n\tpublic makeDataItem(data: this[\"_dataItemSettings\"], dataContext?: any): DataItem<this[\"_dataItemSettings\"]> {\n\t\tlet dataItem = new DataItem(this, dataContext, data);\n\t\tthis.processDataItem(dataItem);\n\t\treturn dataItem;\n\t}\n\n\t/**\n\t * Adds new explicit data item to series.\n\t * \n\t * @param   data         Data item settings\n\t * @param   dataContext  Data context\n\t * @return               New data item\n\t */\n\tpublic pushDataItem(data: this[\"_dataItemSettings\"], dataContext?: any): DataItem<this[\"_dataItemSettings\"]> {\n\t\tconst dataItem = this.makeDataItem(data, dataContext);\n\t\tthis._mainDataItems.push(dataItem);\n\t\treturn dataItem;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t}\n\n\t/**\n\t * Shows component's data item.\n\t *\n\t * @param   dataItem   Data item\n\t * @param   _duration  Animation duration in milliseconds\n\t * @return             Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, _duration?: number): Promise<void> {\n\t\tdataItem.set(\"visible\", true);\n\t}\n\n\t/**\n\t * Hides component's data item.\n\t *\n\t * @param   dataItem   Data item\n\t * @param   _duration  Animation duration in milliseconds\n\t * @return             Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, _duration?: number): Promise<void> {\n\t\tdataItem.set(\"visible\", false);\n\t}\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._valuesDirty = false;\n\t}\n\n\tprotected _afterDataChange() {\n\n\t}\n\n\tpublic _afterChanged() {\n\t\tsuper._afterChanged();\n\t\tif (this._dataChanged) {\n\t\t\tconst type = \"datavalidated\";\n\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this });\n\t\t\t}\n\t\t\tthis._dataChanged = false;\n\t\t}\n\n\t\tif (this._valuesDirty){\n\t\t\tconst type = \"valueschanged\";\n\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this });\n\t\t\t}\n\t\t}\n\n\t\tthis.inited = true;\n\t}\n\n\t/**\n\t * Forces a repaint of the element which relies on data.\n\t *\n\t * @since 5.0.21\n\t */\n\tpublic markDirtyValues(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tthis.markDirty();\n\t\tthis._valuesDirty = true;\n\t}\n\n\tpublic _markDirtyGroup() {\n\t\tthis._dataGrouped = false;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtySize() {\n\t\tthis._sizeDirty = true;\n\t\tthis.markDirty();\n\t}\n\n\t/**\n\t * Looks up and returns a data item by its ID.\n\t *\n\t * @param   id  ID\n\t * @return      Data item\n\t */\n\tpublic getDataItemById(id: string): DataItem<this[\"_dataItemSettings\"]> | undefined {\n\t\treturn $array.find(this.dataItems, (dataItem: any) => {\n\t\t\treturn dataItem.get(\"id\") == id;\n\t\t})\n\t}\t\n}\n","import { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"../../core/render/Container\";\nimport { p100 } from \"../../core/util/Percent\";\n\nexport interface IChartSettings extends IContainerSettings {\n}\n\nexport interface IChartPrivate extends IContainerPrivate {\n}\n\nexport interface IChartEvents extends IContainerEvents {\n}\n\n/**\n * A base class for all charts.\n */\nexport abstract class Chart extends Container {\n\tpublic static className: string = \"Chart\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Chart.className]);\n\n\tdeclare public _settings: IChartSettings;\n\tdeclare public _privateSettings: IChartPrivate;\n\tdeclare public _events: IChartEvents;\n\n\t/**\n\t * A [[Container]] chart places its elements in.\n\t * \n\t * @default Container.new()\n\t */\n\tpublic readonly chartContainer: Container = this.children.push(Container.new(this._root, { width: p100, height: p100, interactiveChildren: false }));\n\n\t/**\n\t * A [[Container]] chart places its bullets in.\n\t * \n\t * @default Container.new()\n\t */\n\tpublic readonly bulletsContainer: Container = Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 });\n\n}","import { Chart, IChartSettings, IChartPrivate, IChartEvents } from \"./Chart\";\nimport { Container } from \"../../core/render/Container\";\nimport { ListAutoDispose } from \"../../core/util/List\";\nimport { p100 } from \"../../core/util/Percent\";\n\nimport type { ColorSet } from \"../../core/util/ColorSet\";\nimport type { PatternSet } from \"../../core/util/PatternSet\";\nimport type { Series } from \"./Series\";\n\nimport * as $array from \"../../core/util/Array\";\n\nexport interface ISerialChartSettings extends IChartSettings {\n\n\t/**\n\t * A [[ColorSet]] to use when asigning colors for series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tcolors?: ColorSet;\n\n\t/**\n\t * A [[PatternSet]] to use when asigning patterns for series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/#Pattern_sets} for more info\n\t * @since 5.10.0\n\t */\n\tpatterns?: PatternSet;\n\n}\n\nexport interface ISerialChartPrivate extends IChartPrivate {\n}\n\nexport interface ISerialChartEvents extends IChartEvents {\n}\n\n/**\n * A base class for all series-based charts.\n */\nexport abstract class SerialChart extends Chart {\n\tpublic static className: string = \"SerialChart\";\n\tpublic static classNames: Array<string> = Chart.classNames.concat([SerialChart.className]);\n\n\tdeclare public _settings: ISerialChartSettings;\n\tdeclare public _privateSettings: ISerialChartPrivate;\n\tdeclare public _seriesType: Series;\n\tdeclare public _events: ISerialChartEvents;\n\n\t/**\n\t * A [[Container]] where chart will store all series.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly seriesContainer: Container = Container.new(this._root, { width: p100, height: p100, isMeasured: false });\n\n\t/**\n\t * A list of chart's series.\n\t */\n\tpublic readonly series: ListAutoDispose<this[\"_seriesType\"]> = new ListAutoDispose();\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._disposers.push(this.series);\n\n\t\tconst children = this.seriesContainer.children;\n\n\t\tthis._disposers.push(this.series.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (series) => {\n\t\t\t\t\tthis._removeSeries(series);\n\t\t\t\t})\n\t\t\t\tconst colors = this.get(\"colors\");\n\t\t\t\tif (colors) {\n\t\t\t\t\tcolors.reset();\n\t\t\t\t}\n\n\t\t\t\tconst patterns = this.get(\"patterns\");\n\t\t\t\tif (patterns) {\n\t\t\t\t\tpatterns.reset();\n\t\t\t\t}\n\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tchildren.moveValue(change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tchildren.setIndex(change.index, change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tchildren.insertIndex(change.index, change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._removeSeries(change.oldValue);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tchildren.moveValue(change.value, change.newIndex);\n\t\t\t\tthis._processSeries(change.value);\n\t\t\t} else if (change.type === \"swap\") {\n\t\t\t\tconst a = change.a;\n\t\t\t\tconst b = change.b;\n\t\t\t\tconst aIndex = this.series.indexOf(a);\n\t\t\t\tconst bIndex = this.series.indexOf(b);\n\t\t\t\tchildren.moveValue(a, bIndex);\n\t\t\t\tchildren.moveValue(b, aIndex);\n\n\t\t\t\tthis.series.each((series) => {\n\t\t\t\t\tthis._processSeries(series);\n\t\t\t\t\tseries.markDirtyValues();\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected _processSeries(series: this[\"_seriesType\"]) {\n\t\tseries.chart = this;\n\t\tseries._placeBulletsContainer(this);\n\t}\n\n\tprotected _removeSeries(series: this[\"_seriesType\"]) {\n\t\tseries._handleRemoved();\n\t\tif (!series.isDisposed()) {\n\t\t\tthis.seriesContainer.children.removeValue(series);\n\t\t\tseries._removeBulletsContainer();\n\t\t}\n\t}\n}\n","function _taggedTemplateLiteral(e, t) {\n  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {\n    raw: {\n      value: Object.freeze(t)\n    }\n  }));\n}\nexport { _taggedTemplateLiteral as default };","import { Entity, IEntitySettings, IEntityPrivate } from \"./Entity\";\nimport { Color } from \"./Color\";\n\n\nexport interface IColorSetSettings extends IEntitySettings {\n\n\t/**\n\t * List of colors in the set.\n\t */\n\tcolors?: Color[];\n\n\t/**\n\t * A step size when using `next()`.\n\t *\n\t * E.g. setting to `2` will make it return every second color in the list.\n\t *\n\t * @default 1\n\t */\n\tstep?: number;\n\n\t/**\n\t * Start iterating colors from specific index.\n\t */\n\tstartIndex?: number;\n\n\t/**\n\t * If set to `true`, color set will reuse existing colors from the list\n\t * inestead of generating new ones.\n\t *\n\t * @default false\n\t */\n\treuse?: boolean;\n\n\t/**\n\t * A base color to generate new colors from if `colors` is not specified.\n\t * @type {[type]}\n\t */\n\tbaseColor?: Color;\n\n\t/**\n\t * A set of tranformation to apply to base list of colors when the set runs\n\t * out of colors and generates additional ones.\n\t */\n\tpassOptions?: IColorSetStepOptions;\n\n\t/**\n\t * If set, each returned color will be applied saturation.\n\t */\n\tsaturation?: number;\n\n\t// count?: number;\n}\n\nexport interface IColorSetPrivate extends IEntityPrivate {\n\n\tcurrentStep?: number;\n\tcurrentPass?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tnumColors?: number;\n\n}\n\nexport interface IColorSetStepOptions {\n\n\t/**\n\t * Value to add to \"hue\".\n\t */\n\thue?: number;\n\n\t/**\n\t * Value to add to \"saturation\".\n\t */\n\tsaturation?: number;\n\n\t/**\n\t * Value to add to \"lightness\".\n\t */\n\tlightness?: number;\n\n}\n\n\n/**\n * An object which holds list of colors and can generate new ones.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\n */\nexport class ColorSet extends Entity {\n\tpublic static className: string = \"ColorSet\";\n\tpublic static classNames: Array<string> = Entity.classNames.concat([ColorSet.className]);\n\n\tdeclare public _settings: IColorSetSettings;\n\tdeclare public _privateSettings: IColorSetPrivate;\n\n\t//protected _currentPass: number = 0;\n\n\tprotected _afterNew() {\n\t\t// Applying themes because color set will not have parent\n\t\tsuper._afterNewApplyThemes();\n\t\tthis._dirty[\"colors\"] = false;\n\t}\n\n\tpublic _beforeChanged(): void {\n\t\tif (this.isDirty(\"colors\")) {\n\t\t\tthis.reset();\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic generateColors(): void {\n\t\tthis.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1)\n\t\tconst pass = this.getPrivate(\"currentPass\");\n\t\tconst colors = this.get(\"colors\", [this.get(\"baseColor\", Color.fromHex(0xff0000))]);\n\t\tif (!this.getPrivate(\"numColors\")) {\n\t\t\tthis.setPrivate(\"numColors\", colors.length);\n\t\t}\n\t\t//const len = colors.length;\n\t\tconst len = this.getPrivate(\"numColors\")!;\n\t\t//const start = len - this.getPrivate(\"numColors\")!;\n\t\tconst start = 0;\n\t\tconst passOptions = this.get(\"passOptions\")!;\n\t\tconst reuse = this.get(\"reuse\");\n\t\tfor (let i = start; i < len; i++) {\n\t\t\tif (reuse) {\n\t\t\t\tcolors.push(colors[i])\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst hsl = colors[i]!.toHSL();\n\t\t\t\tlet h = hsl.h + (passOptions.hue || 0) * pass!;\n\t\t\t\twhile (h > 1) h -= 1;\n\n\t\t\t\tlet s = hsl.s + (passOptions.saturation || 0) * pass!;\n\t\t\t\t//if (s > 1) s -= Math.floor(s);\n\t\t\t\tif (s > 1) s = 1;\n\t\t\t\tif (s < 0) s = 0;\n\n\t\t\t\tlet l = hsl.l + (passOptions.lightness || 0) * pass!;\n\t\t\t\t//if (l > 1) l -= Math.floor(l);\n\t\t\t\twhile (l > 1) l -= 1;\n\t\t\t\tcolors.push(Color.fromHSL(h, s, l));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns a [[Color]] at specific index.\n\t *\n\t * If there's no color at this index, a new color is generated.\n\t *\n\t * @param   index  Index\n\t * @return         Color\n\t */\n\tpublic getIndex(index: number): Color {\n\t\tconst colors = this.get(\"colors\", []);\n\t\tconst saturation = this.get(\"saturation\");\n\t\tif (index >= colors.length) {\n\t\t\tthis.generateColors();\n\t\t\treturn this.getIndex(index);\n\t\t}\n\n\t\treturn saturation != null ? Color.saturate(colors[index], saturation!) : colors[index];\n\t}\n\n\t/**\n\t * Returns next [[Color]] in the list.\n\t *\n\t * If the list is out of colors, new ones are generated dynamically.\n\t */\n\tpublic next() {\n\t\tlet currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\n\t\tthis.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\n\t\treturn this.getIndex(currentStep);\n\t}\n\n\t/**\n\t * Resets counter to the start of the list, so the next call for `next()` will\n\t * return the first color.\n\t */\n\tpublic reset() {\n\t\tthis.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\n\t\tthis.setPrivate(\"currentPass\", 0);\n\t}\n}\n","/**\n * ============================================================================\n * IMPORTS\n * ============================================================================\n * @hidden\n */\nimport * as $type from \"./Type\";\nimport * as $utils from \"./Utils\";\nimport type { Timezone } from \"./Timezone\";\nimport type { Root } from \"../Root\";\n\nexport type TimeUnit = \"millisecond\" | \"second\" | \"minute\" | \"hour\" | \"day\" | \"week\" | \"month\" | \"year\";\n\nexport interface ITimeInterval {\n\ttimeUnit: TimeUnit;\n\tcount: number;\n}\n\n\n/**\n * Returns a `Promise` which can be used to execute code after number of\n * milliseconds.\n *\n * @param   ms  Sleep duration in ms\n * @return      Promise\n */\nexport function sleep(ms: number): Promise<void> {\n\treturn new Promise((resolve, _reject) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n\n\n/**\n * Maps time period names to their numeric representations in milliseconds.\n *\n * @ignore Exclude from docs\n */\nexport let timeUnitDurations: { [Key in TimeUnit]: number } = {\n\tmillisecond: 1,\n\tsecond: 1000,\n\tminute: 60000,\n\thour: 3600000,\n\tday: 86400000,\n\tweek: 604800000,\n\tmonth: 365.242 / 12 * 86400000,\n\tyear: 31536000000\n};\n\n/**\n * Returns the next time unit that goes after source `unit`.\n *\n * E.g. \"hour\" is the next unit after \"minute\", etc.\n *\n * @ignore Exclude from docs\n * @param unit  Source time unit\n * @return Next time unit\n */\nexport function getNextUnit(unit: TimeUnit): TimeUnit | undefined {\n\tswitch (unit) {\n\t\tcase \"year\":\n\t\t\treturn;\n\t\tcase \"month\":\n\t\t\treturn \"year\";\n\n\t\tcase \"week\":\n\t\t\treturn \"month\";\n\n\t\tcase \"day\":\n\t\t\treturn \"month\"; // not a mistake\n\n\t\tcase \"hour\":\n\t\t\treturn \"day\";\n\n\t\tcase \"minute\":\n\t\t\treturn \"hour\";\n\n\t\tcase \"second\":\n\t\t\treturn \"minute\"\n\n\t\tcase \"millisecond\":\n\t\t\treturn \"second\";\n\t}\n}\n\n/**\n * Returns number of milliseconds in the `count` of time `unit`.\n *\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\n * \"month\", and \"year\".\n *\n * @param unit   Time unit\n * @param count  Number of units\n * @return Milliseconds\n */\nexport function getDuration(unit: TimeUnit, count?: number): number {\n\tif (count == null) {\n\t\tcount = 1;\n\t}\n\treturn timeUnitDurations[unit] * count;\n}\n\n/**\n * @ignore\n */\nexport function getIntervalDuration(interval: ITimeInterval | undefined) {\n\tif (interval) {\n\t\treturn timeUnitDurations[interval.timeUnit] * interval.count;\n\t}\n\treturn 0;\n}\n\n\nexport function getDateIntervalDuration(interval: ITimeInterval, date: Date, firstDateOfWeek?: number, utc?: boolean, timezone?: Timezone) {\n\tconst unit = interval.timeUnit;\n\tconst count = interval.count;\n\tif (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\n\t\treturn timeUnitDurations[interval.timeUnit] * interval.count;\n\t}\n\telse {\n\t\tconst firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\n\t\tlet lastTime = firstTime + count * getDuration(unit) * 1.05;\n\t\tlastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\n\t\treturn lastTime - firstTime;\n\t}\n}\n\n/**\n * Returns current `Date` object.\n *\n * @return Current date\n */\nexport function now(): Date {\n\treturn new Date();\n}\n\n/**\n * Returns current timestamp.\n *\n * @return Current timestamp\n */\nexport function getTime(): number {\n\treturn now().getTime();\n}\n\n/**\n * Returns a copy of the `Date` object.\n *\n * @param date  Source date\n * @return Copy\n */\nexport function copy(date: Date): Date {\n\treturn new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\n}\n\n/**\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\n * represent a \"range\" of time, rather the same time date.\n *\n * @param timeOne  timestamp\n * @param timeTwo  timestamp\n * @param unit     Time unit to check\n * @return Range?\n */\nexport function checkChange(timeOne: number, timeTwo: number, unit: TimeUnit, utc?: boolean, timezone?: Timezone): boolean {\n\t// quick\n\tif ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\n\t\treturn true;\n\t}\n\n\tlet dateOne = new Date(timeOne);\n\tlet dateTwo = new Date(timeTwo);\n\n\tif (timezone) {\n\t\tdateOne = timezone.convertLocal(dateOne);\n\t\tdateTwo = timezone.convertLocal(dateTwo);\n\t}\n\n\tlet timeZoneOffset1 = 0;\n\tlet timeZoneOffset2 = 0;\n\n\tif (!utc && unit != \"millisecond\") {\n\t\ttimeZoneOffset1 = dateOne.getTimezoneOffset();\n\t\tdateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\n\n\t\ttimeZoneOffset2 = dateTwo.getTimezoneOffset();\n\t\tdateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\n\t}\n\n\tlet changed = false;\n\tswitch (unit) {\n\t\tcase \"year\":\n\t\t\tif (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"month\":\n\t\t\tif (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\telse if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"day\":\n\t\t\tif (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\telse if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase \"hour\":\n\t\t\tif (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"minute\":\n\t\t\tif (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase \"second\":\n\t\t\tif (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"millisecond\":\n\t\t\tif (dateOne.getTime() != dateTwo.getTime()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\tif (changed) {\n\t\treturn changed;\n\t}\n\n\tlet nextUnit = getNextUnit(unit);\n\tif (nextUnit) {\n\t\treturn checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\n\t}\n\telse {\n\t\treturn false;\n\t}\n}\n\n/**\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\n *\n * @param date   Source date\n * @param unit   Time unit\n * @param count  Number of units to add\n * @return Modified date\n */\nexport function add(date: Date, unit: TimeUnit, count: number, utc?: boolean, timezone?: Timezone): Date {\n\tlet timeZoneOffset = 0;\n\n\tif (!utc && unit != \"millisecond\") {\n\t\ttimeZoneOffset = date.getTimezoneOffset();\n\n\t\tif (timezone) {\n\t\t\ttimeZoneOffset -= timezone.offsetUTC(date);\n\t\t}\n\n\t\tdate.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\n\t}\n\n\n\tswitch (unit) {\n\t\tcase \"day\":\n\t\t\tlet day: number = date.getUTCDate();\n\t\t\tdate.setUTCDate(day + count);\n\t\t\tbreak;\n\n\t\tcase \"second\":\n\t\t\tlet seconds: number = date.getUTCSeconds();\n\t\t\tdate.setUTCSeconds(seconds + count);\n\t\t\tbreak;\n\n\t\tcase \"millisecond\":\n\t\t\tlet milliseconds: number = date.getUTCMilliseconds();\n\t\t\tdate.setUTCMilliseconds(milliseconds + count);\n\t\t\tbreak;\n\n\t\tcase \"hour\":\n\t\t\tlet hours: number = date.getUTCHours();\n\t\t\tdate.setUTCHours(hours + count);\n\t\t\tbreak;\n\n\t\tcase \"minute\":\n\t\t\tlet minutes: number = date.getUTCMinutes();\n\t\t\tdate.setUTCMinutes(minutes + count);\n\t\t\tbreak;\n\n\t\tcase \"year\":\n\t\t\tlet year: number = date.getUTCFullYear();\n\t\t\tdate.setUTCFullYear(year + count);\n\t\t\tbreak;\n\n\t\tcase \"month\":\n\t\t\tconst endDays = date.getUTCDate();\n\t\t\tconst startDays = new Date(date.getUTCFullYear(), date.getUTCMonth(), 0).getUTCDate();\n\t\t\tlet month: number = date.getUTCMonth();\n\t\t\tif (endDays > startDays) {\n\t\t\t\tdate.setUTCMonth(month + count, startDays);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdate.setUTCMonth(month + count);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"week\":\n\t\t\tlet wday: number = date.getUTCDate();\n\t\t\tdate.setUTCDate(wday + count * 7);\n\t\t\tbreak;\n\t}\n\n\n\tif (!utc && unit != \"millisecond\") {\n\t\tdate.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\n\t\tif (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\n\n\t\t\tlet newTimeZoneOffset = date.getTimezoneOffset();\n\n\t\t\tif (timezone) {\n\t\t\t\tnewTimeZoneOffset += timezone.offsetUTC(date);\n\t\t\t}\n\n\t\t\tif (newTimeZoneOffset != timeZoneOffset) {\n\t\t\t\tlet diff = newTimeZoneOffset - timeZoneOffset;\n\t\t\t\tdate.setUTCMinutes(date.getUTCMinutes() + diff);\n\n\t\t\t\t// solves issues if new time falls back to old time zone\n\t\t\t\tif (date.getTimezoneOffset() != newTimeZoneOffset) {\n\t\t\t\t\tdate.setUTCMinutes(date.getUTCMinutes() - diff);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn date;\n}\n\n/**\n * @ignore\n */\nexport function roun(time: number, unit: TimeUnit, count: number, root: Root, firstTime?: number): number {\n\tlet firstDate;\n\tif (firstTime != null) {\n\t\tfirstDate = new Date(firstTime);\n\t}\n\treturn round(new Date(time), unit, count, root.locale.firstDayOfWeek, root.utc, firstDate, root.timezone).getTime();\n}\n\n\n/**\n * \"Rounds\" the date to specific time unit.\n *\n * @param date             Source date\n * @param unit             Time unit\n * @param count            Number of units to round to\n * @param firstDateOfWeek  First day of week\n * @param utc              Use UTC timezone\n * @param firstDate        First date to round to\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\n * @param timezone         Use specific named timezone when rounding\n * @return New date\n */\nexport function round(date: Date, unit: TimeUnit, count: number, firstDateOfWeek?: number, utc?: boolean, firstDate?: Date, timezone?: Timezone): Date {\n\tif (!timezone || utc) {\n\n\t\tlet timeZoneOffset = 0;\n\n\t\tif (!utc && unit != \"millisecond\") {\n\t\t\ttimeZoneOffset = date.getTimezoneOffset();\n\t\t\tdate.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\n\t\t}\n\n\t\tswitch (unit) {\n\n\t\t\tcase \"day\":\n\t\t\t\tlet day = date.getUTCDate();\n\n\t\t\t\tif (count > 1) {\n\t\t\t\t\t//\tday = Math.floor(day / count) * count;\n\t\t\t\t\tif (firstDate) {\n\t\t\t\t\t\tfirstDate = round(firstDate, \"day\", 1);\n\n\t\t\t\t\t\tlet difference = date.getTime() - firstDate.getTime();\n\t\t\t\t\t\tlet unitCount = Math.floor(difference / getDuration(\"day\") / count);\n\t\t\t\t\t\tlet duration = getDuration(\"day\", unitCount * count);\n\t\t\t\t\t\tdate.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdate.setUTCDate(day);\n\t\t\t\t}\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"second\":\n\t\t\t\tlet seconds = date.getUTCSeconds();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tseconds = Math.floor(seconds / count) * count;\n\t\t\t\t}\n\t\t\t\tdate.setUTCSeconds(seconds, 0);\n\t\t\t\tbreak;\n\n\t\t\tcase \"millisecond\":\n\t\t\t\tif (count == 1) {\n\t\t\t\t\treturn date; // much better for perf!\n\t\t\t\t}\n\n\t\t\t\tlet milliseconds = date.getUTCMilliseconds();\n\t\t\t\tmilliseconds = Math.floor(milliseconds / count) * count;\n\t\t\t\tdate.setUTCMilliseconds(milliseconds);\n\t\t\t\tbreak;\n\n\t\t\tcase \"hour\":\n\n\t\t\t\tlet hours = date.getUTCHours();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\thours = Math.floor(hours / count) * count;\n\t\t\t\t}\n\t\t\t\tdate.setUTCHours(hours, 0, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"minute\":\n\n\t\t\t\tlet minutes = date.getUTCMinutes();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tminutes = Math.floor(minutes / count) * count;\n\t\t\t\t}\n\n\t\t\t\tdate.setUTCMinutes(minutes, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"month\":\n\n\t\t\t\tlet month = date.getUTCMonth();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\t// only do this if count is 2, 3, 4, and 6\n\t\t\t\t\tif (count == 2 || count == 3 || count == 4 || count == 6) {\n\t\t\t\t\t\tmonth = Math.floor(month / count) * count;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdate.setUTCMonth(month, 1);\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"year\":\n\n\t\t\t\tlet year = date.getUTCFullYear();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tyear = Math.floor(year / count) * count;\n\t\t\t\t}\n\t\t\t\tdate.setUTCFullYear(year, 0, 1);\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\t\t\t\tbreak;\n\n\t\t\tcase \"week\":\n\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tif (firstDate) {\n\t\t\t\t\t\tfirstDate = round(firstDate, \"week\", 1);\n\n\t\t\t\t\t\tlet difference = date.getTime() - firstDate.getTime();\n\t\t\t\t\t\tlet unitCount = Math.floor(difference / getDuration(\"week\") / count);\n\t\t\t\t\t\tlet duration = getDuration(\"week\", unitCount * count);\n\n\t\t\t\t\t\tdate.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet wday = date.getUTCDate();\n\t\t\t\tlet weekDay = date.getUTCDay();\n\n\t\t\t\tif (!$type.isNumber(firstDateOfWeek)) {\n\t\t\t\t\tfirstDateOfWeek = 1;\n\t\t\t\t}\n\n\t\t\t\tif (weekDay >= firstDateOfWeek) {\n\t\t\t\t\twday = wday - weekDay + firstDateOfWeek;\n\t\t\t\t} else {\n\t\t\t\t\twday = wday - (7 + weekDay) + firstDateOfWeek;\n\t\t\t\t}\n\n\t\t\t\tdate.setUTCDate(wday);\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\n\t\t\t\tbreak;\n\t\t}\n\t\tif (!utc && unit != \"millisecond\") {\n\t\t\tdate.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\n\n\t\t\tif (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\n\t\t\t\tlet newTimeZoneOffset = date.getTimezoneOffset();\n\t\t\t\tif (newTimeZoneOffset != timeZoneOffset) {\n\t\t\t\t\tlet diff = newTimeZoneOffset - timeZoneOffset;\n\n\t\t\t\t\tdate.setUTCMinutes(date.getUTCMinutes() + diff);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn date;\n\t}\n\telse {\n\t\tif (isNaN(date.getTime())) {\n\t\t\treturn date;\n\t\t}\n\t\tlet initialTime = date.getTime();\n\t\tlet tzoffset = timezone.offsetUTC(date);\n\t\tlet timeZoneOffset = date.getTimezoneOffset();\n\t\tlet parsedDate = timezone.parseDate(date);\n\t\tlet year = parsedDate.year;\n\t\tlet month = parsedDate.month;\n\t\tlet day = parsedDate.day;\n\t\tlet hour = parsedDate.hour;\n\t\tlet minute = parsedDate.minute;\n\t\tlet second = parsedDate.second;\n\t\tlet millisecond = parsedDate.millisecond;\n\t\tlet weekday = parsedDate.weekday;\n\n\t\tlet offsetDif = tzoffset - timeZoneOffset;\n\n\t\tswitch (unit) {\n\n\t\t\tcase \"day\":\n\t\t\t\tif (count > 1 && firstDate) {\n\t\t\t\t\tfirstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\n\t\t\t\t\tlet difference = date.getTime() - firstDate.getTime();\n\t\t\t\t\tlet unitCount = Math.floor(difference / getDuration(\"day\") / count);\n\t\t\t\t\tlet duration = getDuration(\"day\", unitCount * count);\n\t\t\t\t\tdate.setTime(firstDate.getTime() + duration);\n\n\t\t\t\t\tparsedDate = timezone.parseDate(date);\n\n\t\t\t\t\tyear = parsedDate.year;\n\t\t\t\t\tmonth = parsedDate.month;\n\t\t\t\t\tday = parsedDate.day;\n\t\t\t\t}\n\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"second\":\n\t\t\t\tminute += offsetDif;\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tsecond = Math.floor(second / count) * count;\n\t\t\t\t}\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"millisecond\":\n\t\t\t\tminute += offsetDif;\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tmillisecond = Math.floor(millisecond / count) * count;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"hour\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\thour = Math.floor(hour / count) * count;\n\t\t\t\t}\n\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"minute\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tminute = Math.floor(minute / count) * count;\n\t\t\t\t}\n\t\t\t\tminute += offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"month\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tmonth = Math.floor(month / count) * count;\n\t\t\t\t}\n\t\t\t\tday = 1;\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"year\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tyear = Math.floor(year / count) * count;\n\t\t\t\t}\n\t\t\t\tmonth = 0;\n\t\t\t\tday = 1;\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"week\":\n\t\t\t\tif (!$type.isNumber(firstDateOfWeek)) {\n\t\t\t\t\tfirstDateOfWeek = 1;\n\t\t\t\t}\n\n\t\t\t\tif (weekday >= firstDateOfWeek) {\n\t\t\t\t\tday = day - weekday + firstDateOfWeek;\n\t\t\t\t} else {\n\t\t\t\t\tday = day - (7 + weekday) + firstDateOfWeek;\n\t\t\t\t}\n\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\t\t}\n\n\n\n\t\tdate = new Date(year, month, day, hour, minute, second, millisecond);\n\n\t\t// fix to solve #101989\n\t\tconst newTime = date.getTime();\n\t\tlet hDuration = 3600000;\n\t\tif (unit == \"hour\") {\n\t\t\thDuration = 3600000 * count;\n\t\t}\n\n\t\tif (newTime + hDuration <= initialTime) {\n\t\t\tif (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\n\t\t\t\tdate = new Date(newTime + hDuration);\n\t\t\t}\n\t\t}\n\t\t// end of fix\n\n\t\tlet newTimeZoneOffset = date.getTimezoneOffset();\n\t\tlet newTzoffset = timezone.offsetUTC(date);\n\t\tlet newDiff = newTzoffset - newTimeZoneOffset;\n\n\t\tif (newDiff != offsetDif) {\n\t\t\tdate.setTime(date.getTime() + (newDiff - offsetDif) * 60000);\n\t\t}\n\n\t\treturn date;\n\t}\n}\n\n\n\n/**\n * @ignore\n */\nexport function chooseInterval(index: number, duration: number, gridCount: number, intervals: Array<ITimeInterval>): ITimeInterval {\n\tlet gridInterval: ITimeInterval = intervals[index];\n\tlet intervalDuration = getIntervalDuration(gridInterval);\n\n\tlet lastIndex = intervals.length - 1;\n\tif (index >= lastIndex) {\n\t\treturn { ...intervals[lastIndex] };\n\t}\n\n\tlet count = Math.ceil(duration / intervalDuration);\n\n\tif (duration < intervalDuration && index > 0) {\n\t\treturn { ...intervals[index - 1] };\n\t}\n\tif (count <= gridCount) {\n\t\treturn { ...intervals[index] };\n\t} else {\n\t\tif (index + 1 < intervals.length) {\n\t\t\treturn chooseInterval(index + 1, duration, gridCount, intervals);\n\t\t} else {\n\t\t\treturn { ...intervals[index] };\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function getUnitValue(date: Date, unit: TimeUnit) {\n\tswitch (unit) {\n\t\tcase \"day\":\n\t\t\treturn date.getDate();\n\t\tcase \"second\":\n\t\t\treturn date.getSeconds();\n\t\tcase \"millisecond\":\n\t\t\treturn date.getMilliseconds();\n\t\tcase \"hour\":\n\t\t\treturn date.getHours();\n\t\tcase \"minute\":\n\t\t\treturn date.getMinutes();\n\t\tcase \"month\":\n\t\t\treturn date.getMonth();\n\t\tcase \"year\":\n\t\t\treturn date.getFullYear();\n\t\tcase \"week\":\n\t\t\treturn $utils.getWeek(date);\n\t}\n}\n","import type { Root } from \"../../core/Root\";\nimport type { Chart } from \"./Chart\";\nimport type { Bullet } from \"./Bullet\";\nimport type { Graphics } from \"../../core/render/Graphics\";\nimport type { ILegendDataItem } from \"./Legend\";\nimport type { Template } from \"../../core/util/Template\";\nimport type { Sprite } from \"../../core/render/Sprite\";\nimport type { Pattern } from \"./patterns/Pattern\";\n\nimport { Component, IComponentSettings, IComponentPrivate, DataItem, IComponentEvents, IComponentDataItem } from \"../../core/render/Component\";\nimport { List } from \"../../core/util/List\";\nimport { Color } from \"../../core/util/Color\";\nimport { percentInterpolate } from \"../../core/util/Animation\";\nimport { Percent } from \"../../core/util/Percent\";\nimport { p100 } from \"../../core/util/Percent\";\nimport { Container } from \"../../core/render/Container\";\nimport { Label } from \"../../core/render/Label\";\n//import { Animations } from \"../../core/util/Animation\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $time from \"../../core/util/Time\";\n\n/**\n * Defines interface for a heat rule.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/heat-rules/} for more info\n */\nexport interface IHeatRule {\n\n\t/**\n\t * Target template.\n\t */\n\ttarget: Template<any>;\n\n\t/**\n\t * The setting value to use for items if the lowest value.\n\t */\n\tmin?: any;\n\n\t/**\n\t * The setting value to use for items if the highest value.\n\t */\n\tmax?: any;\n\n\t/**\n\t * The setting value to use for items which do not have value at all.\n\t */\n\tneutral?: any;\n\n\t/**\n\t * Which data field to use when determining item's value.\n\t */\n\tdataField: string;\n\n\t/**\n\t * A setting key to set.\n\t */\n\tkey?: string;\n\n\t/**\n\t * Custom lowest value.\n\t */\n\tminValue?: number;\n\n\t/**\n\t * Custom highest value.\n\t */\n\tmaxValue?: number;\n\n\t/**\n\t * Use logarithmic scale when calculating intermediate setting values.\n\t *\n\t * @default false\n\t */\n\tlogarithmic?: boolean;\n\n\t/**\n\t * A custom function that will set target element's settings.\n\t *\n\t * Can be used to do custom manipulation on complex objects requiring more\n\t * than modifying a setting.\n\t */\n\tcustomFunction?: (target: Sprite, minValue: number, maxValue: number, value?: any) => void;\n\n}\n\n\nexport interface ISeriesDataItem extends IComponentDataItem {\n\tid?: string;\n\tvalue?: number;\n\tvalueWorking?:number;\n\tvalueChange?: number;\n\tvalueChangePercent?: number;\n\tvalueChangeSelection?: number;\n\tvalueChangeSelectionPercent?: number;\n\tvalueChangePrevious?: number;\n\tvalueChangePreviousPercent?: number;\n\tvalueWorkingOpen?: number;\n\tvalueWorkingClose?: number;\n\n\tcustomValue?: number;\n\tcustomValueWorking?:number;\n\tcustomValueChange?: number;\n\tcustomValueChangePercent?: number;\n\tcustomValueChangeSelection?: number;\n\tcustomValueChangeSelectionPercent?: number;\n\tcustomValueChangePrevious?: number;\n\tcustomValueChangePreviousPercent?: number;\n}\n\nexport interface ISeriesSettings extends IComponentSettings {\n\n\t/**\n\t * Name of the series.\n\t */\n\tname?: string;\n\n\t/**\n\t * A key to look up in data for an id of the data item.\n\t */\n\tidField?: string;\n\n\t/**\n\t * A key to look up in data for a numeric value of the data item.\n\t *\n\t * Some series use it to display its elements. It can also be used in heat\n\t * rules.\n\t */\n\tvalueField?: string;\n\n\t/**\n\t * A key to look up in data for a numeric customValue of the data item.\n\t *\n\t * Usually used for storing additional numeric information and heat rules.\n\t */\n\tcustomValueField?: string;\t\n\n\t/**\n\t * A text template to be used for label in legend.\n\t */\n\tlegendLabelText?: string;\n\n\t/**\n\t * A text template to be used for value label in legend.\n\t */\n\tlegendValueText?: string;\n\n\t/**\n\t * If set to `true` the series initial animation will be played item by item\n\t * rather than all at once.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animation_of_series} for more info\n\t */\n\tsequencedInterpolation?:boolean;\n\n\t/**\n\t * A delay in milliseconds to wait before starting animation of next data\n\t * item.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animation_of_series} for more info\n\t */\n\tsequencedDelay?:number;\n\n\t/**\n\t * A list of heat rules to apply on series elements.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/heat-rules/} for more info\n\t */\n\theatRules?:IHeatRule[];\n\n\t/**\n\t * If set to `true`, series will calculate aggregate values, e.g. change\n\t * percent, high, low, etc.\n\t *\n\t * Do not enable unless you are using such aggregate values in tooltips,\n\t * display data fields, heat rules, or similar.\n\t */\n\tcalculateAggregates?: boolean;\n\n\t/**\n\t * Series stroke color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tstroke?: Color;\n\n\t/**\n\t * Series fill color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tfill?: Color;\n\n\t/**\n\t * Series fill pattern.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\n\t * @since 5.10.0\n\t */\n\tfillPattern?: Pattern;\n\n\t/**\n\t * A data item representing series in a [[Legend]].\n\t *\n\t * @readonly\n\t */\n\tlegendDataItem?: DataItem<ILegendDataItem>;\n\n}\n\nexport interface ISeriesPrivate extends IComponentPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tchart?: Chart;\n\tstartIndex?: number;\n\tendIndex?: number;\n\tadjustedStartIndex?:number;\n\n\tvalueAverage?: number;\n\tvalueCount?: number;\n\tvalueSum?: number;\n\tvalueAbsoluteSum?: number;\n\tvalueLow?: number;\n\tvalueHigh?: number;\n\tvalueOpen?: number;\n\tvalueClose?: number;\n\n\tcustomValueAverage?: number;\n\tcustomValueCount?: number;\n\tcustomValueSum?: number;\n\tcustomValueAbsoluteSum?: number;\n\tcustomValueLow?: number;\n\tcustomValueHigh?: number;\n\tcustomValueOpen?: number;\n\tcustomValueClose?: number;\t\n\n\tbaseValueSeries?: Series;\n}\n\nexport interface ISeriesEvents extends IComponentEvents {\n\n}\n\n/**\n * A base class for all series.\n */\nexport abstract class Series extends Component {\n\tpublic static className: string = \"Series\";\n\tpublic static classNames: Array<string> = Component.classNames.concat([Series.className]);\n\n\tdeclare public _settings: ISeriesSettings;\n\tdeclare public _privateSettings: ISeriesPrivate;\n\tdeclare public _dataItemSettings: ISeriesDataItem;\n\tdeclare public _events: ISeriesEvents;\n\n\tprotected _aggregatesCalculated: boolean = false;\n\tprotected _selectionAggregatesCalculated: boolean = false;\n\tprotected _dataProcessed: boolean = false;\n\n\tprotected _psi: number | undefined;\n\tprotected _pei: number | undefined;\n\n\tprotected _baseSeriesDirty: boolean = false;\n\n\t/**\n\t * A chart series belongs to.\n\t */\n\tpublic chart:Chart | undefined;\n\n\t/**\n\t * List of bullets to use for the series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\n\t */\n\tpublic bullets: List<<D extends DataItem<this[\"_dataItemSettings\"]>>(root: Root, series:Series, dataItem: D) => Bullet | undefined> = new List();\n\n\t/**\n\t * A [[Container]] series' bullets are stored in.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly bulletsContainer: Container = Container.new(this._root, {width:p100, height:p100, position:\"absolute\"});\n\n\tprotected _afterNew() {\n\t\tthis.valueFields.push(\"value\", \"customValue\");\n\n\t\tsuper._afterNew();\n\n\t\tthis.setPrivate(\"customData\", {});\n\n\t\tthis._disposers.push(this.bullets.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected _dispose(){\n\t\tthis.bulletsContainer.dispose(); // can be in a different parent\n\t\tsuper._dispose();\n\t}\n\n\tpublic startIndex():number {\n\t\tlet len = this.dataItems.length;\n\t\treturn Math.min(this.getPrivate(\"startIndex\", 0), len);\n\t}\n\n\tpublic endIndex():number {\n\t\tlet len = this.dataItems.length;\n\t\treturn Math.max(0, Math.min(this.getPrivate(\"endIndex\", len), len));\n\t}\n\n\tprotected _handleBullets(dataItems:Array<DataItem<this[\"_dataItemSettings\"]>>){\n\t\t$array.each(dataItems, (dataItem)=>{\n\t\t\tconst bullets = dataItem.bullets;\n\t\t\tif(bullets){\n\t\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\t\tbullet.dispose();\n\t\t\t\t})\n\n\t\t\t\tdataItem.bullets = undefined;\n\t\t\t}\n\t\t})\n\n\t\tthis.markDirtyValues();\n\t}\n\n\n\tprotected _makeBullets(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif(this._shouldMakeBullet(dataItem)){\n\t\t\tdataItem.bullets = [];\n\n\t\t\tthis.bullets.each((bulletFunction) => {\n\t\t\t\tthis._makeBullet(dataItem, bulletFunction);\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _shouldMakeBullet(_dataItem: DataItem<this[\"_dataItemSettings\"]>):boolean{\n\t\treturn true;\n\t}\n\n\tprotected _makeBullet(dataItem: DataItem<this[\"_dataItemSettings\"]>, bulletFunction:(root: Root, series:Series, dataItem: DataItem<this[\"_dataItemSettings\"]>) => Bullet | undefined, index?:number):Bullet | undefined{\n\t\tconst bullet = bulletFunction(this._root, this, dataItem);\n\t\tif(bullet){\n\t\t\tbullet._index = index;\n\t\t\tthis._makeBulletReal(dataItem, bullet);\n\t\t}\n\t\treturn bullet;\n\t}\n\n\tprotected _makeBulletReal(dataItem: DataItem<this[\"_dataItemSettings\"]>, bullet:Bullet){\n\t\tlet sprite = bullet.get(\"sprite\");\n\n\t\tif (sprite) {\n\t\t\tsprite._setDataItem(dataItem);\n\t\t\tsprite.setRaw(\"position\", \"absolute\");\n\t\t\tthis.bulletsContainer.children.push(sprite);\n\t\t}\n\t\tbullet.series = this;\n\t\tdataItem.bullets!.push(bullet);\n\t}\n\n\t/**\n\t * Adds bullet directly to a data item.\n\t *\n\t * Please note: method accepts [[Bullet]] instance as a paramter, not a\n\t * reference to a function.\n\t *\n\t * You should add Bullet instance, not a method like you do it on series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/#Adding_directly_to_data_item} for more info\n\t * @since 5.6.0\n\t *\n\t * @param  dataItem  Target data item\n\t * @param  bullet    Bullet instance\n\t */\n\tpublic addBullet(dataItem:DataItem<this[\"_dataItemSettings\"]>, bullet:Bullet){\n\t\tif(!dataItem.bullets){\n\t\t\tdataItem.bullets = [];\n\t\t}\n\t\tif(bullet){\n\t\t\tthis._makeBulletReal(dataItem, bullet);\n\t\t}\n\t}\t\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._aggregatesCalculated = false;\n\t\tthis._baseSeriesDirty = false;\n\t\tthis._selectionAggregatesCalculated = false;\n\t}\n\n\tpublic _prepareChildren(){\n\t\tsuper._prepareChildren();\n\n\t\tlet startIndex = this.startIndex();\n\t\tlet endIndex = this.endIndex();\n\n\t\tif(this.isDirty(\"name\")){\n\t\t\tthis.updateLegendValue();\n\t\t}\n\n\t\tif(this.isDirty(\"heatRules\")){\n\t\t\tthis._valuesDirty = true;\n\t\t}\n\n\t\tif(this.isPrivateDirty(\"baseValueSeries\")){\n\t\t\tconst baseValueSeries = this.getPrivate(\"baseValueSeries\");\n\t\t\tif(baseValueSeries){\n\t\t\t\tthis._disposers.push(baseValueSeries.onPrivate(\"startIndex\", ()=>{\n\t\t\t\t\tthis._baseSeriesDirty = true;\n\t\t\t\t\tthis.markDirtyValues();\n\t\t\t\t}))\n\t\t\t}\n\t\t}\n\n\t\tconst calculateAggregates = this.get(\"calculateAggregates\");\n\t\tif(calculateAggregates){\n\t\t\tif (this._valuesDirty && !this._dataProcessed) {\n\t\t\t\tif (!this._aggregatesCalculated) {\n\t\t\t\t\tthis._calculateAggregates(0, this.dataItems.length);\n\t\t\t\t\tthis._aggregatesCalculated = true;\n\t\t\t\t\tif(startIndex != 0){\n\t\t\t\t\t\tthis._psi = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ((this._psi != startIndex || this._pei != endIndex || this.isPrivateDirty(\"adjustedStartIndex\")) && !this._selectionAggregatesCalculated) {\n\t\t\t\tif (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\n\t\t\t\t\t// void\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis._calculateAggregates(startIndex, endIndex);\n\t\t\t\t}\n\n\t\t\t\tthis._selectionAggregatesCalculated = true;\n\t\t\t}\n\t\t}\n\n\t\tif(this.isDirty(\"tooltip\")){\n\t\t\tlet tooltip = this.get(\"tooltip\");\n\t\t\tif(tooltip){\n\t\t\t\ttooltip.hide(0);\n\t\t\t\ttooltip.set(\"tooltipTarget\", this);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\n\n\t\t\tlet markerRectangle: Graphics | undefined;\n\t\t\tconst legendDataItem = this.get(\"legendDataItem\");\n\t\t\tif (legendDataItem) {\n\t\t\t\tmarkerRectangle = legendDataItem.get(\"markerRectangle\");\n\n\t\t\t\tif (markerRectangle) {\n\t\t\t\t\tif(this.isVisible()){\n\t\t\t\t\t\tif (this.isDirty(\"stroke\")) {\n\t\t\t\t\t\t\tlet stroke = this.get(\"stroke\");\n\t\t\t\t\t\t\tmarkerRectangle.set(\"stroke\", stroke);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.isDirty(\"fill\")) {\n\t\t\t\t\t\t\tlet fill = this.get(\"fill\");\n\t\t\t\t\t\t\tmarkerRectangle.set(\"fill\", fill);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.updateLegendMarker(undefined);\n\t\t}\n\n\n\t\tif (this.bullets.length > 0) {\n\t\t\tlet startIndex = this.startIndex();\n\t\t\tlet endIndex = this.endIndex();\n\n\t\t\tif(endIndex < this.dataItems.length){\n\t\t\t\tendIndex++;\n\t\t\t}\n\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tlet dataItem = this.dataItems[i];\n\t\t\t\tif (!dataItem.bullets) {\n\t\t\t\t\tthis._makeBullets(dataItem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tpublic _handleRemoved(){\n\t\t\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _adjustStartIndex(index:number):number{\n\t\treturn index;\n\t}\n\n\tprotected _calculateAggregates(startIndex: number, endIndex: number) {\n\t\tlet fields = this._valueFields;\n\n\t\tif (!fields) {\n\t\t\tthrow new Error(\"No value fields are set for the series.\");\n\t\t}\n\n\t\tconst sum: { [index: string]: number } = {};\n\t\tconst absSum: { [index: string]: number } = {};\n\t\tconst count: { [index: string]: number } = {};\n\t\tconst low: { [index: string]: number } = {};\n\t\tconst high: { [index: string]: number } = {};\n\t\tconst open: { [index: string]: number } = {};\n\t\tconst close: { [index: string]: number } = {};\n\t\tconst average: { [index: string]: number } = {};\n\t\tconst previous: { [index: string]: number } = {};\n\n\t\t$array.each(fields, (key) => {\n\t\t\tsum[key] = 0;\n\t\t\tabsSum[key] = 0;\n\t\t\tcount[key] = 0;\n\t\t})\n\n\t\tconst len = this.dataItems.length;\n\n\t\t$array.each(fields, (key) => {\n\t\t\tlet change = key + \"Change\";\n\t\t\tlet changePercent = key + \"ChangePercent\";\n\t\t\tlet changePrevious = key + \"ChangePrevious\";\n\t\t\tlet changePreviousPercent = key + \"ChangePreviousPercent\";\n\t\t\tlet changeSelection = key + \"ChangeSelection\";\n\t\t\tlet changeSelectionPercent = key + \"ChangeSelectionPercent\";\n\n\t\t\tlet openKey = \"valueY\";\n\n\t\t\tif(key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\"){\n\t\t\t\topenKey = \"valueX\";\n\t\t\t}\n\n\t\t\tconst baseValueSeries = this.getPrivate(\"baseValueSeries\");\n\t\t\tconst adjustedStartIndex = this.getPrivate(\"adjustedStartIndex\", startIndex);\n\t\t\t\n\t\t\t// Function to calculate changes for a single data item\n\t\t\tconst calculateChangesForItem = (dataItem: any, key: string) => {\n\t\t\t\tif (dataItem) {\n\t\t\t\t\tlet value = dataItem.get(<any>key);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePrevious), value - previous[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelection), value - open[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\n\t\t\t\t\t\tprevious[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\t\t\t\n\n\t\t\tfor (let i = adjustedStartIndex; i < endIndex; i++) {\n\t\t\t\tconst dataItem = this.dataItems[i];\n\t\t\t\tif(dataItem){\n\t\t\t\t\tlet value = dataItem.get(<any>key)\n\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tcount[key]++;\n\t\t\t\t\t\tsum[key] += value;\n\n\t\t\t\t\t\tabsSum[key] += Math.abs(value);\n\n\t\t\t\t\t\taverage[key] = sum[key] / count[key];\n\n\t\t\t\t\t\tif (low[key] > value || low[key] == null) {\n\t\t\t\t\t\t\tlow[key] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (high[key] < value || high[key] == null) {\n\t\t\t\t\t\t\thigh[key] = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tclose[key] = value;\n\n\t\t\t\t\t\tif (open[key] == null) {\n\t\t\t\t\t\t\topen[key] = value;\n\t\t\t\t\t\t\tprevious[key] = value;\n\n\t\t\t\t\t\t\tif(baseValueSeries){\n\t\t\t\t\t\t\t\topen[openKey] = baseValueSeries._getBase(openKey);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (startIndex === 0) {\n\t\t\t\t\t\t\tdataItem.setRaw(<any>(change), value - open[openKey]);\n\t\t\t\t\t\t\tdataItem.setRaw(<any>(changePercent), (value - open[openKey]) / open[openKey] * 100);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcalculateChangesForItem(dataItem, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate for endIndex item\n\t\t\tif (endIndex < len) {\n\t\t\t\tcalculateChangesForItem(this.dataItems[endIndex], key);\n\t\t\t}\n\t\t\t\n\t\t\t// Calculate for endIndex+1 item if available\n\t\t\tif (endIndex + 1 < len) {\n\t\t\t\tcalculateChangesForItem(this.dataItems[endIndex + 1], key);\n\t\t\t}\n\n\t\t\tif (startIndex > 0) {\n\t\t\t\tstartIndex--;\n\t\t\t}\n\n\t\t\tdelete previous[key];\n\n\t\t\tfor (let i = startIndex; i < adjustedStartIndex; i++) {\n\t\t\t\tconst dataItem = this.dataItems[i];\n\t\t\t\tif(dataItem) {\n\t\t\t\t\tlet value = dataItem.get(<any>key);\n\n\t\t\t\t\tif (previous[key] == null) {\n\t\t\t\t\t\tprevious[key] = value;\n\t\t\t\t\t}\t\t\t\t\n\t\t\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePrevious), value - previous[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelection), value - open[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\n\t\t\n\t\t\t\t\t\tprevious[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\t$array.each(fields, (key) => {\n\t\t\tthis.setPrivate(<any>(key + \"AverageSelection\"), average[key]);\n\t\t\tthis.setPrivate(<any>(key + \"CountSelection\"), count[key]);\n\t\t\tthis.setPrivate(<any>(key + \"SumSelection\"), sum[key]);\n\t\t\tthis.setPrivate(<any>(key + \"AbsoluteSumSelection\"), absSum[key]);\n\t\t\tthis.setPrivate(<any>(key + \"LowSelection\"), low[key]);\n\t\t\tthis.setPrivate(<any>(key + \"HighSelection\"), high[key]);\n\t\t\tthis.setPrivate(<any>(key + \"OpenSelection\"), open[key]);\n\t\t\tthis.setPrivate(<any>(key + \"CloseSelection\"), close[key]);\n\t\t})\n\n\t\tif (startIndex === 0 && endIndex === len) {\n\t\t\t$array.each(fields, (key) => {\n\t\t\t\tthis.setPrivate(<any>(key + \"Average\"), average[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Count\"), count[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Sum\"), sum[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"AbsoluteSum\"), absSum[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Low\"), low[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"High\"), high[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Open\"), open[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Close\"), close[key]);\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tthis._psi = this.startIndex();\n\t\tthis._pei = this.endIndex();\n\n\t\tif(this.isDirty(\"visible\")){\n\t\t\tthis.bulletsContainer.set(\"visible\", this.get(\"visible\"));\n\t\t}\n\n\n\t\t// Apply heat rules\n\t\tconst rules = this.get(\"heatRules\");\n\n\t\tif (this._valuesDirty && rules && rules.length > 0) {\n\t\t\t$array.each(rules, (rule) => {\n\t\t\t\tconst minValue = rule.minValue || this.getPrivate(<any>(rule.dataField + \"Low\")) || 0;\n\t\t\t\tconst maxValue = rule.maxValue || this.getPrivate(<any>(rule.dataField + \"High\")) || 0;\n\n\t\t\t\t$array.each(rule.target._entities, (target) => {\n\n\t\t\t\t\tconst value = target.dataItem.get(rule.dataField);\n\n\t\t\t\t\tif (!$type.isNumber(value)) {\n\t\t\t\t\t\tif(rule.neutral){\n\t\t\t\t\t\t\ttarget.set(rule.key, rule.neutral);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst states = target.states;\n\t\t\t\t\t\tif(states){\n\t\t\t\t\t\t\tconst defaultState = states.lookup(\"default\");\n\t\t\t\t\t\t\tif(defaultState && rule.neutral){\n\t\t\t\t\t\t\t\tdefaultState.set(rule.key, rule.neutral);\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!rule.customFunction){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rule.customFunction) {\n\t\t\t\t\t\trule.customFunction.call(this, target, minValue, maxValue, value);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet percent: number;\n\t\t\t\t\t\tif (rule.logarithmic) {\n\t\t\t\t\t\t\tpercent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tpercent = (value - minValue) / (maxValue - minValue);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\n\t\t\t\t\t\t\tpercent = 0.5;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// fixes problems if all values are the same\n\t\t\t\t\t\tlet propertyValue;\n\t\t\t\t\t\tif ($type.isNumber(rule.min)) {\n\t\t\t\t\t\t\tpropertyValue = rule.min + (rule.max - rule.min) * percent;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (rule.min instanceof Color) {\n\t\t\t\t\t\t\tpropertyValue = Color.interpolate(percent, rule.min, rule.max);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (rule.min instanceof Percent) {\n\t\t\t\t\t\t\tpropertyValue = percentInterpolate(percent, rule.min, rule.max);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget.set(rule.key, propertyValue);\n\t\t\t\t\t\tconst states = target.states;\n\t\t\t\t\t\tif(states){\n\t\t\t\t\t\t\tconst defaultState = states.lookup(\"default\");\n\t\t\t\t\t\t\tif(defaultState){\n\t\t\t\t\t\t\t\tdefaultState.set(rule.key, propertyValue);\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif(this.get(\"visible\")){\n\t\t\tlet count = this.dataItems.length;\n\t\t\tlet startIndex = this.startIndex();\n\t\t\tlet endIndex = this.endIndex();\n\n\t\t\tif(endIndex < count){\n\t\t\t\tendIndex++;\n\t\t\t}\n\t\t\tif(startIndex > 0){\n\t\t\t\tstartIndex--;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < startIndex; i++) {\n\t\t\t\tthis._hideBullets(this.dataItems[i]);\n\t\t\t}\n\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tthis._positionBullets(this.dataItems[i]);\n\t\t\t}\n\n\t\t\tfor (let i = endIndex; i < count; i++) {\n\t\t\t\tthis._hideBullets(this.dataItems[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _positionBullets(dataItem: DataItem<this[\"_dataItemSettings\"]>){\n\t\tif(dataItem.bullets){\n\t\t\t$array.each(dataItem.bullets, (bullet) => {\n\t\t\t\tthis._positionBullet(bullet);\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\n\t\t\t\tif(bullet.get(\"dynamic\")){\n\n\t\t\t\t\tif(sprite){\n\t\t\t\t\t\tsprite._markDirtyKey(\"fill\" as any);\n\t\t\t\t\t\tsprite.markDirtySize();\n\t\t\t\t\t}\n\t\t\t\t\tif(sprite instanceof Container){\n\t\t\t\t\t\tsprite.walkChildren((child)=>{\n\t\t\t\t\t\t\tchild._markDirtyKey(\"fill\" as any);\n\t\t\t\t\t\t\tchild.markDirtySize();\n\n\t\t\t\t\t\t\tif(child instanceof Label){\n\t\t\t\t\t\t\t\tchild.text.markDirtyText();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(sprite instanceof Label && sprite.get(\"populateText\" as any)){\n\t\t\t\t\tsprite.text.markDirtyText();\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _hideBullets(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif (dataItem.bullets) {\n\t\t\t$array.each(dataItem.bullets, (bullet) => {\n\t\t\t\tlet sprite = bullet.get(\"sprite\");\n\t\t\t\tif (sprite) {\n\t\t\t\t\tsprite.setPrivate(\"visible\", false);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic _positionBullet(_bullet: Bullet) {\n\t}\n\n\tpublic _placeBulletsContainer(chart:Chart){\n\t\tchart.bulletsContainer.children.moveValue(this.bulletsContainer);\n\t}\n\n\tpublic _removeBulletsContainer(){\n\t\tconst bulletsContainer = this.bulletsContainer;\n\t\tif(bulletsContainer.parent){\n\t\t\tbulletsContainer.parent.children.removeValue(bulletsContainer)\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\t//super.disposeDataItem(dataItem); // does nothing\n\n\t\tconst bullets = dataItem.bullets;\n\n\t\tif(bullets){\n\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\tbullet.dispose();\n\t\t\t})\n\t\t\tdataItem.bullets = undefined;\n\t\t}\n\t}\n\n\tprotected _getItemReaderLabel(): string {\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Shows series's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.showDataItem(dataItem, duration)];\n\t\tconst bullets = dataItem.bullets;\n\t\tif(bullets){\n\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\tif(sprite){\n\t\t\t\t\tpromises.push(sprite.show(duration));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Hides series's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.hideDataItem(dataItem, duration)];\n\t\tconst bullets = dataItem.bullets;\n\t\tif(bullets){\n\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\tif(sprite){\t\t\t\t\t\n\t\t\t\t\tpromises.push(sprite.hide(duration));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tawait Promise.all(promises);\n\t}\n\n\n\tprotected async _sequencedShowHide(show: boolean, duration?: number): Promise<void> {\n\t\tif (this.get(\"sequencedInterpolation\")) {\n\n\t\t\tif (!$type.isNumber(duration)) {\n\t\t\t\tduration = this.get(\"interpolationDuration\", 0);\n\t\t\t}\n\n\t\t\tif (duration > 0) {\n\t\t\t\tconst startIndex = this.startIndex();\n\t\t\t\tconst endIndex = this.endIndex();\n\n\t\t\t\tawait Promise.all($array.map(this.dataItems, async (dataItem, i) => {\n\t\t\t\t\tlet realDuration = duration || 0;\n\n\t\t\t\t\tif (i < startIndex - 10 || i > endIndex + 10) {\n\t\t\t\t\t\trealDuration = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t//let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\n\t\t\t\t\tlet delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\n\n\t\t\t\t\tawait $time.sleep(delay * (i - startIndex));\n\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\tawait this.showDataItem(dataItem, realDuration);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tawait this.hideDataItem(dataItem, realDuration);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tawait Promise.all($array.map(this.dataItems, (dataItem) => {\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\treturn this.showDataItem(dataItem, 0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.hideDataItem(dataItem, 0);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLegendValue(dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif(dataItem){\n\t\t\tconst legendDataItem = dataItem.get(\"legendDataItem\" as any) as DataItem<ILegendDataItem>;\n\n\t\t\tif (legendDataItem) {\n\t\t\t\tconst valueLabel = legendDataItem.get(\"valueLabel\");\n\t\t\t\tif (valueLabel) {\n\t\t\t\t\tconst text = valueLabel.text;\n\t\t\t\t\tlet txt = \"\";\n\t\t\t\t\tvalueLabel._setDataItem(dataItem);\n\t\t\t\t\ttxt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\n\n\t\t\t\t\tvalueLabel.set(\"text\", txt);\n\t\t\t\t\ttext.markDirtyText();\n\t\t\t\t}\n\n\t\t\t\tconst label = legendDataItem.get(\"label\");\n\t\t\t\tif (label) {\n\t\t\t\t\tconst text = label.text;\n\t\t\t\t\tlet txt = \"\";\n\t\t\t\t\tlabel._setDataItem(dataItem);\n\t\t\t\t\ttxt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\n\n\t\t\t\t\tlabel.set(\"text\", txt);\n\t\t\t\t\ttext.markDirtyText();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLegendMarker(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t}\n\n\tprotected _onHide(){\n\t\tsuper._onHide();\n\n\t\tconst tooltip = this.getTooltip();\n\t\tif(tooltip){\n\t\t\ttooltip.hide();\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic hoverDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic unhoverDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _getBase(key: any): number {\n\t\tconst dataItem = this.dataItems[this.startIndex()];\n\t\tif (dataItem) {\n\t\t\treturn dataItem.get(key);\n\t\t}\n\t\treturn 0;\n\t}\n}\n"],"names":["segmentedLine","display","segments","s","len","length","groups","firstGroup","firstPoint","moveTo","x","y","g","line","points","p","point","lineTo","Line","Graphics","_beforeChanged","super","this","isDirty","_sizeDirty","isPrivateDirty","_clear","_changed","get","_display","$draw","w","width","h","height","Object","defineProperty","classNames","concat","className","Tick","pi","Math","PI","tau","epsilon","tauEpsilon","append","strings","_","i","n","arguments","Path","constructor","digits","_x0","_y0","_x1","_y1","_append","d","floor","Error","k","round","appendRound","_templateObject","_taggedTemplateLiteral","closePath","_templateObject2","_templateObject3","quadraticCurveTo","x1","y1","_templateObject4","bezierCurveTo","x2","y2","_templateObject5","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","_templateObject6","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","_templateObject8","_templateObject9","_templateObject7","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","_templateObject0","_templateObject1","_templateObject10","_templateObject11","rect","_templateObject12","toString","withPath","shape","RangeError","prototype","ListData","List","incrementRef","decrementRef","_onPush","newValue","processor","processRow","_onInsertIndex","index","_onSetIndex","oldValue","DataItem","Settings","component","dataContext","settings","_settings","visible","_checkDirty","markDirty","markDirtyValues","_startAnimation","_root","_addAnimation","_animationTime","animationTime","_dispose","disposeDataItem","show","duration","setRaw","showDataItem","hide","hideDataItem","isHidden","Component","Container","_dataItems","data","_data","_onDataClear","_afterNew","_updateFields","_disposers","push","events","onAll","change","dataItems","_mainDataItems","_markDirtyGroup","_dataChanged","type","$array","dataItem","dispose","_makeDataItem","processDataItem","properties","bullets","undefined","$object","forEach","key","animate","to","easing","splice","oldIndex","newIndex","_afterDataChange","valueFields","_valueFields","_valueFieldsF","fieldKey","workingKey","fields","_fields","_fieldsF","_dataItem","output","field","makeDataItem","pushDataItem","_duration","set","_clearDirty","_valuesDirty","_afterChanged","isEnabled","dispatch","target","inited","_dataGrouped","markDirtySize","getDataItemById","id","Chart","children","new","p100","interactiveChildren","isMeasured","position","SerialChart","ListAutoDispose","series","seriesContainer","oldValues","_removeSeries","colors","reset","patterns","moveValue","_processSeries","setIndex","insertIndex","value","a","b","aIndex","indexOf","bIndex","each","chart","_placeBulletsContainer","_handleRemoved","isDisposed","removeValue","_removeBulletsContainer","e","t","slice","freeze","defineProperties","raw","ColorSet","Entity","_afterNewApplyThemes","_dirty","generateColors","setPrivate","getPrivate","pass","Color","fromHex","passOptions","reuse","hsl","toHSL","hue","saturation","lightness","fromHSL","getIndex","saturate","next","currentStep","sleep","ms","Promise","resolve","_reject","setTimeout","timeUnitDurations","millisecond","second","minute","hour","day","week","month","year","getDuration","unit","count","date","firstDateOfWeek","utc","firstDate","timezone","timeZoneOffset","getTimezoneOffset","setUTCMinutes","getUTCMinutes","getUTCDate","difference","getTime","unitCount","setTime","setUTCDate","setUTCHours","seconds","getUTCSeconds","setUTCSeconds","milliseconds","getUTCMilliseconds","setUTCMilliseconds","hours","getUTCHours","minutes","getUTCMonth","setUTCMonth","getUTCFullYear","setUTCFullYear","wday","weekDay","getUTCDay","$type","newTimeZoneOffset","diff","isNaN","initialTime","tzoffset","offsetUTC","parsedDate","parseDate","weekday","offsetDif","newTime","Date","hDuration","newDiff","Series","_handleBullets","bulletsContainer","startIndex","min","endIndex","max","bullet","_makeBullets","_shouldMakeBullet","bulletFunction","_makeBullet","_index","_makeBulletReal","sprite","_setDataItem","addBullet","_aggregatesCalculated","_baseSeriesDirty","_selectionAggregatesCalculated","_prepareChildren","updateLegendValue","baseValueSeries","onPrivate","_dataProcessed","_calculateAggregates","_psi","_pei","tooltip","markerRectangle","legendDataItem","isVisible","stroke","fill","updateLegendMarker","_adjustStartIndex","sum","absSum","low","high","open","close","average","previous","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","adjustedStartIndex","calculateChangesForItem","_getBase","_updateChildren","rules","rule","minValue","dataField","maxValue","_entities","neutral","states","defaultState","lookup","customFunction","call","percent","propertyValue","logarithmic","log","LOG10E","Infinity","interpolate","Percent","percentInterpolate","_hideBullets","_positionBullets","_positionBullet","_markDirtyKey","walkChildren","child","Label","text","markDirtyText","_bullet","parent","_getItemReaderLabel","promises","_super","all","_sequencedShowHide","__awaiter","realDuration","delay","$time","valueLabel","txt","label","_onHide","getTooltip","hoverDataItem","unhoverDataItem"],"sourceRoot":""}