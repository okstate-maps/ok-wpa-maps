{"version":3,"file":"static/js/25704.d5dec5b9.chunk.js","mappings":"2KAIgU,MAAMA,UAAUC,EAAAA,EAAEC,WAAAA,CAAYD,GAAGE,QAAQC,KAAKC,MAAMJ,EAAEK,KAAKF,KAAKG,MAAMN,EAAEO,KAAKJ,KAAKK,SAASR,EAAES,QAAQN,KAAKO,aAAaP,KAAKQ,qBAAqBR,KAAKS,mBAAmBZ,GAAGG,KAAKG,MAAMO,aAAaC,IAAId,GAAG,CAACe,OAAAA,GAAUZ,KAAKS,mBAAmBZ,IAAIG,KAAKG,MAAMO,aAAaG,OAAOhB,GAAGA,EAAEe,YAAYZ,KAAKG,MAAM,KAAKH,KAAKC,MAAM,KAAKD,KAAKO,aAAa,KAAKP,KAAKK,SAAS,IAAI,CAACI,kBAAAA,CAAmBZ,GAAGA,EAAEG,KAAKO,aAAa,EAAE,CAACO,kBAAAA,CAAmBjB,EAAEkB,GAAG,IAAInB,EAAE,KAAKoB,EAAE,KAAKC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE,MAAMC,QAAQC,EAAEC,QAAQC,EAAEC,KAAKC,IAAGC,EAAAA,EAAAA,GAAE1B,KAAKK,SAASsB,QAAQ,OAAOC,EAAAA,EAAAA,IAAE5B,KAAKO,aAAa,CAACqB,EAAEF,KAAKA,EAAEG,KAAKD,IAAI,GAAG,UAAUA,EAAEE,OAAO,CAAC,MAAMF,EAAE/B,IAAID,EAAEgC,EAAEG,uBAAuBf,EAAEY,EAAEI,WAAW,CAAC,OAAOJ,IAAIC,MAAKI,EAAAA,EAAAA,IAAEjC,KAAKC,QAAQ4B,KAAKhC,IAAI,MAAMqC,EAAEN,EAAEO,EAAEF,EAAEG,EAAEV,GAAG7B,EAAEwC,OAAO,GAAGrB,IAAIY,EAAEP,EAAEL,EAAEsB,MAAML,EAAEV,EAAEE,EAAET,EAAEuB,MAAMX,EAAEP,EAAEL,EAAEwB,MAAMP,EAAEV,EAAEE,EAAET,EAAEyB,MAAM,OAAO5C,GAAG,UAAUA,EAAEiC,QAAQ,IAAIb,GAAG,IAAIC,GAAG,IAAIC,KAAKF,EAAEpB,EAAE6C,SAASR,EAAEhB,EAAErB,EAAE6C,SAASP,EAAEhB,EAAEtB,EAAE6C,SAASN,GAAG,MAAMO,EAAEf,EAAEX,EAAE2B,EAAEX,EAAEf,EAAE2B,EAAEnB,EAAEP,EAAEF,EAAEW,EAAEV,EAAEe,EAAEd,EAAEO,EAAE,MAAMoB,EAAE,UAAUjD,EAAEiC,OAAO,EAAE,EAAEI,EAAEtC,EAAEmD,KAAKJ,EAAEC,EAAEC,EAAEC,GAAG,OAAO/B,EAAElB,EAAEqC,GAAGrC,KAAK,CAACW,kBAAAA,GAAqB,MAAMX,EAAEG,KAAKC,MAAM2B,EAAE5B,KAAKK,SAAS,OAAO,IAAIU,EAAAA,EAAE,CAACb,KAAKL,EAAES,QAAQsB,EAAEoB,YAAW,EAAGC,OAAO,QAAQ,E,kCCAp4C,MAAMhB,EAAE,YAAIiB,GAAW,OAAOlD,KAAKmD,gBAAgBlB,GAAGA,EAAEiB,SAAS,CAAC,YAAIE,GAAW,OAAOpD,KAAKmD,gBAAgBlB,GAAGA,EAAEmB,SAAS,CAAC,YAAIC,GAAW,OAAOrD,KAAKmD,gBAAgBlB,GAAGA,EAAEoB,SAAS,CAACC,cAAAA,CAAerB,GAAG,OAAOjC,KAAKmD,gBAAgBtD,GAAGA,IAAIoC,EAAE,CAACkB,eAAAA,CAAgBlB,GAAG,IAAIpC,GAAE,EAAG,OAAOG,KAAKS,mBAAmBM,KAAKlB,GAAGoC,EAAElB,KAAKlB,GAAE,KAAMA,CAAC,E,iPCAm0B,MAAMgD,EAAM,UAANA,EAAqB,YAArBA,EAAsC,YAAtCA,EAAwD,aAAxDA,EAAmF,IAAnFA,EAA6F,QAA7FA,EAAgHV,EAAAA,EAAYW,EAAE,IAAIlD,EAAAA,EAAE,WAAW,IAAI2D,EAAE,cAAcX,EAAAA,EAAE9C,WAAAA,CAAYD,GAAGE,MAAMF,GAAGG,KAAKwD,mBAAkB,EAAGxD,KAAKyD,mBAAkB,EAAGzD,KAAK0D,QAAQ,EAAE1D,KAAK2D,sBAAsB,KAAK3D,KAAK4D,eAAe,IAAI1C,EAAAA,EAAE,CAAC2C,UAAS,EAAGC,SAAS,OAAOC,SAAQ,EAAGC,OAAO,6BAA6BC,MAAM,0CAA0CjE,KAAKkE,WAAW,GAAGlE,KAAKmE,WAAW,GAAGnE,KAAKoE,iBAAiB,GAAGpE,KAAKqE,iBAAiB,GAAGrE,KAAKsE,iBAAiB,KAAKtE,KAAKuE,aAAa,EAAEvE,KAAKwE,KAAK,SAAS,CAACC,UAAAA,GAAazE,KAAK0E,aAAa,CAAC9D,OAAAA,GAAU,MAAM+D,IAAI9E,GAAGG,KAAKE,KAAKF,KAAK4E,2BAA2BC,QAAQhF,GAAGA,EAAEe,WAAWZ,KAAK8E,oCAAoCD,QAAQhF,GAAGA,EAAEe,WAAWf,EAAEkF,WAAW,CAAC/E,KAAK4D,iBAAiB5D,KAAK4D,eAAeoB,YAAYhF,KAAK4D,gBAAelC,EAAAA,EAAAA,IAAE1B,KAAK4D,gBAAgB5D,KAAKiF,cAAc,KAAKjF,KAAKkF,sBAAsB,KAAKlF,KAAK4E,2BAA2B,KAAK5E,KAAK4D,eAAe,KAAK5D,KAAK8E,oCAAoC,KAAK9E,KAAKkE,WAAW,KAAKlE,KAAKmE,WAAW,KAAKnE,KAAK2D,sBAAsB,KAAK3D,KAAKoE,iBAAiB,KAAKpE,KAAKqE,iBAAiB,IAAI,CAAC,6BAAIc,GAA4B,OAAO9D,EAAAA,EAAAA,IAAErB,KAAKE,KAAKkF,iBAAiB,CAACC,UAAAA,GAAarF,KAAK+D,SAAQ,CAAE,CAACuB,YAAAA,GAAetF,KAAK+D,SAAQ,CAAE,CAACwB,MAAAA,GAASvF,KAAK4D,eAAeG,SAAQ,CAAE,CAACyB,MAAAA,GAASxF,KAAK4D,eAAeG,SAAQ,CAAE,CAAC0B,OAAAA,GAAU,MAAM5F,EAAEG,KAAKkE,WAAWlE,KAAKkE,WAAWwB,OAAO,GAAG,OAAO,MAAM7F,GAAGG,KAAK8E,oCAAoCjF,GAAG4F,OAAO,CAACE,OAAAA,GAAU,MAAM9F,EAAEG,KAAKmE,WAAWnE,KAAKmE,WAAWuB,OAAO,GAAG,OAAO,MAAM7F,GAAGG,KAAK8E,oCAAoCjF,GAAG8F,OAAO,CAACC,IAAAA,GAAO,GAAG5F,KAAKkE,WAAWwB,OAAO,EAAE,CAAC,MAAM7F,EAAEG,KAAKkE,WAAW2B,MAAM7F,KAAK8E,oCAAoCjF,GAAG+F,OAAO5F,KAAK8F,iBAAiB9F,KAAKmE,WAAW4B,KAAKlG,EAAE,CAAC,CAACmG,IAAAA,GAAO,GAAGhG,KAAKmE,WAAWuB,OAAO,EAAE,CAAC,MAAM7F,EAAEG,KAAKmE,WAAW0B,MAAM7F,KAAK8E,oCAAoCjF,GAAGmG,OAAOhG,KAAK8F,iBAAiB9F,KAAKkE,WAAW6B,KAAKlG,EAAE,CAAC,CAACoG,OAAAA,GAAU,MAAMC,aAAarG,GAAGG,KAAK,GAAG,MAAMH,EAAEsG,aAAa,OAAO,MAAMvG,EAAEC,EAAEsG,aAAa,mBAAmBvG,EAAE4E,MAAM,MAAM5E,EAAEwG,SAASpG,KAAKiF,cAAcrF,EAAEI,KAAKiF,cAAcoB,cAAcxB,QAAQ,CAAAyB,EAAc1G,KAAI,IAAhB2G,SAAS1G,GAAEyG,EAAM,MAAM1E,EAAE5B,KAAK8E,oCAAoClF,GAAG8B,EAAEE,EAAE4E,KAAKC,MAAM,GAAGC,SAAS,GAAG9E,EAAE+E,kBAAkBjF,EAAEE,EAAE4E,KAAKI,iBAAiBC,cAAchH,MAAMG,KAAK8F,iBAAiB,CAACgB,KAAAA,GAAQ9G,KAAKiF,cAAcoB,cAAcrG,KAAK2D,sBAAsB3D,KAAKiG,UAAUjG,KAAKoE,iBAAiBsB,OAAO,EAAE1F,KAAKqE,iBAAiBqB,OAAO,CAAC,CAACI,cAAAA,GAAiB,MAAMjG,EAAEG,KAAKiF,cAAcrF,EAAEC,EAAEwG,cAAczE,EAAEhC,EAAE,GAAG2G,SAASnB,iBAAiB1D,EAAE1B,KAAKmF,0BAA0BnF,KAAKiF,cAAcoB,cAAcrG,KAAK8E,oCAAoCH,IAAI,CAAC1C,EAAEhB,KAAK,MAAMF,EAAEkB,EAAEuE,KAAKO,SAAS,OAAO/G,KAAKkF,sBAAsBjE,GAAG8F,SAAShG,EAAE,CAACwF,UAASvF,EAAAA,EAAAA,SAAED,EAAEa,GAAGoF,YAAYtF,EAAE9B,EAAEqB,GAAG+F,YAAYnH,EAAEoH,SAASlG,KAAK,CAACmG,kBAAAA,CAAmBrH,GAAG,GAAGG,KAAKuE,eAAe1E,EAAE,OAAO,MAAMD,EAAEI,KAAKkF,sBAAsBlF,KAAKuE,cAAc5C,OAAOwF,SAAQC,EAAAA,EAAAA,IAAExH,EAAEI,KAAKE,KAAKmH,eAAeC,aAAatH,KAAKkF,sBAAsBlF,KAAKuE,cAAc5C,OAAO/B,EAAE,MAAMgC,EAAE5B,KAAKkF,sBAAsBrF,GAAG8B,OAAOwF,SAAQC,EAAAA,EAAAA,IAAExF,EAAEkB,GAAG9C,KAAKkF,sBAAsBrF,GAAG8B,OAAOC,EAAE5B,KAAKuE,aAAa1E,EAAEG,KAAKE,KAAKqH,UAAUC,SAASC,eAAezH,KAAK0H,uBAAuB,CAAC,2BAAMA,GAAwB1H,KAAK2H,8BAA8B,MAAM9H,QAAQG,KAAKE,KAAK0H,cAAc5H,KAAK4D,gBAAgB5D,KAAKsE,iBAAiBzE,EAAEgI,UAAU7H,KAAKkF,sBAAsBlF,KAAKuE,cAAc,CAACoD,2BAAAA,GAA8B3H,KAAKsE,kBAAkBtE,KAAKsE,iBAAiBzD,QAAQ,CAACiH,kBAAAA,CAAmBjI,GAAGG,KAAKoE,iBAAiBvE,CAAC,CAACkI,kBAAAA,CAAmBlI,GAAGG,KAAKqE,iBAAiBxE,CAAC,CAAC,iBAAM6E,GAAc,MAAMxE,KAAKL,EAAEqG,aAAatG,GAAGI,KAAK,GAAG,MAAMJ,EAAEuG,aAAa,OAAO,MAAMzE,EAAE9B,EAAEuG,aAAa,mBAAmBzE,EAAE8C,MAAM,MAAM9C,EAAE0E,SAASpG,KAAKiF,cAAcvD,EAAE1B,KAAK2D,sBAAsB3D,KAAKiF,cAAcoB,cAAcxG,EAAE8E,IAAIqD,QAAQ,CAAChI,KAAK4D,iBAAiB/D,EAAEoI,QAAQjI,KAAK+D,SAAQ,EAAG/D,KAAKkI,2BAA2BlI,KAAKmI,wBAAwBnI,KAAK8E,oCAAoC9E,KAAKiF,cAAcoB,cAAc1B,IAAIyD,IAAA,IAAE7B,SAAS3G,GAAEwI,EAAA,OAAGC,EAAAA,EAAEC,cAAatH,EAAAA,EAAAA,SAAEpB,EAAEC,EAAEuF,kBAAkB,KAAIpF,KAAKkF,sBAAsBlF,KAAK8E,oCAAoCH,IAAI,CAAC9E,EAAED,IAAI,IAAIgC,EAAAA,EAAE,CAACD,OAAO,IAAIR,EAAAA,EAAE,CAACqF,KAAK,CAAChC,KAAK,qBAAqB7C,OAAO,CAAC6C,KAAK,iBAAiB+D,aAAa,CAAC,CAAC/D,KAAK,kBAAkBgE,QAAO,EAAGC,aAAY,EAAGC,YAAY,CAACxG,EAAE,EAAEC,GAAG,OAAOwG,iBAAiB,WAAWC,mBAAmB,IAAIpH,KAAK,EAAEqH,gBAAgB,gBAAgBC,MAAM,CAACxG,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAKC,KAAK,MAAMsG,eAAe,CAAC,CAACvE,KAAK,mBAAmBuC,SAAS,CAACiC,MAAM,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,MAAM,CAAC,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,IAAI,CAAC,KAAK,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,SAASrH,OAAO,CAAC6C,KAAK,mBAAmB+D,aAAa,CAAC,CAAC/D,KAAK,eAAegE,QAAO,EAAGS,MAAM,CAAC,IAAI,IAAI,IAAI,UAAUC,4BAA2B,EAAGC,cAAa,EAAGC,aAAa,CAAC5E,KAAK,kBAAkB6E,aAAa,YAAYC,KAAK,CAACN,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,MAAM,CAAC,EAAE,MAAM,CAAC,EAAE,OAAOO,SAAS,GAAG,CAAC/E,KAAK,kBAAkBgE,QAAO,EAAGE,YAAY,CAACxG,EAAE,EAAEC,GAAG,OAAOwG,iBAAiB,WAAWC,mBAAmB,IAAIpH,KAAK,KAAKqH,gBAAgB,gBAAgBC,MAAM,CAACxG,KAAK,EAAEC,KAAK,EAAEC,KAAK,MAAMC,KAAK,OAAOsG,eAAe,CAAC,CAACvE,KAAK,mBAAmBuC,SAAS,CAACiC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,MAAM,MAAM,CAAC,MAAM,MAAM,CAAC,MAAM,MAAM,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,KAAK,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC,IAAI,OAAO,CAAC,GAAG,OAAO,CAAC,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,IAAI,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,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","sources":["../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/DragManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/ControlPointsTransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/utils.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/RotateManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/ScaleManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/TransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/MediaTransformToolsWrapper.js","../node_modules/@arcgis/core/views/draw/support/drawUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Manipulation as t}from\"./Manipulation.js\";import{createManipulatorDragEventPipeline as i,screenToMap as r}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as a}from\"../../../../interactive/GraphicManipulator.js\";import{getSymbolInfo as o}from\"../../../../interactive/support/utils.js\";class e extends t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,0)}createDragPipeline(t,a){let e=null,n=null,s=0,l=0,p=0;const{offsetX:c,offsetY:h,size:u}=o(this._graphic.symbol);return i(this._manipulator,(i,o)=>{o.next(i=>{if(\"start\"===i.action){const i=t();e=i.editGeometryOperations,n=i.constraints}return i}).next(r(this._view)).next(t=>{const{x:i,y:r,z:o}=t.mapEnd;if(n&&(i+c<n.xmin||r+h-u<n.ymin||i+c>n.xmax||r+h-u>n.ymax))return t;(\"start\"===t.action||0===s&&0===l&&0===p)&&(s=t.mapStart.x,l=t.mapStart.y,p=t.mapStart.z);const m=i-s,_=r-l,f=o-p;s=i,l=r,p=o;const v=\"start\"===t.action?0:1,x=e.move(m,_,f,v);return a(t,x),t})})}_createManipulator(){const t=this._view,i=this._graphic;return new a({view:t,graphic:i,selectable:!0,cursor:\"move\"})}}export{e as DragManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass r{get hovering(){return this.someManipulator(r=>r.hovering)}get grabbing(){return this.someManipulator(r=>r.grabbing)}get dragging(){return this.someManipulator(r=>r.dragging)}hasManipulator(r){return this.someManipulator(t=>t===r)}someManipulator(r){let t=!1;return this.forEachManipulator(a=>{!t&&r(a)&&(t=!0)}),t}}export{r as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../Color.js\";import i from\"../../../../Graphic.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{project as n,initializeProjection as h}from\"../../../../geometry/projectionUtils.js\";import{isValid as c}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/GraphicsLayer.js\";import p from\"../../../../symbols/CIMSymbol.js\";import{applyCIMSymbolColor as d}from\"../../../../symbols/support/cimSymbolUtils.js\";import{DragManipulation as m}from\"./manipulations/DragManipulation.js\";import{primaryKey as y}from\"../../../input/keys.js\";import{InteractiveToolBase as _}from\"../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as g}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const f={up:\"ArrowUp\",down:\"ArrowDown\",left:\"ArrowLeft\",right:\"ArrowRight\",toggleOpacity:\"t\",shift:\"Shift\",primaryKey:y},u=1,P=10,v=new e(\"#009af2\");let S=class extends _{constructor(t){super(t),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new l({internal:!0,listMode:\"hide\",visible:!1,effect:\"drop-shadow(0px, 0px, 3px)\",title:\"ControlPointsTransformationTool layer\"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type=\"reshape\"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._controlPointManipulations.forEach(t=>t.destroy()),this._controlPointEditGeometryOperations.forEach(t=>t.destroy()),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=o(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return c(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const t=this._undoStack[this._undoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canUndo}canRedo(){const t=this._redoStack[this._redoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canRedo}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();this._controlPointEditGeometryOperations[t].undo(),this.updateGraphics(),this._redoStack.push(t)}}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();this._controlPointEditGeometryOperations[t].redo(),this.updateGraphics(),this._undoStack.push(t)}}refresh(){const{mediaElement:t}=this;if(null==t.georeference)return;const e=t.georeference;\"control-points\"===e.type&&null!=e.coords&&(this._georeference=e,this._georeference.controlPoints.forEach(({mapPoint:t},e)=>{const i=this._controlPointEditGeometryOperations[e],o=i.data.parts[0].vertices[0];i.setVertexPosition(o,i.data.coordinateHelper.pointToVector(t))}),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._georeference,e=t.controlPoints,i=e[0].mapPoint.spatialReference,o=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map((r,s)=>{const a=r.data.geometry;return this._controlPointGraphics[s].geometry=a,{mapPoint:n(a,i),sourcePoint:o?e[s].sourcePoint:t.toSource(a)}})}updateActiveHandle(t){if(this.activeHandle===t)return;const e=this._controlPointGraphics[this.activeHandle].symbol.clone();d(e,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=e;const i=this._controlPointGraphics[t].symbol.clone();d(i,v),this._controlPointGraphics[t].symbol=i,this.activeHandle=t,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const t=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=t.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,mediaElement:e}=this;if(null==e.georeference)return;const o=e.georeference;\"control-points\"===o.type&&null!=o.coords&&(this._georeference=o,this._initialControlPoints=this._georeference.controlPoints,t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map(({mapPoint:e})=>g.fromGeometry(n(e,t.spatialReference),2)),this._controlPointGraphics=this._controlPointEditGeometryOperations.map((t,e)=>new i({symbol:new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:9,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:22.5,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:e===this.activeHandle?v.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:\"Display\",angle:0}}}),geometry:t.data.geometry})),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map(e=>new m({tool:this,view:t,graphic:e})),this.addHandles([...this._controlPointManipulations.map((t,e)=>t.createDragPipeline(this._getInfo.bind(this,e),(t,i)=>{\"start\"===t.action&&(this._undoStack.push(e),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()})),r(()=>this.view.scale,()=>this.active?this.updateGraphics():null)]),this._controlPointManipulations.forEach((t,e)=>{const i=t=>{this.addHandles([t.events.on([\"click\",\"grab-changed\"],t=>this.updateActiveHandle(e))])};t.forEachManipulator(i)}),this.addHandles([t.on(\"key-down\",i=>{t.activeTool===this&&(i.key!==f.shift||i.repeat||(this._isModifierActive=!0,i.stopPropagation()),i.key!==f.toggleOpacity||i.repeat||(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,i.stopPropagation()),i.key!==f.primaryKey||i.repeat||(this._factor=P,i.stopPropagation()),this._isModifierActive&&(i.key===f.up&&(this._move(0,this._factor),i.stopPropagation()),i.key===f.down&&(this._move(0,-this._factor),i.stopPropagation()),i.key===f.left&&(this._move(-this._factor,0),i.stopPropagation()),i.key===f.right&&(this._move(this._factor,0),i.stopPropagation())))}),t.on(\"key-up\",e=>{t.activeTool===this&&(e.key===f.shift&&(this._isModifierActive=!1,e.stopPropagation()),e.key===f.primaryKey&&(this._factor=u,e.stopPropagation()))})]))}async _loadProjectionEngine(){const t=this._georeference.controlPoints[0].mapPoint;return h(t.spatialReference,this.view.spatialReference)}_getInfo(t){return{editGeometryOperations:this._controlPointEditGeometryOperations[t],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(t,e){const i=this._controlPointEditGeometryOperations[this.activeHandle].move(t*this.view.resolution,e*this.view.resolution,0,0);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};t([s()],S.prototype,\"_hasValidSpatialReference\",null),t([s()],S.prototype,\"activeHandle\",void 0),t([s({constructOnly:!0,nonNullable:!0})],S.prototype,\"mediaElement\",void 0),t([s({readOnly:!0})],S.prototype,\"type\",void 0),t([s({constructOnly:!0})],S.prototype,\"view\",void 0),S=t([a(\"esri.views.2d.interactive.editingTools.ControlPointsTransformTool\")],S);export{S as ControlPointsTransformTool,f as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../../Graphic.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as s,initial as a}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../../geometry/Multipoint.js\";import c from\"../../../../../geometry/Point.js\";import{SnappingVisualizer2D as h}from\"../../SnappingVisualizer2D.js\";import{activeVertex as m,regularVertices as p,outline as u}from\"./symbols.js\";import{DrawGraphicTool as v,geometryTypeToDrawOperationGeometryType as y}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as d}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as g}from\"../../../../draw/drawSurfaces.js\";let E=class extends v{constructor(e){super(e),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:e.activeLineSymbol??u,regularVertices:e.regularVerticesSymbol??p,activeVertex:e.activeVertexSymbol??m,fill:e.activeFillSymbol},e.activeVertexSymbol||this.addHandles(s(()=>this.view?.effectiveTheme?.accentColor,e=>{if(!e)return;const t=this._visualElementSymbols.activeVertex.clone().set({color:e});this._visualElementGraphics.activeVertex?.set(\"symbol\",t),this._visualElementSymbols={...this._visualElementSymbols,activeVertex:t}},a))}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return null!=this._visualElementSymbols.fill&&(e.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(G),i()}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return this._createOrUpdateGraphic(null),new d({view:i,manipulators:this.manipulators,geometryType:y(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new g(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new h(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return i();const[s,a]=e,l=new c({x:s,y:a,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=l,i()):(this._visualElementGraphics.activeVertex=new t({geometry:l,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(G),i(()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=r(this._visualElementGraphics.activeVertex))}))}onCursorEdgeChanged(e){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=e,i()):(this._visualElementGraphics.activeEdge=new t({geometry:e,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(G),i(()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=r(this._visualElementGraphics.activeEdge))}))}onRegularVerticesChanged(e){const s=new o({points:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=s,i()):(this._visualElementGraphics.regularVertices=new t({geometry:s,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(G),i(()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=r(this._visualElementGraphics.regularVertices))}))}};function G(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}e([l()],E.prototype,\"activeFillSymbol\",void 0),e([l({readOnly:!0})],E.prototype,\"type\",void 0),e([l({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([n(\"esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../../../../../core/mathUtils.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";function n(t,e){\"start\"===t.action?e.cursor=\"grabbing\":e.cursor=\"grab\"}class s{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustScaleFactors(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=0!==t.direction[0]&&0!==t.direction[1]?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}}class r{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustRotateAngle(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustRotateAngle(t),t)}_adjustRotateAngle(a){const n=t(a.rotateAngle);a.rotateAngle=e(5*Math.round(n/5))}}export{s as PreserveAspectRatio,r as SnapRotation,n as onGrabChangedHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{d as i}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulation as a}from\"./Manipulation.js\";import{onGrabChangedHandle as o}from\"./utils.js\";import{getRotationAngle as e}from\"../../../../draw/support/drawUtils.js\";import{createManipulatorDragEventPipeline as n,screenToMap as s}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as l}from\"../../../../interactive/GraphicManipulator.js\";import{apply as h}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";class p extends a{constructor(i){super(),this._handles=new t,this._originCache=r(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._snapRotation=i.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",t=>o(t,this._manipulator))]),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(t){t(this._manipulator,2)}createDragPipeline(t,r){let a=null,o=null;return n(this._manipulator,(n,l)=>{l.next(i=>{if(\"start\"===i.action){n.cursor=\"grabbing\";const i=t();a=i.plane,o=i.editGeometryOperations}return i}).next(s(this._view)).next(t=>({...t,rotateAngle:e(t.mapStart,t.mapEnd,{x:a.origin[0],y:a.origin[1]},!0)})).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next(t=>{const e=i(this._originCache,a.origin),n=\"start\"===t.action?0:1,s=o.rotate(e,t.rotateAngle,n,1);return h(s,a),r(t,s),t}).next(t=>(\"end\"===t.action&&(n.cursor=\"grab\"),t))})}_createManipulator(){const t=this._view,i=this._graphic;return new l({view:t,graphic:i,selectable:!0,cursor:\"grab\"})}}export{p as RotateManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{set as i,normalize as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{d as a,c as s,e as n,b as o,f as l}from\"../../../../../chunks/vec32.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as c,d as p}from\"../../../../../chunks/boundedPlane.js\";import{getInfo as u}from\"../../../../../geometry/support/spatialReferenceUtils.js\";import{Manipulation as _}from\"./Manipulation.js\";import{onGrabChangedHandle as d}from\"./utils.js\";import{createManipulatorDragEventPipeline as m,screenToMap as f}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as g}from\"../../../../interactive/GraphicManipulator.js\";import{apply as v}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";const b=10,x=1e-6,C=.3;function y(t){const i=o(t.basis1),e=o(t.basis2);return C*Math.min(i,e)}class j extends _{constructor(i){super(),this._handles=new t,this._planeStart=c(),this._displayPlaneStart=c(),this._originCache=h(),this._axisCache=r(),this._renderStartCache=h(),this._renderEndCache=h(),this._resizeOriginCache=h(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._direction=i.direction,this._preserveAspectRatio=i.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",t=>d(t,this._manipulator))]),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(t){t(this._manipulator,1)}createDragPipeline(t,r){let h=null,c=null,_=null,d=0,g=null,C=null;const j=this._planeStart,w=this._displayPlaneStart,S=this._direction;return m(this._manipulator,(m,E)=>{E.next(i=>{if(\"start\"===i.action){m.cursor=\"grabbing\";const i=t();h=i.plane,c=i.displayPlane,_=i.editGeometryOperations,d=b*this._view.resolution,p(h,j),p(c,w);const e=u(_.data.spatialReference);g=e?e.valid[1]-e.valid[0]-3*b*this._view.resolution:null}return i}).next(f(this._view)).next(t=>{const i=a(this._renderStartCache,[t.mapStart.x,t.mapStart.y,0]),e=a(this._renderEndCache,[t.mapEnd.x,t.mapEnd.y,0]),r=a(this._resizeOriginCache,w.origin);s(r,r,w.basis1,-S[0]),s(r,r,w.basis2,-S[1]),n(e,e,r),n(i,i,r);const h=0!==S[0]&&0!==S[1],p=y(w),u=y(c)/p,_=(t,r)=>{if(0===t)return 1;let a=o(r),s=.5*t*l(r,e)/a;const n=s<0?-1:1;if(h){s+=(a-.5*t*l(r,i)/a)*n*u}const c=a<1.5*d?1:x;return a=Math.max(a-d,x),n>0&&(s-=b*this._view.resolution),n*Math.max(n*(s/a),c)},m=_(S[0],w.basis1),f=_(S[1],w.basis2);return{...t,direction:S,factor1:m,factor2:f}}).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(t=>{const n=a(this._originCache,j.origin);s(n,n,j.basis1,-S[0]),s(n,n,j.basis2,-S[1]);const o=i(this._axisCache,j.basis1[0],j.basis1[1]);e(o,o);const l=_.data.allVerticesUnordered,c=\"start\"===t.action?0:1,u=_.scaleVertices(l,n,o,t.factor1,t.factor2,c,1);return g&&g<_.data.geometry.extent.width&&C?_.updateVertices(l,C):(p(j,h),v(u,h),C=u.operation,r(t,u)),t}).next(t=>(\"end\"===t.action&&(m.cursor=\"grab\"),t))})}_createManipulator(){return new g({view:this._view,graphic:this._graphic,selectable:!0,cursor:\"grab\"})}}export{j as ScaleManipulation,y as calculateDiagonalResizeHandleScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Graphic.js\";import{getContrast as i}from\"../../../../core/colorUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as r}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{subtract as h,normalize as c}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l,UNIT_X as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as d,b as _,n as m,g as u,l as y,e as g}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import G from\"../../../../geometry/Polygon.js\";import{project as w,initializeProjection as R}from\"../../../../geometry/projectionUtils.js\";import{a as b,d as C}from\"../../../../chunks/boundedPlane.js\";import{equals as j}from\"../../../../geometry/support/spatialReferenceUtils.js\";import k from\"../../../../layers/GraphicsLayer.js\";import T from\"../../../../symbols/SimpleFillSymbol.js\";import S from\"../../../../symbols/SimpleMarkerSymbol.js\";import{DragManipulation as A}from\"./manipulations/DragManipulation.js\";import{RotateManipulation as P}from\"./manipulations/RotateManipulation.js\";import{ScaleManipulation as M}from\"./manipulations/ScaleManipulation.js\";import{PreserveAspectRatio as x,SnapRotation as O}from\"./manipulations/utils.js\";import{InteractiveToolBase as D}from\"../../../interactive/InteractiveToolBase.js\";import{KeyBindings as U,mediaKeys as L}from\"../../../interactive/keybindings.js\";import{EditGeometry as B}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as E}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{calculateOrientedBounds as H}from\"../../../interactive/editGeometry/support/editPlaneUtils.js\";import{findFirstGraphicHit as I}from\"../../../support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as z}from\"../../../support/screenUtils.js\";const V=80,q=10,F=30,N=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]],J=1,K=10;let Q=class extends D{constructor(e){super(e),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=b(),this._displayPlaneCache=b(),this._mainAxisCache=l(),this._rotationHandleCache=f(),this._cornerA=f(),this._cornerB=f(),this._cornerC=f(),this._cornerD=f(),this._avgAB=f(),this._avgBC=f(),this._avgCD=f(),this._avgDA=f(),this._preserveAspectRatio=new x,this._snapRotation=new O,this._graphicsLayer=new k({internal:!0,listMode:\"hide\",visible:!1,title:\"TransformTool layer\"}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=J,this.preserveAspectRatio=null,this.snapRotation=null,this.type=\"transform\"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach(e=>e.destroy()),this._editGeometryOperations.destroy(),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=s(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const e=this._graphic.geometry;if(null==e)return null;const t=this._editGeometryOperations.data,i=t.parts[0].segments[0],s=h(this._mainAxisCache,i.leftVertex.pos,i.rightVertex.pos);c(s,s);let o=V*this.view.resolution;const a=this.view.spatialReference;return j(a,e.spatialReference)&&(o*=r(a)/r(e.spatialReference)),H(s,t,o,this._planeCache)}get _displayPlane(){const e=this._plane;if(!e)return null;const t=this._displayPlaneCache;C(e,t);const i=q*this.view.resolution;return d(t.basis1,t.basis1,1+i/_(t.basis1)),d(t.basis2,t.basis2,1+i/_(t.basis2)),t}get _backgroundGraphicGeometry(){const e=this._displayPlane;if(!e)return null;const t=this.view.spatialReference;return this._updateDisplayPlaneConrers(e),new G({spatialReference:t,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const e=this._plane;if(!e)return null;const t=this._rotationHandleCache;return m(t,e.basis1),d(t,t,F*this.view.resolution),u(t,t,e.origin),u(t,t,e.basis1),new v({x:t[0],y:t[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const e=this._displayPlane;if(!e)return[];const t=this.view.spatialReference;this._updateDisplayPlaneConrers(e);const{_cornerA:i,_cornerB:s,_cornerC:o,_cornerD:r}=this,a=y(this._avgAB,i,s,.5),n=y(this._avgBC,s,o,.5),h=y(this._avgCD,o,r,.5),c=y(this._avgDA,r,i,.5);return[new v({x:i[0],y:i[1],spatialReference:t}),new v({x:s[0],y:s[1],spatialReference:t}),new v({x:o[0],y:o[1],spatialReference:t}),new v({x:r[0],y:r[1],spatialReference:t}),new v({x:a[0],y:a[1],spatialReference:t}),new v({x:n[0],y:n[1],spatialReference:t}),new v({x:h[0],y:h[1],spatialReference:t}),new v({x:c[0],y:c[1],spatialReference:t})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:e,target:t}=this,i=\"georeference\"in t?t.georeference.coords:t.geometry,s=this._editGeometryOperations,o=s.data.parts[0].vertices,r=B.fromGeometry(w(i,e.spatialReference),2).parts[0].vertices;o.forEach((e,t)=>{s.setVertexPosition(e,r[t].pos)}),this.updateGraphics()}reset(){const{target:e}=this;if(\"georeference\"in e){const t=e.georeference;\"control-points\"===t.type&&(t.controlPoints=this._initialControlPoints)}else e.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._editGeometryOperations.data.geometry;if(\"georeference\"in this.target){this.target.georeference.coords=e}this._graphic.geometry=e,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach((e,t)=>{this._scaleGraphics[t].geometry=e})}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,target:s}=this;if(\"georeference\"in s){const e=s.georeference;this._graphic=new t({geometry:e.coords}),this._initialControlPoints=\"control-points\"===e.type?e.controlPoints:null}else this._graphic=s,this._initialGeometry=s.geometry;e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=E.fromGeometry(w(this._graphic.geometry,e.spatialReference),2),this._backgroundGraphic=new t({symbol:new T({color:\"transparent\",outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new t({symbol:new S({color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map(s=>new t({symbol:new S({size:6,style:\"square\",color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:s})),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new A({tool:this,view:e,graphic:this._graphic}),this._rotateManipulation=new P({tool:this,view:e,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map((t,i)=>new M({tool:this,view:e,graphic:t,direction:N[i],preserveAspectRatio:this._preserveAspectRatio})),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map(e=>e.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this))),o(()=>this.view.scale,()=>this.active?this.updateGraphics():null),e.on(\"click\",async t=>{if(null!=e.activeTool&&e.activeTool!==this)return;const i=z(t),o=[];e.map.allLayers.forEach(e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)});const r=await this.view.hitTest(i,{exclude:o}),a=r.results;if(0===a.length)e.activeTool=null;else{const t=I(r.results),i=\"georeference\"in s,o=a.map(e=>\"media\"===e.type?e.element:null).filter(Boolean),n=new Set([...this._graphicsLayer.graphics,i?null:s].filter(Boolean));i&&o.includes(s)||null!=t&&n.has(t.graphic)?null==e.activeTool&&(e.activeTool=this):e.activeTool=null}})]);const r=e=>{this.addHandles(e.events.on(\"grab-changed\",e=>{\"georeference\"in s&&(\"start\"===e.action?s.opacity*=.5:\"end\"===e.action&&(s.opacity*=2))}))};this._dragManipulation.forEachManipulator(r),this._rotateManipulation.forEachManipulator(r),this._scaleManipulations.forEach(e=>e.forEachManipulator(r));const a=new U;a.addToggle(L.preserveAspectRatio,()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)}),a.addToggle(L.rotateIncrements,()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)}),a.add(L.toggleOpacity,()=>{\"georeference\"in s&&(s.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)}),a.addToggle(L.factorModifier,e=>this._factor=\"key-down\"===e.type?K:J),a.add(L.scaleUp,()=>this._scale(this._factor)),a.add(L.scaleDown,()=>this._scale(-this._factor)),a.add(L.moveUp,()=>this._move(0,this._factor)),a.add(L.moveDown,()=>this._move(0,-this._factor)),a.add(L.moveLeft,()=>this._move(-this._factor,0)),a.add(L.moveRight,()=>this._move(this._factor,0)),this.addHandles([e.on(\"key-down\",t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)}),e.on(\"key-up\",t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)})])}async _loadProjectionEngine(){const e=this._graphic.geometry;return R(e.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(e){const{basis1:t,basis2:i,origin:s}=e,o=this._cornerA;u(o,s,t),u(o,o,i);const r=this._cornerB;u(r,s,t),g(r,r,i);const a=this._cornerC;g(a,s,t),g(a,a,i);const n=this._cornerD;g(n,s,t),u(n,n,i)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(e,t){\"start\"===e.action&&(this._sharedUndoStack.push({tool:this,operation:t}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(e){const t=this._editGeometryOperations,i=t.data.geometry.extent?.width,s=(i+e*this.view.resolution)/i,o=t.scale(this._plane.origin,p,s,s,0,1);this._sharedUndoStack.push({tool:this,operation:o}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(e,t){const i=this._editGeometryOperations.move(e*this.view.resolution,t*this.view.resolution,0,0);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};e([a()],Q.prototype,\"_plane\",null),e([a()],Q.prototype,\"_backgroundGraphicGeometry\",null),e([a()],Q.prototype,\"_rotateGraphicGeometry\",null),e([a()],Q.prototype,\"_scaleGraphicGeometries\",null),e([a()],Q.prototype,\"preserveAspectRatio\",void 0),e([a()],Q.prototype,\"snapRotation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],Q.prototype,\"target\",void 0),e([a({readOnly:!0})],Q.prototype,\"type\",void 0),e([a({constructOnly:!0})],Q.prototype,\"view\",void 0),Q=e([n(\"esri.views.2d.interactive.editingTools.TransformTool\")],Q);export{Q as TransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{px2pt as r}from\"../../../core/screenUtils.js\";import{ensureClass as i}from\"../../../core/accessorSupport/ensureType.js\";import{subtract as o,cross as n}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as l}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import s from\"../../../geometry/Point.js\";import c from\"../../../geometry/Polyline.js\";import m from\"../../../geometry/SpatialReference.js\";import p from\"../../../symbols/CIMSymbol.js\";import y from\"../../../symbols/SimpleLineSymbol.js\";import g from\"../../../symbols/SimpleMarkerSymbol.js\";import{asVec2 as h}from\"../../interactive/sketch/normalizedPoint.js\";import{defaults as b}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as S}from\"../../interactive/snapping/SnappingVisualizer.js\";class f extends S{constructor(e){super(),this._graphicsLayer=e,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new s({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"intersectionPoint\",t.view.effectiveTheme.accentColor))}visualizePoint(e,t){return this._visualizeSnappingIndicator(new s({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"point\",t.view.effectiveTheme.accentColor))}visualizeLine(e,t){return this._visualizeSnappingIndicator(new c({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:i(m,t.spatialReference)}),this._getOrCreateSymbol(\"line\",t.view.effectiveTheme.accentColor))}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new c({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:i(m,t.spatialReference)}),this._getOrCreateSymbol(\"parallelSign\",t.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(e,t){const r=a(),s=a(),p=l();o(r,h(e.centerVertex),h(e.previousVertex)),o(s,h(e.nextVertex),h(e.previousVertex)),n(p,r,s);const y=`rightAngleQuad${p[2]<0?45:225}`;return this._visualizeSnappingIndicator(new c({paths:[[[...e.previousVertex],[...e.centerVertex],[...e.nextVertex]]],spatialReference:i(m,t.spatialReference)}),this._getOrCreateSymbol(y,t.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(r,i){const o=new e({geometry:r,symbol:i});return this._graphicsLayer.add(o),t(()=>{this._graphicsLayer.remove(o)})}_getOrCreateSymbol(e,t){const r=this._symbolPairingsByType;return r.get(e)?.color!==t&&r.set(e,{color:t,symbol:u(e,t)}),r.get(e).symbol}}function u(e,t){const i=[...t.toRgb(),255*t.a];switch(e){case\"point\":return new g({outline:{width:.5,color:[0,0,0,1]},size:10,color:t});case\"intersectionPoint\":return new g({outline:new y({width:1.5,color:t}),size:15,color:[0,0,0,0]});case\"line\":return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:r(b.lineHintWidthTarget),color:i}]}}});case\"parallelSign\":return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case\"rightAngleQuad45\":case\"rightAngleQuad225\":{const o=\"rightAngleQuad45\"===e?45:225;return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:r(b.rightAngleHintSize),rotation:o,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:r(b.rightAngleHintOutlineSize),color:i},{type:\"CIMSolidFill\",enable:!0,color:[...t.toRgb(),255*t.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}export{f as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ControlPointsTransformTool as a}from\"./ControlPointsTransformTool.js\";import{TransformTool as r}from\"./TransformTool.js\";const n={redo:\"r\",undo:\"z\"};let d=class extends t{constructor(o){super(o),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:o,mediaElement:t,preserveAspectRatio:s,snapRotation:i,advancedMode:d}=this;this._originalOpacity=t.opacity,this._transformTool=new r({target:t,view:o,preserveAspectRatio:s,snapRotation:i}),this._controlPointsTransformTool=new a({mediaElement:t,view:o}),this._advancedModeTransformTool=new a({mediaElement:d.mediaElement,view:d.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const l=t.georeference,c=d.mediaElement.georeference;d.view.tools.addMany([this._advancedModeTransformTool]),\"controlPoints\"in c&&\"controlPoints\"in l&&this.addHandles([d.view.on(\"key-down\",o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())}),d.view.on(\"focus\",async o=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),await this._advancedModeTransformTool.highlightActiveHandle()}),e(()=>c.controlPoints,o=>{l.controlPoints=o.map(({sourcePoint:o},t)=>({sourcePoint:o,mapPoint:l.controlPoints[t].mapPoint})),this._activeTool?.refresh()}),e(()=>this._controlPointsTransformTool.activeHandle,o=>{this._advancedModeTransformTool.updateActiveHandle(o),this.activeHandle=o}),e(()=>this._advancedModeTransformTool.activeHandle,o=>{this._controlPointsTransformTool.updateActiveHandle(o),this.activeHandle=o})]),this.addHandles([o.on(\"key-down\",o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())}),o.on(\"focus\",async o=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),await this._controlPointsTransformTool.highlightActiveHandle()})]),o.tools.addMany([this._transformTool,this._controlPointsTransformTool]),o.activeTool=this._transformTool,this._activeTool=this._transformTool,o.focus()}destroy(){this._transformTool?.destroy(),this._controlPointsTransformTool?.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){const{tool:o,operation:t}=this._sharedUndoStack.pop();o!==this._activeTool&&o.refresh(),t.undo(),o.updateGraphics(),this._sharedRedoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}redo(){if(this._sharedRedoStack.length>0){const{tool:o,operation:t}=this._sharedRedoStack.pop();o!==this._activeTool&&o.refresh(),t.apply(),o.updateGraphics(),this._sharedUndoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};o([s()],d.prototype,\"activeHandle\",void 0),o([s({constructOnly:!0})],d.prototype,\"advancedMode\",void 0),o([s()],d.prototype,\"preserveAspectRatio\",void 0),o([s()],d.prototype,\"snapRotation\",void 0),o([s({constructOnly:!0,nonNullable:!0})],d.prototype,\"mediaElement\",void 0),o([s({constructOnly:!0})],d.prototype,\"view\",void 0),d=o([i(\"esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper\")],d);export{d as MediaTransformToolsWrapper,n as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../core/arrayUtils.js\";import{rad2deg as n}from\"../../../core/mathUtils.js\";import{create as r,center as o}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as e}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as i}from\"../../../geometry/support/coordsUtils.js\";import{toEllipticArc7 as s}from\"../../../geometry/support/curves/circularArcUtils.js\";import{isCurvedGeometry as c,getEndpoint as u,isCoordinate as a,isBezierCurve as m,isCircularArc as l}from\"../../../geometry/support/curves/curveUtils.js\";import{transformEllipticArc as p}from\"../../../geometry/support/curves/ellipticArc7Utils.js\";import{getScaleTransform as f}from\"../../interactive/editGeometry/operations/curveOperationUtils.js\";function y(t,n,r,o){if(null==o||t.hasZ||(o=void 0),\"point\"===t.type)return t.x+=n,t.y+=r,t.hasZ&&null!=o&&(t.z+=o),t;if(\"multipoint\"===t.type){const e=t.points;for(let t=0;t<e.length;t++)e[t]=g(e[t],n,r,o);return t}if(\"extent\"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=r,t.ymax+=r,null!=o&&(t.zmin??=0,t.zmin+=o,t.zmax??=0,t.zmax+=o),t;const e=\"polyline\"===t.type?t.curvePaths??t.paths:t.curveRings??t.rings,i=c(t);for(let s=0;s<e.length;s++){const t=e[s];for(let e=0;e<t.length;e++)t[e]=v(t[e],n,r,o)}return\"paths\"in t?i?t.curvePaths=e:t.paths=e:i?t.curveRings=e:t.rings=e,t}function x(t,n,r,o,e){const i=t.clone();if(e){const{resolution:t}=o;y(i,n*t,-r*t)}else{const{dxMap:t,dyMap:e}=h(n,r,o);y(i,t,e)}return i}function h(t,n,r){const o=r.state.inverseTransform;return{dxMap:o[0]*t+o[2]*n,dyMap:o[1]*t+o[3]*n}}function g(t,n,r,o){return z(t,t[0]+n,t[1]+r,null!=t[2]&&null!=o?t[2]+o:void 0)}function v(t,n,r,o){const e=g(u(t),n,r,o);if(a(t))return e;if(m(t)){const[,o,i]=t.b;return{b:[e,[o[0]+n,o[1]+r],[i[0]+n,i[1]+r]]}}if(l(t)){const[,o]=t.c;return{c:[e,[o[0]+n,o[1]+r]]}}const[,i,...s]=t.a;return{a:[e,[i[0]+n,i[1]+r],...s]}}function M(n,s,c,a){if(\"point\"===n.type){const{x:t,y:r}=n,o=a?a[0]:t,e=a?a[1]:r,i=n.clone(),u=(t-o)*s+o,m=(r-e)*c+e;return i.x=u,i.y=m,i}if(\"extent\"===n.type){const{xmin:t,xmax:r,ymin:o,ymax:e}=n,i=a?a[0]:(t+r)/2,u=a?a[1]:(e+o)/2,m=n.clone();if(m.xmin=(t-i)*s+i,m.ymax=(e-u)*c+u,m.xmax=(r-i)*s+i,m.ymin=(o-u)*c+u,m.xmin>m.xmax){const t=m.xmin,n=m.xmax;m.xmin=n,m.xmax=t}if(m.ymin>m.ymax){const t=m.ymin,n=m.ymax;m.ymin=n,m.ymax=t}return m}let m=null;if(!a){m=i(n);const t=r(),o=e(t,m);if(!o)return n.clone();const[s,c,u,l]=o;a=[(s+u)/2,(c+l)/2]}const[l,p]=a;if(\"multipoint\"===n.type){const t=n.clone(),r=t.points;for(let n=0;n<r.length;n++){const t=r[n],[o,e]=t,i=(o-l)*s+l,u=(e-p)*c+p;r[n]=z(t,i,u,void 0)}return t.points=r,t}const f=n.clone();m??=i(n);const y=\"polygon\"===f.type,x=y?f.curveRings??f.rings:f.curvePaths??f.paths;if(!a){const t=r(),n=e(t,x,!1,!1);if(!n)return f;a=o(n)}for(const r of x){let n=null;const o=y&&r.length>0&&t(u(r[0]),u(r.at(-1)));for(let t=0;t<r.length;t++){const o=r[t];r[t]=j(o,s,c,l,p,n),n=o}o&&(r[0]=[...u(r.at(-1))])}return f}function d(t,n,r,o,e){const[i,s,...c]=t;return[(i-o)*n+o,(s-e)*r+e,...c]}function j(t,n,r,o,e,i){if(a(t))return d(t,n,r,o,e);if(m(t)){const[i,s,c]=t.b.map(t=>d(t,n,r,o,e));return{b:[i,s,c]}}if(!i)return t;const c=u(i),y=l(t)?s(c,t):t,[x,h,g,v,M,j,U]=y.a,b=M??0,z=j??Math.hypot(x[0]-h[0],x[1]-h[1]),R=U??1,P=f(o,e,1,0,0,1,n,r);return p(c,{a:[[...x],[...h],g,v,b,z,R]},P)}function U(t,n,r,o,e,i){const s=Math.sqrt((r-t)*(r-t)+(o-n)*(o-n));return Math.sqrt((e-t)*(e-t)+(i-n)*(i-n))/s}function b(t,r,o,e=!1){const i=Math.atan2(r.y-o.y,r.x-o.x)-Math.atan2(t.y-o.y,t.x-o.x),s=Math.atan2(Math.sin(i),Math.cos(i));return e?s:n(s)}function z(t,n,r,o){const e=[n,r];return t.length>2&&e.push(null!=o?o:t[2]),t.length>3&&e.push(t[3]),e}export{x as cloneMove,b as getRotationAngle,U as getScaleRatio,y as move,M as scale,h as screenDeltaToMapDelta};\n"],"names":["e","t","constructor","super","this","_view","view","_tool","tool","_graphic","graphic","_manipulator","_createManipulator","forEachManipulator","manipulators","add","destroy","remove","createDragPipeline","a","n","s","l","p","offsetX","c","offsetY","h","size","u","o","symbol","i","next","action","editGeometryOperations","constraints","r","x","y","z","mapEnd","xmin","ymin","xmax","ymax","mapStart","m","_","f","v","move","selectable","cursor","hovering","someManipulator","grabbing","dragging","hasManipulator","S","_isOpacityToggled","_isModifierActive","_factor","_initialControlPoints","_graphicsLayer","internal","listMode","visible","effect","title","_undoStack","_redoStack","_sharedUndoStack","_sharedRedoStack","_highlightHandle","activeHandle","type","initialize","_initialize","map","_controlPointManipulations","forEach","_controlPointEditGeometryOperations","removeMany","removeAll","_georeference","_controlPointGraphics","_hasValidSpatialReference","spatialReference","onActivate","onDeactivate","onShow","onHide","canUndo","length","canRedo","undo","pop","updateGraphics","push","redo","refresh","mediaElement","georeference","coords","controlPoints","_ref","mapPoint","data","parts","vertices","setVertexPosition","coordinateHelper","pointToVector","reset","geometry","sourcePoint","toSource","updateActiveHandle","clone","d","effectiveTheme","accentColor","surface","document","activeElement","highlightActiveHandle","removeHighlightActiveHandle","whenLayerView","highlight","setSharedUndoStack","setSharedRedoStack","addMany","focus","finishToolCreation","_loadProjectionEngine","_ref2","g","fromGeometry","symbolLayers","enable","colorLocked","anchorPoint","anchorPointUnits","dominantSizeAxis3D","billboardMode3D","frame","markerGraphics","rings","color","scaleSymbolsProportionally","respectFrame","clippingPath","clippingType","path","rotation","toArray","haloSize","scaleX","angleAlignment","angle","graphics","addHandles","_getInfo","bind","operation","scale","active","events","on","activeTool","key","repeat","stopPropagation","opacity","_move","width","height","resolution","prototype","constructOnly","nonNullable","readOnly","effects","dashTemplate","lineDashEnding","controlPointEnding","capStyle","joinStyle","miterLimit","style","outline","E","_e$activeLineSymbol","_e$regularVerticesSym","_e$activeVertexSymbol","_visualElementGraphics","regularVertices","activeVertex","activeEdge","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","_this$view","_this$_visualElementG","set","_objectSpread","normalizeCtorArgs","initializeGraphic","internalGraphicsLayer","sort","G","makeDrawOperation","defaultZ","hasZ","_createOrUpdateGraphic","geometryType","drawingMode","mode","snapToSceneEnabled","snapToScene","drawSurface","hasM","snappingManager","snappingVisualizer","constraintsEnabled","automaticLengthMeasurementUtils","onActiveVertexChanged","attributes","displayOrder","onCursorEdgeChanged","onRegularVerticesChanged","points","_e$attributes$display","_e$attributes","_t$attributes$display","_t$attributes","_lastDragEvent","_enabled","enabled","_adjustScaleFactors","execute","createDragEventPipelineStep","direction","Math","max","abs","factor1","factor2","_adjustRotateAngle","rotateAngle","round","_handles","_originCache","_snapRotation","snapRotation","plane","origin","rotate","basis1","basis2","min","j","_planeStart","_displayPlaneStart","_axisCache","_renderStartCache","_renderEndCache","_resizeOriginCache","_direction","_preserveAspectRatio","preserveAspectRatio","C","w","displayPlane","valid","allVerticesUnordered","scaleVertices","extent","updateVertices","N","Q","D","_initialGeometry","_planeCache","b","_displayPlaneCache","_mainAxisCache","_rotationHandleCache","_cornerA","_cornerB","_cornerC","_cornerD","_avgAB","_avgBC","_avgCD","_avgDA","O","k","_dragManipulation","_rotateManipulation","_scaleManipulations","_editGeometryOperations","_plane","segments","leftVertex","pos","rightVertex","H","_displayPlane","_backgroundGraphicGeometry","_updateDisplayPlaneConrers","_rotateGraphicGeometry","_scaleGraphicGeometries","target","B","_backgroundGraphic","_rotateGraphic","_scaleGraphics","T","A","P","M","_updateGraphics","async","allLayers","hitTest","exclude","results","I","element","filter","Boolean","Set","includes","has","U","addToggle","L","rotateIncrements","toggleOpacity","factorModifier","scaleUp","_scale","scaleDown","moveUp","moveDown","moveLeft","moveRight","dispatch","inputManager","R","_t$data$geometry$exte","_symbolPairingsByType","Map","visualizeIntersectionPoint","_visualizeSnappingIndicator","intersectionPoint","_getOrCreateSymbol","visualizePoint","point","visualizeLine","paths","lineStart","lineEnd","visualizeParallelSign","visualizeRightAngleQuad","centerVertex","previousVertex","nextVertex","concat","_r$get","get","toRgb","lineHintWidthTarget","markerPlacement","placePerPart","angleToLine","relativeTo","rightAngleHintSize","placeOnEndPoints","rightAngleHintOutlineSize","_transformTool","_controlPointsTransformTool","_advancedModeTransformTool","_activeTool","_originalOpacity","advancedMode","tools","_this$_activeTool","_this$_transformTool","_this$_controlPointsT","_this$_activeTool2","_this$_activeTool3","apply","enableAdvancedMode","when","disableAdvancedMode","_t$zmin","_t$zmax","_t$curvePaths","_t$curveRings","zmin","zmax","curvePaths","curveRings","dxMap","dyMap","state","inverseTransform","_m","_f$curveRings","_f$curvePaths","at","hypot","sqrt","arguments","undefined","atan2","sin","cos"],"sourceRoot":""}