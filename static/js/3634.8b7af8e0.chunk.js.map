{"version":3,"file":"static/js/3634.8b7af8e0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/BufferObject.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{isArrayLike as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Logger.js\";import{isUint16Array as r,isUint32Array as i}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as s}from\"./checkWebGLError.js\";import{ContextType as n}from\"./contextUtils.js\";import{BufferType as o,Usage as a,ResourceType as f,DataType as u}from\"./enums.js\";const _=t.getLogger(\"esri.views.webgl.BufferObject\");class h{static createIndex(e,t,r){return new h(e,o.ELEMENT_ARRAY_BUFFER,t,r)}static createVertex(e,t,r){return new h(e,o.ARRAY_BUFFER,t,r)}static createUniform(e,t,r){if(e.type!==n.WEBGL2)throw new Error(\"Uniform buffers are supported in WebGL2 only!\");return new h(e,o.UNIFORM_BUFFER,t,r)}static createPixelPack(e,t=a.STREAM_READ,r){if(e.type!==n.WEBGL2)throw new Error(\"Pixel pack buffers are supported in WebGL2 only!\");const i=new h(e,o.PIXEL_PACK_BUFFER,t);return r&&i.setSize(r),i}static createPixelUnpack(e,t=a.STREAM_DRAW,r){if(e.type!==n.WEBGL2)throw new Error(\"Pixel unpack buffers are supported in WebGL2 only!\");return new h(e,o.PIXEL_UNPACK_BUFFER,t,r)}constructor(e,t,r,i){this._context=e,this.bufferType=t,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(f.BufferObject,this),this._glName=this._context.gl.createBuffer(),s(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===o.ELEMENT_ARRAY_BUFFER?this._indexType===u.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===o.ELEMENT_ARRAY_BUFFER||this.bufferType===o.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(f.BufferObject,this),this._context=null}else this._glName&&_.warn(\"Leaked WebGL buffer object\")}setSize(e,t=null){if(e<=0&&_.error(\"Buffer size needs to be positive!\"),this.bufferType===o.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case u.UNSIGNED_SHORT:e*=2;break;case u.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===o.ELEMENT_ARRAY_BUFFER&&(r(e)&&(t/=2,this._indexType=u.UNSIGNED_SHORT),i(e)&&(t/=4,this._indexType=u.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),s(i),this._isVAOAware&&this._context.bindVAO(r)}setSubData(e,t,r,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.byteLength)&&_.error(\"offset is out of range!\"),r>=i&&_.error(\"end must be bigger than start!\"),(t+(i-r))*e.BYTES_PER_ELEMENT>this.byteLength&&_.error(\"An attempt to write beyond the end of the buffer!\");const o=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl;if(this._context.type===n.WEBGL2)a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,r,i-r);else{const s=0===r&&i===e.length?e:e.subarray(r,i);a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,s)}s(a),this._isVAOAware&&this._context.bindVAO(o)}getSubData(e,t=0,r,i){if(this._context.type!==n.WEBGL2)return void _.error(\"Get buffer subdata is supported in WebGL2 only!\");if(r<0||i<0)return void _.error(\"Problem getting subdata: offset and length were less than zero!\");const s=E(e)?e.BYTES_PER_ELEMENT:1;if(s*((r??0)+(i??0))>e.byteLength)return void _.error(\"Problem getting subdata: offset and length exceeded destination size!\");t+s*(i??0)>this.byteLength&&_.warn(\"Potential problem getting subdata: requested data exceeds buffer size!\");const a=this._context.gl;this._context.bindBuffer(this,o.COPY_READ_BUFFER),a.getBufferSubData(o.COPY_READ_BUFFER,t,e,r,i),this._context.unbindBuffer(o.COPY_READ_BUFFER)}async getSubDataAsync(e,t=0,r,i){this._context.type===n.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(e,t,r,i)):_.error(\"Get buffer subdata is supported in WebGL2 only!\")}}function E(t){return e(t)}export{h as BufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import{disposeMaybe as e}from\"../../core/maybe.js\";import{BufferObject as i}from\"./BufferObject.js\";import{webglDebugEnabled as r}from\"./checkWebGLError.js\";import{ContextType as s}from\"./contextUtils.js\";import{ResourceType as h,ColorAttachment as n,PixelFormat as o,PixelType as c,DepthStencilAttachment as a,FramebufferTarget as u,TextureType as _,Usage as l,BufferType as f,RenderbufferFormat as T}from\"./enums.js\";import{GLObjectType as d}from\"./GLObjectType.js\";import{Renderbuffer as m}from\"./Renderbuffer.js\";import{Texture as p}from\"./Texture.js\";const x=t.getLogger(\"esri.views.webgl.FramebufferObject\");class E{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(h.FramebufferObject,this);const r=g(e)?e:new p(this._context,e);if(this._colorAttachments.set(n.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(n.COLOR_ATTACHMENT0),null!=i)if(b(i))this._context.capabilities.depthTexture||console.error(\"Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2\"),this._depthStencilTexture=g(i)?i:new p(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=A(i)?i:new m(this._context,i);this._depthStencilBuffer=t,this._validateRenderBufferDescriptor(t.descriptor)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(h.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(n.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencil?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&g(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=n.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=n.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e){if(this._initialized){const e=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t),this._context.bindFramebuffer(e)}return this._colorAttachments.delete(t),e}}setColorTextureTarget(t,e=n.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case d.Texture:return this._attachDepthStencilTexture(t);case d.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==o.DEPTH_STENCIL&&e.pixelFormat!==o.DEPTH24_STENCIL8&&console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\"),e.dataType!==c.UNSIGNED_INT_24_8&&console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"),this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!\"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,a)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,a)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(u.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(u.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthStencilBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error(\"Offsets cannot be negative!\"),(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=n.descriptor;n.descriptor.target!==_.TEXTURE_2D&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const c=this._context,a=c.bindTexture(n,p.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(p.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(_.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,p.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\"),n||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,h,n,o,c,a){if(this._context.type!==s.WEBGL2)return r()&&console.warn(\"Attempting to read pixels using pixel buffer object without WebGL2\"),void this.readPixels(t,e,h,n,o,c,a);const u=this._context.gl,_=i.createPixelPack(this._context,l.STREAM_READ,a.byteLength);this._context.bindBuffer(_),this._context.bindFramebuffer(this),u.readPixels(t,e,h,n,o,c,0),this._context.unbindBuffer(f.PIXEL_PACK_BUFFER),await _.getSubDataAsync(a),_.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};S(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(S(i,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=u.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();if(e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,R(e),t))),this._depthStencilBuffer){const i=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,R(this._depthStencilTexture),t);if(r()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=n.COLOR_ATTACHMENT0,i=_.TEXTURE_2D,r=u.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(u.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=e(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=e(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==_.TEXTURE_2D&&t.target!==_.TEXTURE_CUBE_MAP&&console.error(\"Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!\"),S(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){S(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case T.DEPTH_COMPONENT16:case T.DEPTH_COMPONENT24:case T.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case T.DEPTH24_STENCIL8:case T.DEPTH32F_STENCIL8:case T.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case T.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===E._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;E._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else E._MAX_COLOR_ATTACHMENTS=1}const i=e-n.COLOR_ATTACHMENT0;i+1>E._MAX_COLOR_ATTACHMENTS&&t.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${E._MAX_COLOR_ATTACHMENTS} color attachments`)}}function g(t){return null!=t&&\"type\"in t&&t.type===d.Texture}function A(t){return null!=t&&\"type\"in t&&t.type===d.RenderBuffer}function b(t){return g(t)||null!=t&&\"pixelFormat\"in t}function S(t,e){const i=Math.max(t.width,t.height);if(i>e){x.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function R(t){return t.descriptor.target===_.TEXTURE_CUBE_MAP?_.TEXTURE_CUBE_MAP_POSITIVE_X:_.TEXTURE_2D}E._MAX_COLOR_ATTACHMENTS=-1;export{E as FramebufferObject,S as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{ContextType as e}from\"./contextUtils.js\";import{ResourceType as t}from\"./enums.js\";import{GLObjectType as r}from\"./GLObjectType.js\";import{estimateMemory as s}from\"./RenderbufferDescriptor.js\";class i{constructor(s,i){this._context=s,this._descriptor=i,this.type=r.RenderBuffer,this._context.instanceCounter.increment(t.Renderbuffer,this);const n=this._context.gl;this.glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:h,internalFormat:c,multisampled:f}=i;if(f){if(this._context.type!==e.WEBGL2)throw new Error(\"Multisampled renderbuffers are not supported in WebGL1!\");n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,c,o,h)}else n.renderbufferStorage(n.RENDERBUFFER,c,o,h)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get gpuMemoryUsage(){return s(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(t.Renderbuffer,this),this._context=null)}}export{i as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{getBytesPerElementFormat as t}from\"./Util.js\";class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n"],"names":["_","t","getLogger","h","createIndex","e","r","o","ELEMENT_ARRAY_BUFFER","createVertex","ARRAY_BUFFER","createUniform","type","n","WEBGL2","Error","UNIFORM_BUFFER","createPixelPack","arguments","length","undefined","a","STREAM_READ","i","PIXEL_PACK_BUFFER","setSize","createPixelUnpack","STREAM_DRAW","PIXEL_UNPACK_BUFFER","constructor","this","_context","bufferType","usage","_glName","_size","_indexType","instanceCounter","increment","f","BufferObject","gl","createBuffer","s","setData","glName","size","indexType","byteLength","u","UNSIGNED_INT","_isVAOAware","dispose","_this$_context","deleteBuffer","decrement","warn","error","UNSIGNED_SHORT","_setBufferData","getBoundVAO","bindVAO","bindBuffer","bufferData","setSubData","BYTES_PER_ELEMENT","bufferSubData","subarray","getSubData","E","COPY_READ_BUFFER","getBufferSubData","unbindBuffer","getSubDataAsync","clientWaitAsync","x","_colorAttachments","Map","_depthStencilBuffer","_depthStencilTexture","_initialized","FramebufferObject","g","p","set","COLOR_ATTACHMENT0","_validateTextureDescriptor","descriptor","_validateColorAttachmentPoint","b","capabilities","depthTexture","console","d","RenderBuffer","A","m","_validateRenderBufferDescriptor","_this$detachDepthSten","_this$detachDepthSten2","getBoundFramebufferObject","forEach","_this$detachColorText","detachColorTexture","detachDepthStencilBuffer","detachDepthStencilTexture","deleteFramebuffer","bindFramebuffer","colorTexture","get","depthStencil","depthStencilTexture","width","_t$descriptor$width","_t$descriptor","height","_t$descriptor$height","_t$descriptor2","gpuMemoryUsage","_this$depthStencil$gp","_this$depthStencil","reduce","_ref","getColorTexture","colorAttachments","keys","attachColorTexture","_this$detachColorText2","_framebufferTexture2D","delete","setColorTextureTarget","attachDepthStencil","Texture","_attachDepthStencilTexture","_attachDepthStencilBuffer","_this$_depthStencilTe","pixelFormat","DEPTH_STENCIL","DEPTH24_STENCIL8","dataType","c","UNSIGNED_INT_24_8","_disposeDepthStencilAttachments","_getGLAttachmentPoint","framebufferRenderbuffer","FRAMEBUFFER","RENDERBUFFER","copyToTexture","target","TEXTURE_2D","bindTexture","TEXTURE_UNIT_FOR_UPDATES","setActiveTexture","copyTexSubImage2D","readPixels","readPixelsAsync","l","resize","_this$_depthStencilTe2","_this$_depthStencilBu","S","parameters","maxTextureSize","maxRenderbufferSize","initializeAndBind","createFramebuffer","R","DEPTH_STENCIL_ATTACHMENT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","framebufferTexture2D","TEXTURE_CUBE_MAP","_validateBufferDimensions","internalFormat","T","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","DEPTH_ATTACHMENT","DEPTH32F_STENCIL8","STENCIL_INDEX8","STENCIL_ATTACHMENT","_MAX_COLOR_ATTACHMENTS","drawBuffers","getParameter","MAX_COLOR_ATTACHMENTS","concat","Math","max","round","TEXTURE_CUBE_MAP_POSITIVE_X","_descriptor","Renderbuffer","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer"],"sourceRoot":""}