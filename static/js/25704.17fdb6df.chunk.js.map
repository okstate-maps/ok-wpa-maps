{"version":3,"file":"static/js/25704.17fdb6df.chunk.js","mappings":"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O,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,KAAK,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,MAAM,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,KAAK,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC,IAAI,OAAO,CAAC,GAAG,OAAO,CAAC,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,IAAI,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,OAAO,CAAC,GAAG,MAAM,CAAC,KAAK,MAA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","sources":["../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/ControlPointsTransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/MediaTransformToolsWrapper.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/utils.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/RotateManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/ScaleManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/TransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/DragManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/draw/support/drawUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{px2pt as r}from\"../../../core/screenUtils.js\";import{ensureClass as i}from\"../../../core/accessorSupport/ensureType.js\";import{subtract as o,cross as n}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{create as l}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import s from\"../../../geometry/Point.js\";import c from\"../../../geometry/Polyline.js\";import m from\"../../../geometry/SpatialReference.js\";import p from\"../../../symbols/CIMSymbol.js\";import y from\"../../../symbols/SimpleLineSymbol.js\";import g from\"../../../symbols/SimpleMarkerSymbol.js\";import{asVec2 as h}from\"../../interactive/sketch/normalizedPoint.js\";import{defaults as b}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as S}from\"../../interactive/snapping/SnappingVisualizer.js\";class f extends S{constructor(e){super(),this._graphicsLayer=e,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new s({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"intersectionPoint\",t.view.effectiveTheme.accentColor))}visualizePoint(e,t){return this._visualizeSnappingIndicator(new s({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol(\"point\",t.view.effectiveTheme.accentColor))}visualizeLine(e,t){return this._visualizeSnappingIndicator(new c({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:i(m,t.spatialReference)}),this._getOrCreateSymbol(\"line\",t.view.effectiveTheme.accentColor))}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new c({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:i(m,t.spatialReference)}),this._getOrCreateSymbol(\"parallelSign\",t.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(e,t){const r=a(),s=a(),p=l();o(r,h(e.centerVertex),h(e.previousVertex)),o(s,h(e.nextVertex),h(e.previousVertex)),n(p,r,s);const y=`rightAngleQuad${p[2]<0?45:225}`;return this._visualizeSnappingIndicator(new c({paths:[[[...e.previousVertex],[...e.centerVertex],[...e.nextVertex]]],spatialReference:i(m,t.spatialReference)}),this._getOrCreateSymbol(y,t.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(r,i){const o=new e({geometry:r,symbol:i});return this._graphicsLayer.add(o),t(()=>{this._graphicsLayer.remove(o)})}_getOrCreateSymbol(e,t){const r=this._symbolPairingsByType;return r.get(e)?.color!==t&&r.set(e,{color:t,symbol:u(e,t)}),r.get(e).symbol}}function u(e,t){const i=[...t.toRgb(),255*t.a];switch(e){case\"point\":return new g({outline:{width:.5,color:[0,0,0,1]},size:10,color:t});case\"intersectionPoint\":return new g({outline:new y({width:1.5,color:t}),size:15,color:[0,0,0,0]});case\"line\":return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:r(b.lineHintWidthTarget),color:i}]}}});case\"parallelSign\":return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case\"rightAngleQuad45\":case\"rightAngleQuad225\":{const o=\"rightAngleQuad45\"===e?45:225;return new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:r(b.rightAngleHintSize),rotation:o,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:r(b.rightAngleHintOutlineSize),color:i},{type:\"CIMSolidFill\",enable:!0,color:[...t.toRgb(),255*t.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}export{f as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../Color.js\";import i from\"../../../../Graphic.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{project as n,initializeProjection as h}from\"../../../../geometry/projectionUtils.js\";import{isValid as c}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/GraphicsLayer.js\";import p from\"../../../../symbols/CIMSymbol.js\";import{applyCIMSymbolColor as d}from\"../../../../symbols/support/cimSymbolUtils.js\";import{DragManipulation as m}from\"./manipulations/DragManipulation.js\";import{primaryKey as y}from\"../../../input/keys.js\";import{InteractiveToolBase as _}from\"../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as g}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const f={up:\"ArrowUp\",down:\"ArrowDown\",left:\"ArrowLeft\",right:\"ArrowRight\",toggleOpacity:\"t\",shift:\"Shift\",primaryKey:y},u=1,P=10,v=new e(\"#009af2\");let S=class extends _{constructor(t){super(t),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new l({internal:!0,listMode:\"hide\",visible:!1,effect:\"drop-shadow(0px, 0px, 3px)\",title:\"ControlPointsTransformationTool layer\"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type=\"reshape\"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._controlPointManipulations.forEach(t=>t.destroy()),this._controlPointEditGeometryOperations.forEach(t=>t.destroy()),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=o(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return c(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const t=this._undoStack[this._undoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canUndo}canRedo(){const t=this._redoStack[this._redoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canRedo}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();this._controlPointEditGeometryOperations[t].undo(),this.updateGraphics(),this._redoStack.push(t)}}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();this._controlPointEditGeometryOperations[t].redo(),this.updateGraphics(),this._undoStack.push(t)}}refresh(){const{mediaElement:t}=this;if(null==t.georeference)return;const e=t.georeference;\"control-points\"===e.type&&null!=e.coords&&(this._georeference=e,this._georeference.controlPoints.forEach(({mapPoint:t},e)=>{const i=this._controlPointEditGeometryOperations[e],o=i.data.parts[0].vertices[0];i.setVertexPosition(o,i.data.coordinateHelper.pointToVector(t))}),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._georeference,e=t.controlPoints,i=e[0].mapPoint.spatialReference,o=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map((r,s)=>{const a=r.data.geometry;return this._controlPointGraphics[s].geometry=a,{mapPoint:n(a,i),sourcePoint:o?e[s].sourcePoint:t.toSource(a)}})}updateActiveHandle(t){if(this.activeHandle===t)return;const e=this._controlPointGraphics[this.activeHandle].symbol.clone();d(e,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=e;const i=this._controlPointGraphics[t].symbol.clone();d(i,v),this._controlPointGraphics[t].symbol=i,this.activeHandle=t,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const t=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=t.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,mediaElement:e}=this;if(null==e.georeference)return;const o=e.georeference;\"control-points\"===o.type&&null!=o.coords&&(this._georeference=o,this._initialControlPoints=this._georeference.controlPoints,t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map(({mapPoint:e})=>g.fromGeometry(n(e,t.spatialReference),2)),this._controlPointGraphics=this._controlPointEditGeometryOperations.map((t,e)=>new i({symbol:new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:9,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:22.5,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:e===this.activeHandle?v.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:\"Display\",angle:0}}}),geometry:t.data.geometry})),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map(e=>new m({tool:this,view:t,graphic:e})),this.addHandles([...this._controlPointManipulations.map((t,e)=>t.createDragPipeline(this._getInfo.bind(this,e),(t,i)=>{\"start\"===t.action&&(this._undoStack.push(e),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()})),r(()=>this.view.scale,()=>this.active?this.updateGraphics():null)]),this._controlPointManipulations.forEach((t,e)=>{const i=t=>{this.addHandles([t.events.on([\"click\",\"grab-changed\"],t=>this.updateActiveHandle(e))])};t.forEachManipulator(i)}),this.addHandles([t.on(\"key-down\",i=>{t.activeTool===this&&(i.key!==f.shift||i.repeat||(this._isModifierActive=!0,i.stopPropagation()),i.key!==f.toggleOpacity||i.repeat||(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,i.stopPropagation()),i.key!==f.primaryKey||i.repeat||(this._factor=P,i.stopPropagation()),this._isModifierActive&&(i.key===f.up&&(this._move(0,this._factor),i.stopPropagation()),i.key===f.down&&(this._move(0,-this._factor),i.stopPropagation()),i.key===f.left&&(this._move(-this._factor,0),i.stopPropagation()),i.key===f.right&&(this._move(this._factor,0),i.stopPropagation())))}),t.on(\"key-up\",e=>{t.activeTool===this&&(e.key===f.shift&&(this._isModifierActive=!1,e.stopPropagation()),e.key===f.primaryKey&&(this._factor=u,e.stopPropagation()))})]))}async _loadProjectionEngine(){const t=this._georeference.controlPoints[0].mapPoint;return h(t.spatialReference,this.view.spatialReference)}_getInfo(t){return{editGeometryOperations:this._controlPointEditGeometryOperations[t],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(t,e){const i=this._controlPointEditGeometryOperations[this.activeHandle].move(t*this.view.resolution,e*this.view.resolution,0,0);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};t([s()],S.prototype,\"_hasValidSpatialReference\",null),t([s()],S.prototype,\"activeHandle\",void 0),t([s({constructOnly:!0,nonNullable:!0})],S.prototype,\"mediaElement\",void 0),t([s({readOnly:!0})],S.prototype,\"type\",void 0),t([s({constructOnly:!0})],S.prototype,\"view\",void 0),S=t([a(\"esri.views.2d.interactive.editingTools.ControlPointsTransformTool\")],S);export{S as ControlPointsTransformTool,f as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ControlPointsTransformTool as a}from\"./ControlPointsTransformTool.js\";import{TransformTool as r}from\"./TransformTool.js\";const n={redo:\"r\",undo:\"z\"};let d=class extends t{constructor(o){super(o),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:o,mediaElement:t,preserveAspectRatio:s,snapRotation:i,advancedMode:d}=this;this._originalOpacity=t.opacity,this._transformTool=new r({target:t,view:o,preserveAspectRatio:s,snapRotation:i}),this._controlPointsTransformTool=new a({mediaElement:t,view:o}),this._advancedModeTransformTool=new a({mediaElement:d.mediaElement,view:d.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const l=t.georeference,c=d.mediaElement.georeference;d.view.tools.addMany([this._advancedModeTransformTool]),\"controlPoints\"in c&&\"controlPoints\"in l&&this.addHandles([d.view.on(\"key-down\",o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())}),d.view.on(\"focus\",async o=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),await this._advancedModeTransformTool.highlightActiveHandle()}),e(()=>c.controlPoints,o=>{l.controlPoints=o.map(({sourcePoint:o},t)=>({sourcePoint:o,mapPoint:l.controlPoints[t].mapPoint})),this._activeTool?.refresh()}),e(()=>this._controlPointsTransformTool.activeHandle,o=>{this._advancedModeTransformTool.updateActiveHandle(o),this.activeHandle=o}),e(()=>this._advancedModeTransformTool.activeHandle,o=>{this._controlPointsTransformTool.updateActiveHandle(o),this.activeHandle=o})]),this.addHandles([o.on(\"key-down\",o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())}),o.on(\"focus\",async o=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),await this._controlPointsTransformTool.highlightActiveHandle()})]),o.tools.addMany([this._transformTool,this._controlPointsTransformTool]),o.activeTool=this._transformTool,this._activeTool=this._transformTool,o.focus()}destroy(){this._transformTool?.destroy(),this._controlPointsTransformTool?.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){const{tool:o,operation:t}=this._sharedUndoStack.pop();o!==this._activeTool&&o.refresh(),t.undo(),o.updateGraphics(),this._sharedRedoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}redo(){if(this._sharedRedoStack.length>0){const{tool:o,operation:t}=this._sharedRedoStack.pop();o!==this._activeTool&&o.refresh(),t.apply(),o.updateGraphics(),this._sharedUndoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};o([s()],d.prototype,\"activeHandle\",void 0),o([s({constructOnly:!0})],d.prototype,\"advancedMode\",void 0),o([s()],d.prototype,\"preserveAspectRatio\",void 0),o([s()],d.prototype,\"snapRotation\",void 0),o([s({constructOnly:!0,nonNullable:!0})],d.prototype,\"mediaElement\",void 0),o([s({constructOnly:!0})],d.prototype,\"view\",void 0),d=o([i(\"esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper\")],d);export{d as MediaTransformToolsWrapper,n as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../../../../../core/mathUtils.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";function n(t,e){\"start\"===t.action?e.cursor=\"grabbing\":e.cursor=\"grab\"}class s{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustScaleFactors(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=0!==t.direction[0]&&0!==t.direction[1]?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}}class r{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustRotateAngle(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustRotateAngle(t),t)}_adjustRotateAngle(a){const n=t(a.rotateAngle);a.rotateAngle=e(5*Math.round(n/5))}}export{s as PreserveAspectRatio,r as SnapRotation,n as onGrabChangedHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{d as i}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulation as a}from\"./Manipulation.js\";import{onGrabChangedHandle as o}from\"./utils.js\";import{getRotationAngle as e}from\"../../../../draw/support/drawUtils.js\";import{createManipulatorDragEventPipeline as n,screenToMap as s}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as l}from\"../../../../interactive/GraphicManipulator.js\";import{apply as h}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";class p extends a{constructor(i){super(),this._handles=new t,this._originCache=r(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._snapRotation=i.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",t=>o(t,this._manipulator))]),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(t){t(this._manipulator,2)}createDragPipeline(t,r){let a=null,o=null;return n(this._manipulator,(n,l)=>{l.next(i=>{if(\"start\"===i.action){n.cursor=\"grabbing\";const i=t();a=i.plane,o=i.editGeometryOperations}return i}).next(s(this._view)).next(t=>({...t,rotateAngle:e(t.mapStart,t.mapEnd,{x:a.origin[0],y:a.origin[1]},!0)})).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next(t=>{const e=i(this._originCache,a.origin),n=\"start\"===t.action?0:1,s=o.rotate(e,t.rotateAngle,n,1);return h(s,a),r(t,s),t}).next(t=>(\"end\"===t.action&&(n.cursor=\"grab\"),t))})}_createManipulator(){const t=this._view,i=this._graphic;return new l({view:t,graphic:i,selectable:!0,cursor:\"grab\"})}}export{p as RotateManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{set as i,normalize as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{d as a,c as s,e as n,b as o,f as l}from\"../../../../../chunks/vec32.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as c,d as p}from\"../../../../../chunks/boundedPlane.js\";import{getInfo as u}from\"../../../../../geometry/support/spatialReferenceUtils.js\";import{Manipulation as _}from\"./Manipulation.js\";import{onGrabChangedHandle as d}from\"./utils.js\";import{createManipulatorDragEventPipeline as m,screenToMap as f}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as g}from\"../../../../interactive/GraphicManipulator.js\";import{apply as v}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";const b=10,x=1e-6,C=.3;function y(t){const i=o(t.basis1),e=o(t.basis2);return C*Math.min(i,e)}class j extends _{constructor(i){super(),this._handles=new t,this._planeStart=c(),this._displayPlaneStart=c(),this._originCache=h(),this._axisCache=r(),this._renderStartCache=h(),this._renderEndCache=h(),this._resizeOriginCache=h(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._direction=i.direction,this._preserveAspectRatio=i.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",t=>d(t,this._manipulator))]),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(t){t(this._manipulator,1)}createDragPipeline(t,r){let h=null,c=null,_=null,d=0,g=null,C=null;const j=this._planeStart,w=this._displayPlaneStart,S=this._direction;return m(this._manipulator,(m,E)=>{E.next(i=>{if(\"start\"===i.action){m.cursor=\"grabbing\";const i=t();h=i.plane,c=i.displayPlane,_=i.editGeometryOperations,d=b*this._view.resolution,p(h,j),p(c,w);const e=u(_.data.spatialReference);g=e?e.valid[1]-e.valid[0]-3*b*this._view.resolution:null}return i}).next(f(this._view)).next(t=>{const i=a(this._renderStartCache,[t.mapStart.x,t.mapStart.y,0]),e=a(this._renderEndCache,[t.mapEnd.x,t.mapEnd.y,0]),r=a(this._resizeOriginCache,w.origin);s(r,r,w.basis1,-S[0]),s(r,r,w.basis2,-S[1]),n(e,e,r),n(i,i,r);const h=0!==S[0]&&0!==S[1],p=y(w),u=y(c)/p,_=(t,r)=>{if(0===t)return 1;let a=o(r),s=.5*t*l(r,e)/a;const n=s<0?-1:1;if(h){s+=(a-.5*t*l(r,i)/a)*n*u}const c=a<1.5*d?1:x;return a=Math.max(a-d,x),n>0&&(s-=b*this._view.resolution),n*Math.max(n*(s/a),c)},m=_(S[0],w.basis1),f=_(S[1],w.basis2);return{...t,direction:S,factor1:m,factor2:f}}).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(t=>{const n=a(this._originCache,j.origin);s(n,n,j.basis1,-S[0]),s(n,n,j.basis2,-S[1]);const o=i(this._axisCache,j.basis1[0],j.basis1[1]);e(o,o);const l=_.data.allVerticesUnordered,c=\"start\"===t.action?0:1,u=_.scaleVertices(l,n,o,t.factor1,t.factor2,c,1);return g&&g<_.data.geometry.extent.width&&C?_.updateVertices(l,C):(p(j,h),v(u,h),C=u.operation,r(t,u)),t}).next(t=>(\"end\"===t.action&&(m.cursor=\"grab\"),t))})}_createManipulator(){return new g({view:this._view,graphic:this._graphic,selectable:!0,cursor:\"grab\"})}}export{j as ScaleManipulation,y as calculateDiagonalResizeHandleScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Graphic.js\";import{getContrast as i}from\"../../../../core/colorUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as r}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{subtract as h,normalize as c}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l,UNIT_X as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as d,b as _,n as m,g as u,l as y,e as g}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import G from\"../../../../geometry/Polygon.js\";import{project as w,initializeProjection as R}from\"../../../../geometry/projectionUtils.js\";import{a as b,d as C}from\"../../../../chunks/boundedPlane.js\";import{equals as j}from\"../../../../geometry/support/spatialReferenceUtils.js\";import k from\"../../../../layers/GraphicsLayer.js\";import T from\"../../../../symbols/SimpleFillSymbol.js\";import S from\"../../../../symbols/SimpleMarkerSymbol.js\";import{DragManipulation as A}from\"./manipulations/DragManipulation.js\";import{RotateManipulation as P}from\"./manipulations/RotateManipulation.js\";import{ScaleManipulation as M}from\"./manipulations/ScaleManipulation.js\";import{PreserveAspectRatio as x,SnapRotation as O}from\"./manipulations/utils.js\";import{InteractiveToolBase as D}from\"../../../interactive/InteractiveToolBase.js\";import{KeyBindings as U,mediaKeys as L}from\"../../../interactive/keybindings.js\";import{EditGeometry as B}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as E}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{calculateOrientedBounds as H}from\"../../../interactive/editGeometry/support/editPlaneUtils.js\";import{findFirstGraphicHit as I}from\"../../../support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as z}from\"../../../support/screenUtils.js\";const V=80,q=10,F=30,N=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]],J=1,K=10;let Q=class extends D{constructor(e){super(e),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=b(),this._displayPlaneCache=b(),this._mainAxisCache=l(),this._rotationHandleCache=f(),this._cornerA=f(),this._cornerB=f(),this._cornerC=f(),this._cornerD=f(),this._avgAB=f(),this._avgBC=f(),this._avgCD=f(),this._avgDA=f(),this._preserveAspectRatio=new x,this._snapRotation=new O,this._graphicsLayer=new k({internal:!0,listMode:\"hide\",visible:!1,title:\"TransformTool layer\"}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=J,this.preserveAspectRatio=null,this.snapRotation=null,this.type=\"transform\"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach(e=>e.destroy()),this._editGeometryOperations.destroy(),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=s(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const e=this._graphic.geometry;if(null==e)return null;const t=this._editGeometryOperations.data,i=t.parts[0].segments[0],s=h(this._mainAxisCache,i.leftVertex.pos,i.rightVertex.pos);c(s,s);let o=V*this.view.resolution;const a=this.view.spatialReference;return j(a,e.spatialReference)&&(o*=r(a)/r(e.spatialReference)),H(s,t,o,this._planeCache)}get _displayPlane(){const e=this._plane;if(!e)return null;const t=this._displayPlaneCache;C(e,t);const i=q*this.view.resolution;return d(t.basis1,t.basis1,1+i/_(t.basis1)),d(t.basis2,t.basis2,1+i/_(t.basis2)),t}get _backgroundGraphicGeometry(){const e=this._displayPlane;if(!e)return null;const t=this.view.spatialReference;return this._updateDisplayPlaneConrers(e),new G({spatialReference:t,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const e=this._plane;if(!e)return null;const t=this._rotationHandleCache;return m(t,e.basis1),d(t,t,F*this.view.resolution),u(t,t,e.origin),u(t,t,e.basis1),new v({x:t[0],y:t[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const e=this._displayPlane;if(!e)return[];const t=this.view.spatialReference;this._updateDisplayPlaneConrers(e);const{_cornerA:i,_cornerB:s,_cornerC:o,_cornerD:r}=this,a=y(this._avgAB,i,s,.5),n=y(this._avgBC,s,o,.5),h=y(this._avgCD,o,r,.5),c=y(this._avgDA,r,i,.5);return[new v({x:i[0],y:i[1],spatialReference:t}),new v({x:s[0],y:s[1],spatialReference:t}),new v({x:o[0],y:o[1],spatialReference:t}),new v({x:r[0],y:r[1],spatialReference:t}),new v({x:a[0],y:a[1],spatialReference:t}),new v({x:n[0],y:n[1],spatialReference:t}),new v({x:h[0],y:h[1],spatialReference:t}),new v({x:c[0],y:c[1],spatialReference:t})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:e,target:t}=this,i=\"georeference\"in t?t.georeference.coords:t.geometry,s=this._editGeometryOperations,o=s.data.parts[0].vertices,r=B.fromGeometry(w(i,e.spatialReference),2).parts[0].vertices;o.forEach((e,t)=>{s.setVertexPosition(e,r[t].pos)}),this.updateGraphics()}reset(){const{target:e}=this;if(\"georeference\"in e){const t=e.georeference;\"control-points\"===t.type&&(t.controlPoints=this._initialControlPoints)}else e.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._editGeometryOperations.data.geometry;if(\"georeference\"in this.target){this.target.georeference.coords=e}this._graphic.geometry=e,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach((e,t)=>{this._scaleGraphics[t].geometry=e})}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,target:s}=this;if(\"georeference\"in s){const e=s.georeference;this._graphic=new t({geometry:e.coords}),this._initialControlPoints=\"control-points\"===e.type?e.controlPoints:null}else this._graphic=s,this._initialGeometry=s.geometry;e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=E.fromGeometry(w(this._graphic.geometry,e.spatialReference),2),this._backgroundGraphic=new t({symbol:new T({color:\"transparent\",outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new t({symbol:new S({color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map(s=>new t({symbol:new S({size:6,style:\"square\",color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:s})),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new A({tool:this,view:e,graphic:this._graphic}),this._rotateManipulation=new P({tool:this,view:e,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map((t,i)=>new M({tool:this,view:e,graphic:t,direction:N[i],preserveAspectRatio:this._preserveAspectRatio})),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map(e=>e.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this))),o(()=>this.view.scale,()=>this.active?this.updateGraphics():null),e.on(\"click\",async t=>{if(null!=e.activeTool&&e.activeTool!==this)return;const i=z(t),o=[];e.map.allLayers.forEach(e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)});const r=await this.view.hitTest(i,{exclude:o}),a=r.results;if(0===a.length)e.activeTool=null;else{const t=I(r.results),i=\"georeference\"in s,o=a.map(e=>\"media\"===e.type?e.element:null).filter(Boolean),n=new Set([...this._graphicsLayer.graphics,i?null:s].filter(Boolean));i&&o.includes(s)||null!=t&&n.has(t.graphic)?null==e.activeTool&&(e.activeTool=this):e.activeTool=null}})]);const r=e=>{this.addHandles(e.events.on(\"grab-changed\",e=>{\"georeference\"in s&&(\"start\"===e.action?s.opacity*=.5:\"end\"===e.action&&(s.opacity*=2))}))};this._dragManipulation.forEachManipulator(r),this._rotateManipulation.forEachManipulator(r),this._scaleManipulations.forEach(e=>e.forEachManipulator(r));const a=new U;a.addToggle(L.preserveAspectRatio,()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)}),a.addToggle(L.rotateIncrements,()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)}),a.add(L.toggleOpacity,()=>{\"georeference\"in s&&(s.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)}),a.addToggle(L.factorModifier,e=>this._factor=\"key-down\"===e.type?K:J),a.add(L.scaleUp,()=>this._scale(this._factor)),a.add(L.scaleDown,()=>this._scale(-this._factor)),a.add(L.moveUp,()=>this._move(0,this._factor)),a.add(L.moveDown,()=>this._move(0,-this._factor)),a.add(L.moveLeft,()=>this._move(-this._factor,0)),a.add(L.moveRight,()=>this._move(this._factor,0)),this.addHandles([e.on(\"key-down\",t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)}),e.on(\"key-up\",t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)})])}async _loadProjectionEngine(){const e=this._graphic.geometry;return R(e.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(e){const{basis1:t,basis2:i,origin:s}=e,o=this._cornerA;u(o,s,t),u(o,o,i);const r=this._cornerB;u(r,s,t),g(r,r,i);const a=this._cornerC;g(a,s,t),g(a,a,i);const n=this._cornerD;g(n,s,t),u(n,n,i)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(e,t){\"start\"===e.action&&(this._sharedUndoStack.push({tool:this,operation:t}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(e){const t=this._editGeometryOperations,i=t.data.geometry.extent?.width,s=(i+e*this.view.resolution)/i,o=t.scale(this._plane.origin,p,s,s,0,1);this._sharedUndoStack.push({tool:this,operation:o}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(e,t){const i=this._editGeometryOperations.move(e*this.view.resolution,t*this.view.resolution,0,0);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};e([a()],Q.prototype,\"_plane\",null),e([a()],Q.prototype,\"_backgroundGraphicGeometry\",null),e([a()],Q.prototype,\"_rotateGraphicGeometry\",null),e([a()],Q.prototype,\"_scaleGraphicGeometries\",null),e([a()],Q.prototype,\"preserveAspectRatio\",void 0),e([a()],Q.prototype,\"snapRotation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],Q.prototype,\"target\",void 0),e([a({readOnly:!0})],Q.prototype,\"type\",void 0),e([a({constructOnly:!0})],Q.prototype,\"view\",void 0),Q=e([n(\"esri.views.2d.interactive.editingTools.TransformTool\")],Q);export{Q as TransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../../Graphic.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as s,initial as a}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../../geometry/Multipoint.js\";import c from\"../../../../../geometry/Point.js\";import{SnappingVisualizer2D as h}from\"../../SnappingVisualizer2D.js\";import{activeVertex as m,regularVertices as p,outline as u}from\"./symbols.js\";import{DrawGraphicTool as v,geometryTypeToDrawOperationGeometryType as y}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as d}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as g}from\"../../../../draw/drawSurfaces.js\";let E=class extends v{constructor(e){super(e),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:e.activeLineSymbol??u,regularVertices:e.regularVerticesSymbol??p,activeVertex:e.activeVertexSymbol??m,fill:e.activeFillSymbol},e.activeVertexSymbol||this.addHandles(s(()=>this.view?.effectiveTheme?.accentColor,e=>{if(!e)return;const t=this._visualElementSymbols.activeVertex.clone().set({color:e});this._visualElementGraphics.activeVertex?.set(\"symbol\",t),this._visualElementSymbols={...this._visualElementSymbols,activeVertex:t}},a))}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return null!=this._visualElementSymbols.fill&&(e.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(G),i()}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return this._createOrUpdateGraphic(null),new d({view:i,manipulators:this.manipulators,geometryType:y(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new g(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new h(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return i();const[s,a]=e,l=new c({x:s,y:a,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=l,i()):(this._visualElementGraphics.activeVertex=new t({geometry:l,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(G),i(()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=r(this._visualElementGraphics.activeVertex))}))}onCursorEdgeChanged(e){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=e,i()):(this._visualElementGraphics.activeEdge=new t({geometry:e,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(G),i(()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=r(this._visualElementGraphics.activeEdge))}))}onRegularVerticesChanged(e){const s=new o({points:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=s,i()):(this._visualElementGraphics.regularVertices=new t({geometry:s,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(G),i(()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=r(this._visualElementGraphics.regularVertices))}))}};function G(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}e([l()],E.prototype,\"activeFillSymbol\",void 0),e([l({readOnly:!0})],E.prototype,\"type\",void 0),e([l({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([n(\"esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Manipulation as t}from\"./Manipulation.js\";import{createManipulatorDragEventPipeline as i,screenToMap as r}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as a}from\"../../../../interactive/GraphicManipulator.js\";import{getSymbolInfo as o}from\"../../../../interactive/support/utils.js\";class e extends t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,0)}createDragPipeline(t,a){let e=null,n=null,s=0,l=0,p=0;const{offsetX:c,offsetY:h,size:u}=o(this._graphic.symbol);return i(this._manipulator,(i,o)=>{o.next(i=>{if(\"start\"===i.action){const i=t();e=i.editGeometryOperations,n=i.constraints}return i}).next(r(this._view)).next(t=>{const{x:i,y:r,z:o}=t.mapEnd;if(n&&(i+c<n.xmin||r+h-u<n.ymin||i+c>n.xmax||r+h-u>n.ymax))return t;(\"start\"===t.action||0===s&&0===l&&0===p)&&(s=t.mapStart.x,l=t.mapStart.y,p=t.mapStart.z);const m=i-s,_=r-l,f=o-p;s=i,l=r,p=o;const v=\"start\"===t.action?0:1,x=e.move(m,_,f,v);return a(t,x),t})})}_createManipulator(){const t=this._view,i=this._graphic;return new a({view:t,graphic:i,selectable:!0,cursor:\"move\"})}}export{e as DragManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass r{get hovering(){return this.someManipulator(r=>r.hovering)}get grabbing(){return this.someManipulator(r=>r.grabbing)}get dragging(){return this.someManipulator(r=>r.dragging)}hasManipulator(r){return this.someManipulator(t=>t===r)}someManipulator(r){let t=!1;return this.forEachManipulator(a=>{!t&&r(a)&&(t=!0)}),t}}export{r as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../core/arrayUtils.js\";import{rad2deg as n}from\"../../../core/mathUtils.js\";import{create as r,center as o}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as e}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as i}from\"../../../geometry/support/coordsUtils.js\";import{toEllipticArc7 as s}from\"../../../geometry/support/curves/circularArcUtils.js\";import{isCurvedGeometry as c,getEndpoint as u,isCoordinate as a,isBezierCurve as m,isCircularArc as l}from\"../../../geometry/support/curves/curveUtils.js\";import{transformEllipticArc as p}from\"../../../geometry/support/curves/ellipticArc7Utils.js\";import{getScaleTransform as f}from\"../../interactive/editGeometry/operations/curveOperationUtils.js\";function y(t,n,r,o){if(null==o||t.hasZ||(o=void 0),\"point\"===t.type)return t.x+=n,t.y+=r,t.hasZ&&null!=o&&(t.z+=o),t;if(\"multipoint\"===t.type){const e=t.points;for(let t=0;t<e.length;t++)e[t]=g(e[t],n,r,o);return t}if(\"extent\"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=r,t.ymax+=r,null!=o&&(t.zmin??=0,t.zmin+=o,t.zmax??=0,t.zmax+=o),t;const e=\"polyline\"===t.type?t.curvePaths??t.paths:t.curveRings??t.rings,i=c(t);for(let s=0;s<e.length;s++){const t=e[s];for(let e=0;e<t.length;e++)t[e]=v(t[e],n,r,o)}return\"paths\"in t?i?t.curvePaths=e:t.paths=e:i?t.curveRings=e:t.rings=e,t}function x(t,n,r,o,e){const i=t.clone();if(e){const{resolution:t}=o;y(i,n*t,-r*t)}else{const{dxMap:t,dyMap:e}=h(n,r,o);y(i,t,e)}return i}function h(t,n,r){const o=r.state.inverseTransform;return{dxMap:o[0]*t+o[2]*n,dyMap:o[1]*t+o[3]*n}}function g(t,n,r,o){return z(t,t[0]+n,t[1]+r,null!=t[2]&&null!=o?t[2]+o:void 0)}function v(t,n,r,o){const e=g(u(t),n,r,o);if(a(t))return e;if(m(t)){const[,o,i]=t.b;return{b:[e,[o[0]+n,o[1]+r],[i[0]+n,i[1]+r]]}}if(l(t)){const[,o]=t.c;return{c:[e,[o[0]+n,o[1]+r]]}}const[,i,...s]=t.a;return{a:[e,[i[0]+n,i[1]+r],...s]}}function M(n,s,c,a){if(\"point\"===n.type){const{x:t,y:r}=n,o=a?a[0]:t,e=a?a[1]:r,i=n.clone(),u=(t-o)*s+o,m=(r-e)*c+e;return i.x=u,i.y=m,i}if(\"extent\"===n.type){const{xmin:t,xmax:r,ymin:o,ymax:e}=n,i=a?a[0]:(t+r)/2,u=a?a[1]:(e+o)/2,m=n.clone();if(m.xmin=(t-i)*s+i,m.ymax=(e-u)*c+u,m.xmax=(r-i)*s+i,m.ymin=(o-u)*c+u,m.xmin>m.xmax){const t=m.xmin,n=m.xmax;m.xmin=n,m.xmax=t}if(m.ymin>m.ymax){const t=m.ymin,n=m.ymax;m.ymin=n,m.ymax=t}return m}let m=null;if(!a){m=i(n);const t=r(),o=e(t,m);if(!o)return n.clone();const[s,c,u,l]=o;a=[(s+u)/2,(c+l)/2]}const[l,p]=a;if(\"multipoint\"===n.type){const t=n.clone(),r=t.points;for(let n=0;n<r.length;n++){const t=r[n],[o,e]=t,i=(o-l)*s+l,u=(e-p)*c+p;r[n]=z(t,i,u,void 0)}return t.points=r,t}const f=n.clone();m??=i(n);const y=\"polygon\"===f.type,x=y?f.curveRings??f.rings:f.curvePaths??f.paths;if(!a){const t=r(),n=e(t,x,!1,!1);if(!n)return f;a=o(n)}for(const r of x){let n=null;const o=y&&r.length>0&&t(u(r[0]),u(r.at(-1)));for(let t=0;t<r.length;t++){const o=r[t];r[t]=j(o,s,c,l,p,n),n=o}o&&(r[0]=[...u(r.at(-1))])}return f}function d(t,n,r,o,e){const[i,s,...c]=t;return[(i-o)*n+o,(s-e)*r+e,...c]}function j(t,n,r,o,e,i){if(a(t))return d(t,n,r,o,e);if(m(t)){const[i,s,c]=t.b.map(t=>d(t,n,r,o,e));return{b:[i,s,c]}}if(!i)return t;const c=u(i),y=l(t)?s(c,t):t,[x,h,g,v,M,j,U]=y.a,b=M??0,z=j??Math.hypot(x[0]-h[0],x[1]-h[1]),R=U??1,P=f(o,e,1,0,0,1,n,r);return p(c,{a:[[...x],[...h],g,v,b,z,R]},P)}function U(t,n,r,o,e,i){const s=Math.sqrt((r-t)*(r-t)+(o-n)*(o-n));return Math.sqrt((e-t)*(e-t)+(i-n)*(i-n))/s}function b(t,r,o,e=!1){const i=Math.atan2(r.y-o.y,r.x-o.x)-Math.atan2(t.y-o.y,t.x-o.x),s=Math.atan2(Math.sin(i),Math.cos(i));return e?s:n(s)}function z(t,n,r,o){const e=[n,r];return t.length>2&&e.push(null!=o?o:t[2]),t.length>3&&e.push(t[3]),e}export{x as cloneMove,b as getRotationAngle,U as getScaleRatio,y as move,M as scale,h as screenDeltaToMapDelta};\n"],"names":["f","S","constructor","e","super","this","_graphicsLayer","_symbolPairingsByType","Map","visualizeIntersectionPoint","t","_visualizeSnappingIndicator","s","x","intersectionPoint","y","spatialReference","_getOrCreateSymbol","view","effectiveTheme","accentColor","visualizePoint","point","visualizeLine","c","paths","lineStart","lineEnd","i","m","visualizeParallelSign","visualizeRightAngleQuad","r","a","p","l","o","h","centerVertex","previousVertex","nextVertex","n","concat","geometry","symbol","add","remove","_r$get","get","color","set","u","toRgb","g","outline","width","size","data","type","symbolLayers","enable","capStyle","joinStyle","miterLimit","b","lineHintWidthTarget","anchorPoint","z","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","frame","xmin","ymin","xmax","ymax","markerGraphics","rings","scaleSymbolsProportionally","respectFrame","rightAngleHintSize","rotation","placeOnEndPoints","rightAngleHintOutlineSize","v","_","_isOpacityToggled","_isModifierActive","_factor","_initialControlPoints","internal","listMode","visible","effect","title","_undoStack","_redoStack","_sharedUndoStack","_sharedRedoStack","_highlightHandle","activeHandle","initialize","_initialize","destroy","map","_controlPointManipulations","forEach","_controlPointEditGeometryOperations","removeMany","removeAll","_georeference","_controlPointGraphics","_hasValidSpatialReference","onActivate","onDeactivate","onShow","onHide","canUndo","length","canRedo","undo","pop","updateGraphics","push","redo","refresh","mediaElement","georeference","coords","controlPoints","_ref","mapPoint","parts","vertices","setVertexPosition","coordinateHelper","pointToVector","reset","sourcePoint","toSource","updateActiveHandle","clone","d","surface","document","activeElement","highlightActiveHandle","removeHighlightActiveHandle","whenLayerView","highlight","setSharedUndoStack","setSharedRedoStack","addMany","focus","finishToolCreation","_loadProjectionEngine","_ref2","fromGeometry","colorLocked","dominantSizeAxis3D","billboardMode3D","clippingPath","clippingType","path","toArray","haloSize","scaleX","angleAlignment","angle","graphics","tool","graphic","addHandles","createDragPipeline","_getInfo","bind","action","operation","scale","active","forEachManipulator","events","on","activeTool","key","repeat","stopPropagation","opacity","_move","editGeometryOperations","constraints","height","move","resolution","prototype","constructOnly","nonNullable","readOnly","_transformTool","_controlPointsTransformTool","_advancedModeTransformTool","_activeTool","_originalOpacity","preserveAspectRatio","snapRotation","advancedMode","target","tools","async","_this$_activeTool","_this$_transformTool","_this$_controlPointsT","_this$_activeTool2","_this$_activeTool3","apply","enableAdvancedMode","when","disableAdvancedMode","cursor","_lastDragEvent","next","_enabled","enabled","_objectSpread","_adjustScaleFactors","execute","createDragEventPipelineStep","direction","Math","max","abs","factor1","factor2","_adjustRotateAngle","rotateAngle","round","_handles","_originCache","_view","_tool","_graphic","_snapRotation","_manipulator","_createManipulator","manipulators","plane","mapStart","mapEnd","origin","rotate","selectable","basis1","basis2","min","j","_planeStart","_displayPlaneStart","_axisCache","_renderStartCache","_renderEndCache","_resizeOriginCache","_direction","_preserveAspectRatio","C","w","E","displayPlane","valid","allVerticesUnordered","scaleVertices","extent","updateVertices","N","Q","D","_initialGeometry","_planeCache","_displayPlaneCache","_mainAxisCache","_rotationHandleCache","_cornerA","_cornerB","_cornerC","_cornerD","_avgAB","_avgBC","_avgCD","_avgDA","O","k","_dragManipulation","_rotateManipulation","_scaleManipulations","_editGeometryOperations","_plane","segments","leftVertex","pos","rightVertex","H","_displayPlane","_backgroundGraphicGeometry","_updateDisplayPlaneConrers","G","_rotateGraphicGeometry","_scaleGraphicGeometries","B","_backgroundGraphic","_rotateGraphic","_scaleGraphics","T","style","A","P","M","_updateGraphics","allLayers","hitTest","exclude","results","I","element","filter","Boolean","Set","includes","has","U","addToggle","L","rotateIncrements","toggleOpacity","factorModifier","scaleUp","_scale","scaleDown","moveUp","moveDown","moveLeft","moveRight","dispatch","inputManager","R","_t$data$geometry$exte","effects","dashTemplate","lineDashEnding","controlPointEnding","_e$activeLineSymbol","_e$regularVerticesSym","_e$activeVertexSymbol","_visualElementGraphics","regularVertices","activeVertex","activeEdge","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","_this$view","_this$_visualElementG","normalizeCtorArgs","initializeGraphic","internalGraphicsLayer","sort","makeDrawOperation","defaultZ","hasZ","_createOrUpdateGraphic","geometryType","drawingMode","mode","snapToSceneEnabled","snapToScene","drawSurface","hasM","snappingManager","snappingVisualizer","constraintsEnabled","automaticLengthMeasurementUtils","onActiveVertexChanged","attributes","displayOrder","onCursorEdgeChanged","onRegularVerticesChanged","points","_e$attributes$display","_e$attributes","_t$attributes$display","_t$attributes","offsetX","offsetY","hovering","someManipulator","grabbing","dragging","hasManipulator","_t$zmin","_t$zmax","_t$curvePaths","_t$curveRings","zmin","zmax","curvePaths","curveRings","dxMap","dyMap","state","inverseTransform","_f$curveRings","_f$curvePaths","at","hypot","sqrt","arguments","undefined","atan2","sin","cos"],"sourceRoot":""}