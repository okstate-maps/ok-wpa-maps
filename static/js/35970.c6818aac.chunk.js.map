{"version":3,"file":"static/js/35970.c6818aac.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/versionManagement/support/EditMomentStack.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/FeatureLayerVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/NetworkVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/SubTypeGroupLayerVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/utils.js","../node_modules/@arcgis/core/versionManagement/VersionManagementService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.moments=[],this.forwardMoments=[],this.moments.push(t)}push(t){return this.forwardMoments.length,this.moments.push(t)}pop(){if(!(this.forwardMoments.length>0))return this.moments.pop()}undo(){if(!this.canUndo())return;const t=this.moments.pop();return this.forwardMoments.push(t),t}peek(){return this.moments.at(-1)}canUndo(){return this.moments.length>1}canRedo(){return this.hasForwardEdits()}redo(){if(!this.canRedo())return;const t=this.forwardMoments.pop();return this.moments.push(t),t}size(){return this.moments.length+this.forwardMoments.length}hasForwardEdits(){return this.forwardMoments.length>0}clearForwardEdits(){this.forwardMoments=[]}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"feature-layer\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){const e=/^(.*\\/FeatureServer)\\/\\d+$/;return this.versionableItem.url.replace(e,\"$1\")}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as FeatureLayerVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"network\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){return this.versionableItem.featureServiceUrl}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as NetworkVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"subtype-group-layer\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){const e=/^(.*\\/FeatureServer)\\/\\d+$/;return this.versionableItem.url.replace(e,\"$1\")}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as SubTypeGroupLayerVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{isLayerFromCatalog as e}from\"../../layers/catalog/catalogUtils.js\";import{FeatureLayerVersionAdapter as r}from\"./FeatureLayerVersionAdapter.js\";import{NetworkVersionAdapter as t}from\"./NetworkVersionAdapter.js\";import{SubTypeGroupLayerVersionAdapter as o}from\"./SubTypeGroupLayerVersionAdapter.js\";function n(n){return\"networkServiceUrl\"in n?new t(n):\"feature\"!==n.type||e(n)?\"subtype-group\"!==n.type||e(n)?null:new o(n):new r(n)}function p(e){const r=[];for(const t of e)if(\"group\"===t.type){const e=t,o=e.allTables.concat(e.allLayers);for(const t of o)if(\"feature\"===t.type||\"subtype-group\"===t.type){const e=n(t);e&&r.push(e)}}else{const e=n(t);e&&r.push(e)}return r}export{n as createVersionAdapter,p as createVersionAdapters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../request.js\";import r from\"../core/Error.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{Loadable as i}from\"../core/Loadable.js\";import{removeTrailingSlash as n,Url as o}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as d}from\"../core/accessorSupport/decorators/writer.js\";import{onApplyEditsEvent as c,emitUpdateMomentEvent as m}from\"../layers/mixins/EditBusLayer.js\";import{parseUrl as f}from\"../rest/utils.js\";import g from\"./support/EditMomentStack.js\";import{versionCollection as p,versionCollectionCount as h,defaultVersionNameLookup as V,currentSessionId as v}from\"./support/versionManagementUtils.js\";import{createVersionAdapters as y}from\"./versionAdapters/utils.js\";let w=class extends(s(i)){constructor(e){super(e),this.url=null,this.sourceJSON=null,this.name=null,this.defaultVersionIdentifier=null,this.capabilities=null,this._isDefault=e=>!e||e===this.defaultVersionIdentifier.name,this._dateEquals=(e,t)=>!e&&!t||!(!e||!t)&&e.toISOString()===t.toISOString(),this._applyEditsHandler=e=>{const{serviceUrl:t,gdbVersion:r,result:s}=e;t===this._featureServiceUrl&&s.then(e=>{const t=e.historicMoment;t&&this._addMomentToVersionItem(r,t)})}}initialize(){this.url=n(this.url),this._featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),p.has(this.url)||p.set(this.url,new Map);const e=(h.get(this.url)??0)+1;h.set(this.url,e),this.when().then(()=>this.addHandles(c(this._applyEditsHandler)),()=>{})}destroy(){const e=(h.get(this.url)??1)-1;h.set(this.url,e),0===e&&p.delete(this.url),V.delete(this._featureServiceUrl)}read(e,t){this.sourceJSON=e,super.read(e,t)}readDefaultVersionIdentifier(e,t){return{name:t.defaultVersionName,guid:t.defaultVersionGuid}}writeDefaultVersionIdentifier(e,t){t.defaultVersionName=e.name,t.defaultVersionGuid=e.guid}get loaded(){return super.loaded}load(e){return this.addResolvingPromise(this._fetchService(this.url,e)),Promise.resolve(this)}async createVersion(e){const[{createVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/createVersion.js\"),import(\"../rest/versionManagement/support/CreateVersionParameters.js\")]),s=r.from(e);return t(this.url,s)}async deleteVersion(e){const[{deleteVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/deleteVersion.js\"),import(\"../rest/versionManagement/support/DeleteVersionParameters.js\")]);let s;e.guid&&p.get(this.url)?.has(e.guid)&&(s=v??void 0);const i=new r({versionName:e.name,sessionId:s});return t(this.url,i)}async getVersionInfoExtended(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");return t(this.url,e.guid)}async getVersionInfos(e={}){const[{getVersionInfos:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/getVersionInfos.js\"),import(\"../rest/versionManagement/support/GetVersionInfosParameters.js\")]),s=r.from(e);return t(this.url,s)}async reconcile(e,t={}){const[{reconcile:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/reconcile.js\"),import(\"../rest/versionManagement/gdbVersion/support/ReconcileParameters.js\")]),i=s.from(t);return i.sessionId=v,r(this.url,e.guid,i)}async post(e){const[{post:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/post.js\"),import(\"../rest/versionManagement/gdbVersion/support/PostParameters.js\")]),s=r.from({sessionId:v});return t(this.url,e.guid,s)}async alterVersion(e,t){const[{alterVersion:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/alterVersion.js\"),import(\"../rest/versionManagement/gdbVersion/support/AlterVersionParameters.js\")]),i=s.from(t);return r(this.url,e.guid,i)}async startReading(e){return(await this.startReadingWithResult(e)).success}async startReadingWithResult(e){const{startReading:t}=await import(\"../rest/versionManagement/gdbVersion/startReading.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s={name:t.versionIdentifier.name,moment:r,lockType:\"read\"};this._addOrUpdateItem(e.guid,s),m(this._featureServiceUrl,null,e.name,r)}return r}async stopReading(e){return(await this.stopReadingWithResult(e)).success}async stopReadingWithResult(e){const{stopReading:t}=await import(\"../rest/versionManagement/gdbVersion/stopReading.js\"),r=await t(this.url,e.guid,v);return r.success&&(p.get(this.url)?.delete(e.guid),m(this._featureServiceUrl,null,e.name,null)),r}async startEditing(e){return(await this.startEditingWithResult(e)).success}async startEditingWithResult(e){const{startEditing:t}=await import(\"../rest/versionManagement/gdbVersion/startEditing.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s=new g(r),i={name:e.name,moment:r,lockType:\"edit\",stack:s};this._addOrUpdateItem(e.guid,i),m(this._featureServiceUrl,null,e.name,r)}return r}async stopEditing(e,t){return(await this.stopEditingWithResult(e,t)).success}async stopEditingWithResult(e,t){if(t){const t=p.get(this.url)?.get(e.guid);if(t?.stack?.canRedo()){const[{deleteForwardEdits:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),i=await r(this.url,e.guid,new s({sessionId:v,moment:t.moment}));if(!i.success)return i}}const{stopEditing:r}=await import(\"../rest/versionManagement/gdbVersion/stopEditing.js\"),s=await r(this.url,e.guid,v,t);if(s.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate);this._addOrUpdateItem(e.guid,{name:e.name,moment:r,lockType:\"read\",editMomentStack:void 0}),m(this._featureServiceUrl,null,e.name,r)}return s}getLockType(e){const t=p.get(this.url)?.get(e.guid)?.lockType;return t??\"none\"}async changeVersion(e,t,s){if(s&&\"name\"in s&&!await this.getVersionInfoExtended(s))throw new r(\"version-management-service:invalid-version\",\"version does not exist\");if(\"networkServiceUrl\"in e){if(this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase())return this._changeVersionInternal(e,t,s)}else{let r;\"layers\"in e?(r=e.allTables.concat(e.allLayers),e.utilityNetworks&&e.utilityNetworks.forEach(e=>{this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase()&&this._changeVersionInternal(e,t,s)})):r=e;for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}else if(\"group\"===e.type){const r=e.allTables.concat(e.allLayers);for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}}}return!0}async changeVersionWithResult(e,t,r){let s;if(\"layers\"in e){const t=y(e.allTables.concat(e.allLayers).filter(e=>\"group\"!==e.type).toArray());e.utilityNetworks&&e.utilityNetworks.forEach(e=>{const r=y([e]);t.push(...r)}),s=t}else s=e;if(r&&\"name\"in r){if(!await this.getVersionInfoExtended(r)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}if(t&&\"name\"in t){if(\"none\"!==this.getLockType(t)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}const i=new Map;for(const n of s)if(n)if(n.featureServiceUrl.toLowerCase()===this._featureServiceUrl.toLowerCase()){const e=this._changeVersionInternalWithResult(n,t,r);i.set(n,e)}else i.set(n,{success:!1});return i}async getVersionIdentifierFromName(e){try{const t=await this.getVersionInfos({includeHidden:!0});return t.find(t=>t.versionIdentifier.name.toUpperCase()===e.toUpperCase())?.versionIdentifier||null}catch{return null}}async getVersionIdentifierFromGuid(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");try{return(await t(this.url,e)).versionIdentifier}catch{return null}}canUndo(e){const t=p.get(this.url)?.get(e.guid);return!!t?.stack?.canUndo()}canRedo(e){const t=p.get(this.url)?.get(e.guid);return!!t?.stack?.canRedo()}undo(e){const t=p.get(this.url)?.get(e.guid),r=t?.stack?.undo()||void 0;if(t&&r){const r=t.stack.peek();m(this._featureServiceUrl,null,e.name,r),p.get(this.url)?.set(e.guid,{...t,moment:r})}}redo(e){const t=p.get(this.url)?.get(e.guid),r=t?.stack?.redo()||void 0;t&&r&&(m(this._featureServiceUrl,null,e.name,r),p.get(this.url)?.set(e.guid,{...t,moment:r}))}_setUpData(e,t){let s=null,i=null,n=null,o=null;const a=e=>{const t=p?.get(this.url)?.get(e.guid);n=e.name,o=t?.moment??null};if(e&&\"name\"in e){if(\"none\"!==this.getLockType(e))throw new r(\"version-management-service:version-locked\",\"version is locked\");s=e.name,i=null,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t)}else s=this.defaultVersionIdentifier.name,i=e,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t);return{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}}_changeVersionInternal(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);(this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i))&&(e.gdbVersion=n,e.historicMoment=o)}catch(s){return!1}return!0}_changeVersionInternalWithResult(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);return this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i)?(e.gdbVersion=n,e.historicMoment=o,{success:!0}):{success:!1}}catch(s){return{success:!1}}}_addMomentToVersionItem(e,t){const r=p.get(this.url);if(r)for(const[s,i]of r){i.name===e&&this._addToStack(s,t)}}_addToStack(e,t){const r=p.get(this.url),s=r?.get(e);return!!s?.stack&&(I(s.stack.peek(),t)&&s.stack.push(t),r.set(e,{...s,moment:t}),!0)}_addOrUpdateItem(e,t){const r=p.get(this.url),s=r?.get(e);return s?(r.set(e,{...s,...t}),!0):!(!t.name||!t.lockType)&&(r?.set(e,{...t,lockType:t.lockType}),!0)}async _fetchService(e,r){if(this.sourceJSON){this.read(this.sourceJSON,{origin:\"service\",url:f(e)});const t=new o(this.url).host;return void V.set(t,this.defaultVersionIdentifier.name)}const s=await t(e,{responseType:\"json\",query:{f:\"json\"},...r});this.read(s.data)}};function I(e,t){if(e){return e.getTime()<t.getTime()}return!0}e([a()],w.prototype,\"url\",void 0),e([a()],w.prototype,\"sourceJSON\",void 0),e([a({type:String,json:{write:!0}})],w.prototype,\"name\",void 0),e([a({json:{write:{target:{defaultVersionName:{type:String},defaultVersionGuid:{type:String}}},read:{source:[\"defaultVersionName\",\"defaultVersionGuid\"]}}})],w.prototype,\"defaultVersionIdentifier\",void 0),e([u(\"defaultVersionIdentifier\",[\"defaultVersionName\",\"defaultVersionGuid\"])],w.prototype,\"readDefaultVersionIdentifier\",null),e([d(\"defaultVersionIdentifier\",{defaultVersionName:{type:String},defaultVersionGuid:{type:String}})],w.prototype,\"writeDefaultVersionIdentifier\",null),e([a({json:{write:!0}})],w.prototype,\"capabilities\",void 0),w=e([l(\"esri.versionManagement.VersionManagementService\")],w);const S=w;export{S as default};\n"],"names":["t","constructor","this","moments","forwardMoments","push","length","pop","undo","canUndo","peek","at","canRedo","hasForwardEdits","redo","size","clearForwardEdits","e","versionableItem","type","gdbVersion","historicMoment","featureServiceUrl","url","replace","r","readOnly","prototype","Date","n","o","p","allTables","concat","allLayers","w","s","i","super","sourceJSON","name","defaultVersionIdentifier","capabilities","_isDefault","_dateEquals","toISOString","_applyEditsHandler","serviceUrl","result","_featureServiceUrl","then","_addMomentToVersionItem","initialize","_h$get","has","set","Map","h","get","when","addHandles","c","destroy","_h$get2","delete","V","read","readDefaultVersionIdentifier","defaultVersionName","guid","defaultVersionGuid","writeDefaultVersionIdentifier","loaded","load","addResolvingPromise","_fetchService","Promise","resolve","createVersion","default","all","from","deleteVersion","_p$get","v","versionName","sessionId","getVersionInfoExtended","getVersion","getVersionInfos","arguments","undefined","reconcile","post","alterVersion","startReading","startReadingWithResult","success","modifiedDate","versionIdentifier","moment","lockType","_addOrUpdateItem","m","stopReading","stopReadingWithResult","_p$get2","startEditing","startEditingWithResult","g","stack","stopEditing","stopEditingWithResult","_p$get3","_t$stack","deleteForwardEdits","editMomentStack","getLockType","_p$get4","changeVersion","toLowerCase","_changeVersionInternal","utilityNetworks","forEach","changeVersionWithResult","y","filter","toArray","_changeVersionInternalWithResult","getVersionIdentifierFromName","_t$find","includeHidden","find","toUpperCase","_unused","getVersionIdentifierFromGuid","_unused2","_p$get5","_t$stack2","_p$get6","_t$stack3","_p$get7","_t$stack4","_p$get8","_objectSpread","_p$get9","_t$stack5","_p$get0","_setUpData","a","_p$get1","_t$moment","fromVersionName","fromMoment","toVersionName","toMoment","_addToStack","getTime","I","origin","f","host","responseType","query","data","String","json","write","target","source","u","d","l","S"],"sourceRoot":""}