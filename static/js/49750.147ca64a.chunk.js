"use strict";(self.webpackChunkok_wpa_maps=self.webpackChunkok_wpa_maps||[]).push([[49750],{49750:(t,e,o)=>{o.r(e),o.d(e,{default:()=>J});var i=o(6326),n=o(4212),r=o(50076),a=o(49304),l=o(91291),s=o(46053),p=(o(76460),o(47249),o(28379)),d=o(87990),y=o(76420),g=o(19166),u=(o(81806),o(42553)),f=o(17707),m=o(13092),c=o(12730);let h=class extends((0,a.WV)((0,l.g)(u.o))){constructor(){super(...arguments),this.excludedTools=[],this.featureService=null,this.makeSharedTemplateFromJSON=null,this.view=null}readExcludedTools(t){const e=t.map(t=>c.T.fromJSON(t));return Array.from(new Set(e))}writeExcludedTools(t,e){(null===t||void 0===t?void 0:t.length)&&(e.excludedTools=t.map(t=>c.T.toJSON(t.toLowerCase())))}load(t){return this.addResolvingPromise(this._load(t)),Promise.resolve(this)}async _load(t){const e=this.allParts,{featureService:o,makeSharedTemplateFromJSON:i,view:n}=this;if(null==o||null==i||null==n)throw new g.zw;for(const r of e)r.assertIsSupportedPart();const a=(0,m.B)(n,{makeSharedTemplateFromJSON:i}),l=e.filter(t=>null==t.template),s=await a.getTemplates({templateIds:l.map(t=>t.templateId),featureService:o,signal:null===t||void 0===t?void 0:t.signal}),p=new Map(s.map(t=>[t.templateId,t]));for(const d of l){const t=p.get(d.templateId);if(null==t)throw new r.A("internal:missing-template","Failed to retrieve template for template ID ".concat(d.templateId));d.template=t}await Promise.all(e.map(e=>{var o;return null===(o=e.template)||void 0===o?void 0:o.load(t)}))}};(0,i.Cg)([(0,s.MZ)({readOnly:!0})],h.prototype,"type",void 0),(0,i.Cg)([(0,s.MZ)({constructOnly:!0})],h.prototype,"excludedTools",void 0),(0,i.Cg)([(0,p.w)("excludedTools")],h.prototype,"readExcludedTools",null),(0,i.Cg)([(0,f.K)("excludedTools")],h.prototype,"writeExcludedTools",null),(0,i.Cg)([(0,s.MZ)()],h.prototype,"featureService",void 0),(0,i.Cg)([(0,s.MZ)()],h.prototype,"makeSharedTemplateFromJSON",void 0),(0,i.Cg)([(0,s.MZ)()],h.prototype,"view",void 0),h=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.TemplateDefinitionBase")],h);let _=class extends u.o{constructor(t){super(t),this.template=null}};(0,i.Cg)([(0,s.MZ)()],_.prototype,"template",void 0),(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],_.prototype,"templateGlobalId",void 0),(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],_.prototype,"templateId",void 0),(0,i.Cg)([(0,s.MZ)({readOnly:!0,json:{read:!1,write:!1}})],_.prototype,"type",void 0),_=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.parts.TemplatePartBase")],_);let v=class extends _{constructor(t){super(t),this.relationshipCatalogId="",this.relationshipMetadata=null,this.template=null,this.type="relationship"}assertIsSupportedPart(){}};(0,i.Cg)([(0,s.MZ)({json:{name:"relationshipClassID",write:!0}})],v.prototype,"relationshipCatalogId",void 0),(0,i.Cg)([(0,s.MZ)()],v.prototype,"relationshipMetadata",void 0),(0,i.Cg)([(0,s.MZ)()],v.prototype,"template",void 0),(0,i.Cg)([(0,s.MZ)()],v.prototype,"type",void 0),v=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.parts.FeatureTemplateRelationshipPart")],v);const C=v;let w=class extends h{constructor(t){super(t),this.type="feature",this.defaultValues=null,this.relationships=[]}get allParts(){return this.relationships}initializeRelationshipMetadata(t){for(const n of this.relationships){var e,o,i;const{relationshipCatalogId:r}=n,a=null===(e=n.template)||void 0===e?void 0:e.layer,l=null===(o=t.relationships)||void 0===o?void 0:o.find(t=>t.catalogId===r),s=null===a||void 0===a||null===(i=a.relationships)||void 0===i?void 0:i.find(t=>t.catalogId===r);if(!l||!a||!s)throw new g.nK(r);n.relationshipMetadata={destinationField:s.keyField,destinationLayerId:a.layerId,sourceField:l.keyField,sourceLayerId:t.layerId}}}};(0,i.Cg)([(0,s.MZ)({readOnly:!0})],w.prototype,"type",void 0),(0,i.Cg)([(0,s.MZ)()],w.prototype,"allParts",null),(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],w.prototype,"defaultValues",void 0),(0,i.Cg)([(0,s.MZ)({constructOnly:!0,type:[C],json:{write:!0}})],w.prototype,"relationships",void 0),w=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.FeatureTemplateDefinition")],w);var T=o(6409);const M=new(o(45802).J)({esri_editing_transformation_bufferLineToPolygon:"buffer-line-to-polygon",esri_editing_transformation_bufferPointToPolygon:"buffer-point-to-polygon",esri_editing_transformation_bufferPolygonToPolygon:"buffer-polygon-to-polygon",esri_editing_transformation_connectionPoint:"connection-point",esri_editing_transformation_equallySpaced:"equally-spaced",esri_editing_transformation_offsetLine:"offset-line",esri_editing_transformation_offsetPrimaryLine:"offset-primary-line",esri_editing_transformation_pointAtAllVerticesOfLine:"point-at-all-vertices-of-line",esri_editing_transformation_pointAtBeginningOfLine:"point-at-beginning-of-line",esri_editing_transformation_pointAtBeginningOfRadial:"point-at-beginning-of-radial",esri_editing_transformation_pointAtEndOfLine:"point-at-end-of-line",esri_editing_transformation_pointAtInteriorVertices:"point-at-interior-vertices",esri_editing_transformation_pointAtIntersectionVerticesOfLine:"point-at-intersection-vertices-of-line",esri_editing_transformation_pointAtNotBeginningOfLine:"point-at-not-beginning-of-line",esri_editing_transformation_pointAtNotEndOfLine:"point-at-not-end-of-line",esri_editing_transformation_pointAtPolygonCentroid:"point-at-polygon-centroid",esri_editing_transformation_pointAtPolygonNotStart:"point-at-polygon-not-start",esri_editing_transformation_pointAtPolygonStart:"point-at-polygon-start",esri_editing_transformation_pointIdentity:"point-identity",esri_editing_transformation_pointPrimaryIdentity:"point-primary-identity",esri_editing_transformation_polygonBoundary:"polygon-boundary",esri_editing_transformation_polygonBoundaryTwoPoint:"polygon-boundary-two-point",esri_editing_transformation_polygonIdentity:"polygon-identity",esri_editing_transformation_polygonPrimaryIdentity:"polygon-primary-identity",esri_editing_transformation_polygonVertices:"polygon-vertices",esri_editing_transformation_radialLines:"radial-lines",esri_editing_transformation_twoPointLines:"two-point-lines"}),P={"buffer-line-to-polygon":"polyline","buffer-point-to-polygon":"point","buffer-polygon-to-polygon":"polygon","connection-point":"polyline","equally-spaced":"polyline","offset-line":"polyline","offset-primary-line":"polyline","point-at-all-vertices-of-line":"polyline","point-at-beginning-of-line":"polyline","point-at-beginning-of-radial":"polyline","point-at-end-of-line":"polyline","point-at-interior-vertices":"polyline","point-at-intersection-vertices-of-line":"polyline","point-at-not-beginning-of-line":"polyline","point-at-not-end-of-line":"polyline","point-at-polygon-centroid":"polygon","point-at-polygon-not-start":"polygon","point-at-polygon-start":"polygon","point-identity":"point","point-primary-identity":"point","polygon-boundary":"polygon","polygon-boundary-two-point":"polygon","polygon-identity":"polygon","polygon-primary-identity":"polygon","polygon-vertices":"polygon","radial-lines":"polyline","two-point-lines":"polyline"};let Z=class extends _{constructor(t){super(t),this.builderConfig={},this.type="group"}assertIsSupportedPart(){const{builderType:t}=this;if(!M.apiValues.includes(t))throw new g.YU(t)}};(0,i.Cg)([(0,T.e)(M,{ignoreUnknown:!1,name:"type"})],Z.prototype,"builderType",void 0),(0,i.Cg)([(0,s.MZ)({json:{name:"options"}})],Z.prototype,"builderConfig",void 0),(0,i.Cg)([(0,s.MZ)()],Z.prototype,"type",void 0),Z=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.parts.GroupTemplatePart")],Z);const b=Z;let S=class extends h{constructor(t){super(t),this.type="group",this.createUtilityNetworkAssociations=!1,this.parts=[],this.utilityNetwork=null,this.utilityNetworkAssociationsTable=null}get allParts(){return[this.basePart,...this.parts]}get inputGeometryType(){return P[this.basePart.builderType]}};(0,i.Cg)([(0,s.MZ)({readOnly:!0})],S.prototype,"type",void 0),(0,i.Cg)([(0,s.MZ)()],S.prototype,"allParts",null),(0,i.Cg)([(0,s.MZ)({constructOnly:!0,type:b,json:{write:!0}})],S.prototype,"basePart",void 0),(0,i.Cg)([(0,s.MZ)({constructOnly:!0})],S.prototype,"createUtilityNetworkAssociations",void 0),(0,i.Cg)([(0,s.MZ)()],S.prototype,"inputGeometryType",null),(0,i.Cg)([(0,s.MZ)({constructOnly:!0,type:[b],json:{write:!0}})],S.prototype,"parts",void 0),(0,i.Cg)([(0,s.MZ)()],S.prototype,"utilityNetwork",void 0),(0,i.Cg)([(0,s.MZ)()],S.prototype,"utilityNetworkAssociationsTable",void 0),S=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.GroupTemplateDefinition")],S);var O=o(19902),I=o(31608);let A=class extends _{constructor(t){super(t),this.geometry=null,this.type="preset"}assertIsSupportedPart(){}};(0,i.Cg)([(0,s.MZ)({types:I.yR,json:{read:O.rS,write:!0}})],A.prototype,"geometry",void 0),(0,i.Cg)([(0,s.MZ)()],A.prototype,"type",void 0),A=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.parts.PresetTemplatePart")],A);const N=A;var k=o(19247),x=o(13312);let D=class extends h{constructor(t){super(t),this.type="preset",this.parts=[]}get allParts(){return this.parts}};(0,i.Cg)([(0,s.MZ)({readOnly:!0})],D.prototype,"type",void 0),(0,i.Cg)([(0,s.MZ)()],D.prototype,"allParts",null),(0,i.Cg)([(0,s.MZ)({constructOnly:!0,type:k.A,json:{write:!0}})],D.prototype,"origin",void 0),(0,i.Cg)([(0,s.MZ)({constructOnly:!0,type:[N],json:{name:"features"}})],D.prototype,"parts",void 0),(0,i.Cg)([(0,s.MZ)({type:x.A})],D.prototype,"spatialReference",void 0),D=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.templateDefinitions.PresetTemplateDefinition")],D);var L=o(25647);const j=t=>F.fromJSON(t);let F=class extends((0,a.WV)((0,l.g)(y.A))){constructor(t){super(t),this.definition=null,this.layer=null,this.type="feature",this.view=null}readDefinition(t,e){switch(e.type){case"feature":return w.fromJSON(t);case"group":return S.fromJSON(t);case"preset":return D.fromJSON(t);default:throw(0,n.Xb)(e.type),new r.A("shared-template:no-definition","No value for 'definition' provided to 'SharedTemplate' constructor")}}load(t){return this.addResolvingPromise(this._load(t)),Promise.resolve(this)}async _load(t){var e;const{definition:o,featureService:i,layer:n,view:r}=this;if(!(o&&i&&n&&r))throw new g.eZ;o.featureService=i,o.makeSharedTemplateFromJSON=j,o.view=r,await(null===(e=this.definition)||void 0===e?void 0:e.load(t)),(0,L.sC)(o)&&o.initializeRelationshipMetadata(n)}};(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],F.prototype,"definition",void 0),(0,i.Cg)([(0,p.w)("definition")],F.prototype,"readDefinition",null),(0,i.Cg)([(0,s.MZ)()],F.prototype,"layer",void 0),(0,i.Cg)([(0,s.MZ)()],F.prototype,"type",void 0),(0,i.Cg)([(0,s.MZ)()],F.prototype,"view",void 0),F=(0,i.Cg)([(0,d.$)("esri.editing.sharedTemplates.SharedTemplate")],F);const J=F}}]);
//# sourceMappingURL=49750.147ca64a.chunk.js.map