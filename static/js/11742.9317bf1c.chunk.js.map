{"version":3,"file":"static/js/11742.9317bf1c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/FeatureForm/UtilityNetworkAssociationInput.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{IdentifiableMixin as e}from\"../../core/Identifiable.js\";import{ignoreAbortErrors as s}from\"../../core/promiseUtils.js\";import{watch as i,initial as o,on as a}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as l}from\"../../core/support/UpdatingHandles.js\";import{isAssociatedFeatureSupportedLayer as p}from\"../Feature/support/featureUtils.js\";import u from\"./EditableInput.js\";import c from\"../support/UtilityNetworkAssociations/FeatureUtilityNetworkAssociationsViewModel.js\";let d=class extends(e(u)){constructor(t){super(t),this.group=null,this.type=\"utilityNetworkAssociations\",this.featureItem=null,this._updatingHandlesSetUp=new l,this.addHandles([i(()=>({feature:this.feature,element:this.element,layer:this.layer}),t=>this._createAssociationVM(t),o),i(()=>this.feature,()=>this._setFeatureItem()),i(()=>this.associatedLayer,(t,e)=>this._updateLayerEditHandle(t,e),o)])}destroy(){this._associationsVM?.destroy(),this._updatingHandlesSetUp.destroy()}get activeAssociationType(){return this._associationsVM?.activeAssociationType}get associatedFeatures(){const{associatedLayer:t}=this;if(t)return this.associatedFeatureInfos.get(t)}get associatedFeatureInfos(){const{_associationsVM:t}=this;if(!t?.associationFeatures?.size||!t?.utilityNetwork)return new Map;const{associationFeatures:e}=t,s=new Map;return e.forEach((t,e)=>{s.set(e,t)}),s}get associatedLayer(){return this._get(\"associatedLayer\")}set associatedLayer(t){this._associationsVM.showAllEnabled=null!=t,this._set(\"associatedLayer\",t)}get associationsViewModel(){return this._associationsVM}get canAddAssociation(){const{editable:t,utilityNetwork:e}=this;return!(!e||!this.loaded)&&t}get editable(){return this.evaluatedEditableExpression??!0}get featureCount(){return this._associationsVM?.featureCount??0}get viewModel(){return this._associationsVM}get loaded(){return\"loading\"!==this._associationsVM?.state&&!this._updatingHandlesSetUp.updating}get map(){return this._get(\"map\")}set map(t){t&&this._associationsVM?.set(\"map\",t),this._set(\"map\",t)}get utilityNetwork(){return this._associationsVM?.utilityNetwork}get associationTypes(){return this._associationsVM?.associationTypes??this.element.associationTypes}get visible(){const{utilityNetwork:t}=this;return!!t&&(null!=this.evaluatedVisibilityExpression?this.evaluatedVisibilityExpression:null!=this.element)}get updating(){return\"loading\"===this._associationsVM?.state||\"querying\"===this._associationsVM?.state}async refresh(){await s(this._associationsVM.refresh())}_updateLayerEditHandle(t,e){e&&\"layerId\"in e&&this.removeHandles(e?.layerId),p(t)&&this.addHandles(a(()=>t,\"edits\",()=>this.refresh()),t.layerId)}_createAssociationVM(t){const{feature:e,element:s,layer:i}=t;if(this._associationsVM?.destroy(),!e||!s||!i)return;const{map:o,associationTypes:a}=this;p(i)&&(this._associationsVM=new c({graphic:e,layer:i,map:o,associationTypes:a,source:\"featureForm\",title:this.label,description:this.description}))}_setFeatureItem(){this._updatingHandlesSetUp.addPromise((async()=>{const{feature:t,layer:e}=this;t&&e&&\"getFeatureTitle\"in e&&(this.featureItem={feature:t,label:await e.getFeatureTitle(t)})})())}};t([r()],d.prototype,\"_associationsVM\",void 0),t([r()],d.prototype,\"activeAssociationType\",null),t([r()],d.prototype,\"associatedFeatures\",null),t([r()],d.prototype,\"associatedFeatureInfos\",null),t([r()],d.prototype,\"associatedLayer\",null),t([r()],d.prototype,\"associationsViewModel\",null),t([r()],d.prototype,\"canAddAssociation\",null),t([r()],d.prototype,\"editable\",null),t([r()],d.prototype,\"featureCount\",null),t([r()],d.prototype,\"viewModel\",null),t([r()],d.prototype,\"group\",void 0),t([r()],d.prototype,\"loaded\",null),t([r()],d.prototype,\"map\",null),t([r()],d.prototype,\"utilityNetwork\",null),t([r()],d.prototype,\"associationTypes\",null),t([r({readOnly:!0})],d.prototype,\"type\",void 0),t([r()],d.prototype,\"visible\",null),t([r()],d.prototype,\"updating\",null),t([r()],d.prototype,\"featureItem\",void 0),d=t([n(\"esri.widgets.FeatureForm.UtilityNetworkAssociationInput\")],d);const y=d;export{y as default};\n"],"names":["d","e","u","constructor","t","super","this","group","type","featureItem","_updatingHandlesSetUp","l","addHandles","i","feature","element","layer","_createAssociationVM","o","_setFeatureItem","associatedLayer","_updateLayerEditHandle","destroy","_this$_associationsVM","_associationsVM","activeAssociationType","_this$_associationsVM2","associatedFeatures","associatedFeatureInfos","get","_t$associationFeature","associationFeatures","size","utilityNetwork","Map","s","forEach","set","_get","showAllEnabled","_set","associationsViewModel","canAddAssociation","editable","loaded","_this$evaluatedEditab","evaluatedEditableExpression","featureCount","_this$_associationsVM3","_this$_associationsVM4","viewModel","_this$_associationsVM5","state","updating","map","_this$_associationsVM6","_this$_associationsVM7","associationTypes","_this$_associationsVM8","_this$_associationsVM9","visible","evaluatedVisibilityExpression","_this$_associationsVM0","_this$_associationsVM1","refresh","removeHandles","layerId","p","a","_this$_associationsVM10","c","graphic","source","title","label","description","addPromise","getFeatureTitle","r","prototype","readOnly","n","y"],"sourceRoot":""}