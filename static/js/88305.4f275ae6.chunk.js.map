{"version":3,"file":"static/js/88305.4f275ae6.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/chunks/XButton.js","../node_modules/@esri/calcite-components/dist/chunks/core.js","../node_modules/@esri/calcite-components/dist/chunks/guid.js","../node_modules/@esri/calcite-components/dist/chunks/math.js","../node_modules/@esri/calcite-components/dist/chunks/useCancelable.js","../node_modules/color-name/index.js","../node_modules/color-string/index.js","../node_modules/color-convert/conversions.js","../node_modules/color-convert/route.js","../node_modules/color-convert/index.js","../node_modules/color/index.js","../node_modules/@esri/calcite-components/dist/chunks/utils.js","../node_modules/@esri/calcite-components/dist/components/calcite-swatch/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-color-picker-hex-input/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-tabs/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-tab-nav/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-swatch-group/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-tab-title/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-tab/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-color-picker/customElement.js","../node_modules/es-toolkit/dist/function/debounce.mjs","../node_modules/es-toolkit/dist/function/throttle.mjs","../node_modules/lit-html/src/directives/repeat.ts"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { ref } from \"lit/directives/ref.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { nothing, html } from \"lit-html\";\nimport { safeClassMap } from \"@arcgis/lumina\";\nimport { g as getIconScale } from \"./component.js\";\nconst CSS = {\n  button: \"x-button\",\n  buttonRound: \"x-button--round\"\n};\nconst XButton = ({ disabled, focusable, key, label, onClick, ref: ref$1, round = true, scale, title }) => keyed(key, html`<button .ariaLabel=${label} class=${safeClassMap({\n  [((scale2) => `x-button--${scale2}`)(scale)]: true,\n  [CSS.button]: true,\n  [CSS.buttonRound]: round\n})} .disabled=${disabled} @click=${onClick} .tabIndex=${focusable ? 0 : -1} title=${title ?? nothing} type=button ${ref(ref$1)}><calcite-icon icon=x .scale=${getIconScale(scale)}></calcite-icon></button>`);\nexport {\n  CSS as C,\n  XButton as X\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nconst calciteSize24 = \"24px\";\nconst calciteSize32 = \"32px\";\nconst calciteSize44 = \"44px\";\nconst calciteSize48 = \"48px\";\nexport {\n  calciteSize32 as a,\n  calciteSize44 as b,\n  calciteSize24 as c,\n  calciteSize48 as d\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nfunction gen(counts) {\n  return counts.map((count) => {\n    let out = \"\";\n    for (let i = 0; i < count; i++) {\n      out += ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n    }\n    return out;\n  }).join(\"-\");\n}\nconst guid = () => gen([2, 1, 1, 1, 3]);\nexport {\n  guid as g\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nconst clamp = (value, min, max) => Math.max(min, Math.min(value, max));\nconst decimalNumberRegex = new RegExp(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\nconst decimalPlaces = (value) => {\n  const match = (\"\" + value).match(decimalNumberRegex);\n  if (!match || parseInt(match[1]) === 0) {\n    return 0;\n  }\n  return Math.max(\n    0,\n    // Number of digits right of decimal point.\n    (match[1] ? match[1].length : 0) - // Adjust for scientific notation.\n    (match[2] ? +match[2] : 0)\n  );\n};\nfunction getDecimals(value) {\n  if (decimalPlaces(value) > 0 && value > 0) {\n    return parseFloat(`0.${value.toString().split(\".\")[1]}`);\n  }\n  return value;\n}\nfunction remap(value, fromMin, fromMax, toMin, toMax) {\n  return (value - fromMin) * (toMax - toMin) / (fromMax - fromMin) + toMin;\n}\nfunction closeToRangeEdge(value, range, threshold) {\n  return value < threshold ? -1 : value > range - threshold ? 1 : 0;\n}\nexport {\n  closeToRangeEdge as a,\n  clamp as c,\n  decimalPlaces as d,\n  getDecimals as g,\n  remap as r\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { makeGenericController } from \"@arcgis/lumina/controllers\";\nconst useCancelable = () => {\n  return makeGenericController((_, controller) => {\n    const resources = /* @__PURE__ */ new Set();\n    controller.onDisconnected(() => {\n      resources.forEach((resource) => resource.cancel());\n    });\n    return {\n      add: (resourceOrResources) => {\n        [resourceOrResources].flat().forEach((resource) => resources.add(resource));\n      },\n      resources\n    };\n  });\n};\nexport {\n  useCancelable as u\n};\n","const colors = {\n\taliceblue: [240, 248, 255],\n\tantiquewhite: [250, 235, 215],\n\taqua: [0, 255, 255],\n\taquamarine: [127, 255, 212],\n\tazure: [240, 255, 255],\n\tbeige: [245, 245, 220],\n\tbisque: [255, 228, 196],\n\tblack: [0, 0, 0],\n\tblanchedalmond: [255, 235, 205],\n\tblue: [0, 0, 255],\n\tblueviolet: [138, 43, 226],\n\tbrown: [165, 42, 42],\n\tburlywood: [222, 184, 135],\n\tcadetblue: [95, 158, 160],\n\tchartreuse: [127, 255, 0],\n\tchocolate: [210, 105, 30],\n\tcoral: [255, 127, 80],\n\tcornflowerblue: [100, 149, 237],\n\tcornsilk: [255, 248, 220],\n\tcrimson: [220, 20, 60],\n\tcyan: [0, 255, 255],\n\tdarkblue: [0, 0, 139],\n\tdarkcyan: [0, 139, 139],\n\tdarkgoldenrod: [184, 134, 11],\n\tdarkgray: [169, 169, 169],\n\tdarkgreen: [0, 100, 0],\n\tdarkgrey: [169, 169, 169],\n\tdarkkhaki: [189, 183, 107],\n\tdarkmagenta: [139, 0, 139],\n\tdarkolivegreen: [85, 107, 47],\n\tdarkorange: [255, 140, 0],\n\tdarkorchid: [153, 50, 204],\n\tdarkred: [139, 0, 0],\n\tdarksalmon: [233, 150, 122],\n\tdarkseagreen: [143, 188, 143],\n\tdarkslateblue: [72, 61, 139],\n\tdarkslategray: [47, 79, 79],\n\tdarkslategrey: [47, 79, 79],\n\tdarkturquoise: [0, 206, 209],\n\tdarkviolet: [148, 0, 211],\n\tdeeppink: [255, 20, 147],\n\tdeepskyblue: [0, 191, 255],\n\tdimgray: [105, 105, 105],\n\tdimgrey: [105, 105, 105],\n\tdodgerblue: [30, 144, 255],\n\tfirebrick: [178, 34, 34],\n\tfloralwhite: [255, 250, 240],\n\tforestgreen: [34, 139, 34],\n\tfuchsia: [255, 0, 255],\n\tgainsboro: [220, 220, 220],\n\tghostwhite: [248, 248, 255],\n\tgold: [255, 215, 0],\n\tgoldenrod: [218, 165, 32],\n\tgray: [128, 128, 128],\n\tgreen: [0, 128, 0],\n\tgreenyellow: [173, 255, 47],\n\tgrey: [128, 128, 128],\n\thoneydew: [240, 255, 240],\n\thotpink: [255, 105, 180],\n\tindianred: [205, 92, 92],\n\tindigo: [75, 0, 130],\n\tivory: [255, 255, 240],\n\tkhaki: [240, 230, 140],\n\tlavender: [230, 230, 250],\n\tlavenderblush: [255, 240, 245],\n\tlawngreen: [124, 252, 0],\n\tlemonchiffon: [255, 250, 205],\n\tlightblue: [173, 216, 230],\n\tlightcoral: [240, 128, 128],\n\tlightcyan: [224, 255, 255],\n\tlightgoldenrodyellow: [250, 250, 210],\n\tlightgray: [211, 211, 211],\n\tlightgreen: [144, 238, 144],\n\tlightgrey: [211, 211, 211],\n\tlightpink: [255, 182, 193],\n\tlightsalmon: [255, 160, 122],\n\tlightseagreen: [32, 178, 170],\n\tlightskyblue: [135, 206, 250],\n\tlightslategray: [119, 136, 153],\n\tlightslategrey: [119, 136, 153],\n\tlightsteelblue: [176, 196, 222],\n\tlightyellow: [255, 255, 224],\n\tlime: [0, 255, 0],\n\tlimegreen: [50, 205, 50],\n\tlinen: [250, 240, 230],\n\tmagenta: [255, 0, 255],\n\tmaroon: [128, 0, 0],\n\tmediumaquamarine: [102, 205, 170],\n\tmediumblue: [0, 0, 205],\n\tmediumorchid: [186, 85, 211],\n\tmediumpurple: [147, 112, 219],\n\tmediumseagreen: [60, 179, 113],\n\tmediumslateblue: [123, 104, 238],\n\tmediumspringgreen: [0, 250, 154],\n\tmediumturquoise: [72, 209, 204],\n\tmediumvioletred: [199, 21, 133],\n\tmidnightblue: [25, 25, 112],\n\tmintcream: [245, 255, 250],\n\tmistyrose: [255, 228, 225],\n\tmoccasin: [255, 228, 181],\n\tnavajowhite: [255, 222, 173],\n\tnavy: [0, 0, 128],\n\toldlace: [253, 245, 230],\n\tolive: [128, 128, 0],\n\tolivedrab: [107, 142, 35],\n\torange: [255, 165, 0],\n\torangered: [255, 69, 0],\n\torchid: [218, 112, 214],\n\tpalegoldenrod: [238, 232, 170],\n\tpalegreen: [152, 251, 152],\n\tpaleturquoise: [175, 238, 238],\n\tpalevioletred: [219, 112, 147],\n\tpapayawhip: [255, 239, 213],\n\tpeachpuff: [255, 218, 185],\n\tperu: [205, 133, 63],\n\tpink: [255, 192, 203],\n\tplum: [221, 160, 221],\n\tpowderblue: [176, 224, 230],\n\tpurple: [128, 0, 128],\n\trebeccapurple: [102, 51, 153],\n\tred: [255, 0, 0],\n\trosybrown: [188, 143, 143],\n\troyalblue: [65, 105, 225],\n\tsaddlebrown: [139, 69, 19],\n\tsalmon: [250, 128, 114],\n\tsandybrown: [244, 164, 96],\n\tseagreen: [46, 139, 87],\n\tseashell: [255, 245, 238],\n\tsienna: [160, 82, 45],\n\tsilver: [192, 192, 192],\n\tskyblue: [135, 206, 235],\n\tslateblue: [106, 90, 205],\n\tslategray: [112, 128, 144],\n\tslategrey: [112, 128, 144],\n\tsnow: [255, 250, 250],\n\tspringgreen: [0, 255, 127],\n\tsteelblue: [70, 130, 180],\n\ttan: [210, 180, 140],\n\tteal: [0, 128, 128],\n\tthistle: [216, 191, 216],\n\ttomato: [255, 99, 71],\n\tturquoise: [64, 224, 208],\n\tviolet: [238, 130, 238],\n\twheat: [245, 222, 179],\n\twhite: [255, 255, 255],\n\twhitesmoke: [245, 245, 245],\n\tyellow: [255, 255, 0],\n\tyellowgreen: [154, 205, 50],\n}\n\nfor (const key in colors) Object.freeze(colors[key]);\nexport default Object.freeze(colors);","import colorNames from 'color-name';\n\nconst reverseNames = Object.create(null);\n\n// Create a list of reverse color names\nfor (const name in colorNames) {\n\tif (Object.hasOwn(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nconst cs = {\n\tto: {},\n\tget: {},\n};\n\ncs.get = function (string) {\n\tconst prefix = string.slice(0, 3).toLowerCase();\n\tlet value;\n\tlet model;\n\tswitch (prefix) {\n\t\tcase 'hsl': {\n\t\t\tvalue = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'hwb': {\n\t\t\tvalue = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\t}\n\n\t\tdefault: {\n\t\t\tvalue = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!value) {\n\t\treturn null;\n\t}\n\n\treturn {model, value};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst abbr = /^#([a-f\\d]{3,4})$/i;\n\tconst hex = /^#([a-f\\d]{6})([a-f\\d]{2})?$/i;\n\tconst rgba = /^rgba?\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:e\\d+)?)(?=[\\s,])\\s*(?:,\\s*)?([+-]?(?:\\d*\\.)?\\d+(?:e\\d+)?)(?=[\\s,])\\s*(?:,\\s*)?([+-]?(?:\\d*\\.)?\\d+(?:e\\d+)?)\\s*(?:[\\s,|/]\\s*([+-]?(?:\\d*\\.)?\\d+(?:e\\d+)?)(%?)\\s*)?\\)$/i;\n\tconst per = /^rgba?\\(\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/i;\n\tconst keyword = /^(\\w+)$/;\n\n\tlet rgb = [0, 0, 0, 1];\n\tlet match;\n\tlet i;\n\tlet hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tconst i2 = i * 2;\n\t\t\trgb[i] = Number.parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseFloat(match[i + 1]);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(Number.parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.toLowerCase().match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!Object.hasOwn(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// eslint-disable-next-line unicorn/prefer-spread\n\t\trgb = colorNames[match[1]].slice();\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[,|/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:e[+-]?\\d+)?)\\s*)?\\)$/i;\n\tconst match = string.match(hsl);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst s = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst l = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:e[+-]?\\d+)?)\\s*)?\\)$/i;\n\tconst match = string.match(hwb);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst w = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst b = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function (...rgba) {\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function (...rgba) {\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function (...rgba) {\n\tconst r = Math.round(rgba[0] / 255 * 100);\n\tconst g = Math.round(rgba[1] / 255 * 100);\n\tconst b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function (...hsla) {\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// Hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function (...hwba) {\n\tlet a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (...rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// Helpers\nfunction clamp(number_, min, max) {\n\treturn Math.min(Math.max(min, number_), max);\n}\n\nfunction hexDouble(number_) {\n\tconst string_ = Math.round(number_).toString(16).toUpperCase();\n\treturn (string_.length < 2) ? '0' + string_ : string_;\n}\n\nexport default cs;\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nimport cssKeywords from 'color-name';\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\toklab: {channels: 3, labels: ['okl', 'oka', 'okb']},\n\tlch: {channels: 3, labels: 'lch'},\n\toklch: {channels: 3, labels: ['okl', 'okc', 'okh']},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']},\n};\n\nexport default convert;\n\n// LAB f(t) constant\nconst LAB_FT = (6 / 29) ** 3;\n\n// SRGB non-linear transform functions\nfunction srgbNonlinearTransform(c) {\n\tconst cc = c > 0.003_130_8\n\t\t? ((1.055 * (c ** (1 / 2.4))) - 0.055)\n\t\t: c * 12.92;\n\treturn Math.min(Math.max(0, cc), 1);\n}\n\nfunction srgbNonlinearTransformInv(c) {\n\treturn c > 0.040_45 ? (((c + 0.055) / 1.055) ** 2.4) : (c / 12.92);\n}\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tswitch (max) {\n\t\tcase min: {\n\t\t\th = 0;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase r: {\n\t\t\th = (g - b) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase g: {\n\t\t\th = 2 + (b - r) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase b: {\n\t\t\th = 4 + (r - g) / delta;\n\n\t\t\tbreak;\n\t\t}\n\t// No default\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tswitch (v) {\n\t\t\tcase r: {\n\t\t\t\th = bdif - gdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase g: {\n\t\t\t\th = (1 / 3) + rdif - bdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase b: {\n\t\t\t\th = (2 / 3) + gdif - rdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t// No default\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100,\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.oklab = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst lp = Math.cbrt(0.412_221_470_8 * r + 0.536_332_536_3 * g + 0.051_445_992_9 * b);\n\tconst mp = Math.cbrt(0.211_903_498_2 * r + 0.680_699_545_1 * g + 0.107_396_956_6 * b);\n\tconst sp = Math.cbrt(0.088_302_461_9 * r + 0.281_718_837_6 * g + 0.629_978_700_5 * b);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst aa = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst bb = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, aa * 100, bb * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Number.POSITIVE_INFINITY;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn [...cssKeywords[keyword]];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst x = (r * 0.412_456_4) + (g * 0.357_576_1) + (b * 0.180_437_5);\n\tconst y = (r * 0.212_672_9) + (g * 0.715_152_2) + (b * 0.072_175);\n\tconst z = (r * 0.019_333_9) + (g * 0.119_192) + (b * 0.950_304_1);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t3;\n\tlet value;\n\n\tif (s === 0) {\n\t\tvalue = l * 255;\n\t\treturn [value, value, value];\n\t}\n\n\tconst t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tvalue = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tvalue = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tvalue = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tvalue = t1;\n\t\t}\n\n\t\trgb[i] = value * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0: {\n\t\t\treturn [v, t, p];\n\t\t}\n\n\t\tcase 1: {\n\t\t\treturn [q, v, p];\n\t\t}\n\n\t\tcase 2: {\n\t\t\treturn [p, v, t];\n\t\t}\n\n\t\tcase 3: {\n\t\t\treturn [p, q, v];\n\t\t}\n\n\t\tcase 4: {\n\t\t\treturn [t, p, v];\n\t\t}\n\n\t\tcase 5: {\n\t\t\treturn [v, p, q];\n\t\t}\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\t// eslint-disable-next-line no-bitwise\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces, default-case-last */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: { r = v;  g = n;  b = wh; break;\n\t\t}\n\n\t\tcase 1: { r = n;  g = v;  b = wh; break;\n\t\t}\n\n\t\tcase 2: { r = wh; g = v;  b = n; break;\n\t\t}\n\n\t\tcase 3: { r = wh; g = n;  b = v; break;\n\t\t}\n\n\t\tcase 4: { r = n;  g = wh; b = v; break;\n\t\t}\n\n\t\tcase 5: { r = v;  g = wh; b = n; break;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces, default-case-last */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.240_454_2) + (y * -1.537_138_5) + (z * -0.498_531_4);\n\tg = (x * -0.969_266) + (y * 1.876_010_8) + (z * 0.041_556);\n\tb = (x * 0.055_643_4) + (y * -0.204_025_9) + (z * 1.057_225_2);\n\n\t// Assume sRGB\n\tr = srgbNonlinearTransform(r);\n\tg = srgbNonlinearTransform(g);\n\tb = srgbNonlinearTransform(b);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.xyz.oklab = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\n\tconst lp = Math.cbrt(0.818_933_010_1 * x + 0.361_866_742_4 * y - 0.128_859_713_7 * z);\n\tconst mp = Math.cbrt(0.032_984_543_6 * x + 0.929_311_871_5 * y + 0.036_145_638_7 * z);\n\tconst sp = Math.cbrt(0.048_200_301_8 * x + 0.264_366_269_1 * y + 0.633_851_707 * z);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst a = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst b = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, a * 100, b * 100];\n};\n\nconvert.oklab.oklch = function (oklab) {\n\treturn convert.lab.lch(oklab);\n};\n\nconvert.oklab.xyz = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst a = oklab[1] / 100;\n\tconst b = oklab[2] / 100;\n\n\tconst l = (0.999_999_998 * ll + 0.396_337_792 * a + 0.215_803_758 * b) ** 3;\n\tconst m = (1.000_000_008 * ll - 0.105_561_342 * a - 0.063_854_175 * b) ** 3;\n\tconst s = (1.000_000_055 * ll - 0.089_484_182 * a - 1.291_485_538 * b) ** 3;\n\n\tconst x = 1.227_013_851 * l - 0.557_799_98 * m + 0.281_256_149 * s;\n\tconst y = -0.040_580_178 * l + 1.112_256_87 * m - 0.071_676_679 * s;\n\tconst z = -0.076_381_285 * l - 0.421_481_978 * m + 1.586_163_22 * s;\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.oklab.rgb = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst aa = oklab[1] / 100;\n\tconst bb = oklab[2] / 100;\n\n\tconst l = (ll + 0.396_337_777_4 * aa + 0.215_803_757_3 * bb) ** 3;\n\tconst m = (ll - 0.105_561_345_8 * aa - 0.063_854_172_8 * bb) ** 3;\n\tconst s = (ll - 0.089_484_177_5 * aa - 1.291_485_548 * bb) ** 3;\n\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransform(4.076_741_662_1 * l - 3.307_711_591_3 * m + 0.230_969_929_2 * s);\n\tconst g = srgbNonlinearTransform(-1.268_438_004_6 * l + 2.609_757_401_1 * m - 0.341_319_396_5 * s);\n\tconst b = srgbNonlinearTransform(-0.004_196_086_3 * l - 0.703_418_614_7 * m + 1.707_614_701 * s);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.oklch.oklab = function (oklch) {\n\treturn convert.lch.lab(oklch);\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > LAB_FT ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > LAB_FT ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > LAB_FT ? z2 : (z - 16 / 116) / 7.787;\n\n\t// Illuminant D65 XYZ Tristrimulus Values\n\t// https://en.wikipedia.org/wiki/CIE_1931_color_space\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t/* eslint-disable no-bitwise */\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\t\t/* eslint-enable no-bitwise */\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\t// eslint-disable-next-line no-bitwise\n\tif (r >> 4 === g >> 4 && g >> 4 === b >> 4) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\targs = args[0];\n\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (Math.trunc(args > 50) + 1) * 0.5;\n\t/* eslint-disable no-bitwise */\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\targs = args[0];\n\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\t/* eslint-disable no-bitwise */\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f\\d]{6}|[a-f\\d]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = [...colorString].map(char => char + char).join('');\n\t}\n\n\tconst integer = Number.parseInt(colorString, 16);\n\t/* eslint-disable no-bitwise */\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet hue;\n\n\tconst grayscale = chroma < 1 ? min / (1 - chroma) : 0;\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else if (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else if (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2 * s * l) : (2 * s * (1 - l));\n\n\tlet f = 0;\n\tif (c < 1) {\n\t\tf = (l - 0.5 * c) / (1 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0: {\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 1: {\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 2: {\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\t}\n\n\t\tcase 3: {\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\t}\n\n\t\tcase 4: {\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\t}\n\n\t\tdefault: {\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255,\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1 - c);\n\tlet f = 0;\n\n\tif (v > 0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else if (l >= 0.5 && l < 1) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65_535) * 255, (apple[1] / 65_535) * 255, (apple[2] / 65_535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65_535, (rgb[1] / 255) * 65_535, (rgb[2] / 255) * 65_535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\t/* eslint-disable no-bitwise */\n\tconst value = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (value << 16) + (value << 8) + value;\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst value = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [value / 255 * 100];\n};\n","import conversions from './conversions.js';\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null,\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length > 0) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let {length} = adjacents, i = 0; i < length; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nfunction route(fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n}\n\nexport default route;\n","import conversions from './conversions.js';\nimport route from './route.js';\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let {length} = result, i = 0; i < length; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfor (const fromModel of models) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\tfor (const toModel of routeModels) {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t}\n}\n\nexport default convert;\n","import colorString from 'color-string';\nimport convert from 'color-convert';\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](...arguments_);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(...arguments_);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(...this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(...rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_colour_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...arguments_) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments_.length > 0) {\n\t\t\treturn new Color(arguments_, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...arguments_) {\n\t\tlet color = arguments_[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(arguments_, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] ||= [])[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nexport default Color;\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport Color from \"color\";\nimport { c as calciteSpacingFixedXl, a as calciteSpacingFixedMd, b as calciteSpacingFixedSm } from \"./global.js\";\nconst CSS = {\n  channel: \"channel\",\n  channels: \"channels\",\n  colorField: \"color-field\",\n  colorFieldScope: \"scope--color-field\",\n  colorMode: \"color-mode\",\n  colorModeContainer: \"color-mode-container\",\n  container: \"container\",\n  control: \"control\",\n  controlAndScope: \"control-and-scope\",\n  controlSection: \"control-section\",\n  deleteColor: \"delete-color\",\n  header: \"header\",\n  hexAndChannelsGroup: \"hex-and-channels-group\",\n  hexOptions: \"color-hex-options\",\n  hueScope: \"scope--hue\",\n  hueSlider: \"hue-slider\",\n  opacityScope: \"scope--opacity\",\n  opacitySlider: \"opacity-slider\",\n  preview: \"preview\",\n  previewAndSliders: \"preview-and-sliders\",\n  saveColor: \"save-color\",\n  savedColor: \"saved-color\",\n  savedColorsButtons: \"saved-colors-buttons\",\n  savedColorsSection: \"saved-colors-section\",\n  scope: \"scope\",\n  section: \"section\",\n  slider: \"slider\",\n  sliders: \"sliders\",\n  splitSection: \"section--split\",\n  swatchGroup: \"swatch-group\"\n};\nconst DEFAULT_COLOR = Color(\"#007AC2\");\nconst DEFAULT_STORAGE_KEY_PREFIX = \"calcite-color-\";\nconst RGB_LIMITS = {\n  r: 255,\n  g: 255,\n  b: 255\n};\nconst HSV_LIMITS = {\n  h: 360,\n  s: 100,\n  v: 100\n};\nconst HUE_LIMIT_CONSTRAINED = HSV_LIMITS.h - 1;\nconst OPACITY_LIMITS = {\n  min: 0,\n  max: 100\n};\nconst STATIC_DIMENSIONS = {\n  s: {\n    gap: parseInt(calciteSpacingFixedSm),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 20\n    },\n    minWidth: 200\n  },\n  m: {\n    gap: parseInt(calciteSpacingFixedMd),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 24\n    },\n    minWidth: 240\n  },\n  l: {\n    gap: parseInt(calciteSpacingFixedXl),\n    slider: {\n      height: 12\n    },\n    thumb: {\n      radius: 7\n    },\n    preview: {\n      size: 32\n    },\n    minWidth: 304\n  }\n};\nconst SCOPE_SIZE = 1;\nconst ICONS = {\n  minus: \"minus\",\n  plus: \"plus\"\n};\nconst hexChar = /^[0-9A-F]$/i;\nconst shorthandHex = /^#[0-9A-F]{3}$/i;\nconst longhandHex = /^#[0-9A-F]{6}$/i;\nconst shorthandHexWithAlpha = /^#[0-9A-F]{4}$/i;\nconst longhandHexWithAlpha = /^#[0-9A-F]{8}$/i;\nconst alphaToOpacity = (alpha) => Number((alpha * 100).toFixed());\nconst opacityToAlpha = (opacity) => Number((opacity / 100).toFixed(2));\nfunction isValidHex(hex, hasAlpha = false) {\n  return isShorthandHex(hex, hasAlpha) || isLonghandHex(hex, hasAlpha);\n}\nfunction evaluateHex(hex, length, pattern) {\n  if (!hex) {\n    return false;\n  }\n  return hex.length === length && pattern.test(hex);\n}\nfunction isShorthandHex(hex, hasAlpha = false) {\n  const hexLength = hasAlpha ? 5 : 4;\n  const hexPattern = hasAlpha ? shorthandHexWithAlpha : shorthandHex;\n  return evaluateHex(hex, hexLength, hexPattern);\n}\nfunction isLonghandHex(hex, hasAlpha = false) {\n  const hexLength = hasAlpha ? 9 : 7;\n  const hexPattern = hasAlpha ? longhandHexWithAlpha : longhandHex;\n  return evaluateHex(hex, hexLength, hexPattern);\n}\nfunction normalizeHex(hex, hasAlpha = false, convertFromHexToHexa = false) {\n  hex = hex.toLowerCase();\n  if (!hex.startsWith(\"#\")) {\n    hex = `#${hex}`;\n  }\n  if (isShorthandHex(hex, hasAlpha)) {\n    return rgbToHex(hexToRGB(hex, hasAlpha));\n  }\n  if (hasAlpha && convertFromHexToHexa && isValidHex(\n    hex,\n    false\n    /* we only care about RGB hex for conversion */\n  )) {\n    const isShorthand = isShorthandHex(hex, false);\n    return rgbToHex(hexToRGB(`${hex}${isShorthand ? \"f\" : \"ff\"}`, true));\n  }\n  return hex;\n}\nfunction hexify(color, hasAlpha = false) {\n  return hasAlpha ? color.hexa() : color.hex();\n}\nfunction rgbToHex(color) {\n  const { r, g, b } = color;\n  const rChars = numToHex(r);\n  const gChars = numToHex(g);\n  const bChars = numToHex(b);\n  const alphaChars = \"a\" in color ? numToHex(color.a * 255) : \"\";\n  return `#${rChars}${gChars}${bChars}${alphaChars}`.toLowerCase();\n}\nfunction numToHex(num) {\n  return num.toString(16).padStart(2, \"0\");\n}\nfunction normalizeAlpha(colorObject) {\n  const normalized = {\n    ...colorObject,\n    a: colorObject.alpha ?? 1\n    /* Color() will omit alpha if 1 */\n  };\n  delete normalized.alpha;\n  return normalized;\n}\nfunction normalizeColor(alphaColorObject) {\n  const normalized = { ...alphaColorObject, alpha: alphaColorObject.a ?? 1 };\n  delete normalized.a;\n  return normalized;\n}\nfunction hexToRGB(hex, hasAlpha = false) {\n  if (!isValidHex(hex, hasAlpha)) {\n    return null;\n  }\n  hex = hex.replace(\"#\", \"\");\n  let r;\n  let g;\n  let b;\n  let a;\n  const isShorthand = hex.length === 3 || hex.length === 4;\n  if (isShorthand) {\n    const [first, second, third, fourth] = hex.split(\"\");\n    r = parseInt(`${first}${first}`, 16);\n    g = parseInt(`${second}${second}`, 16);\n    b = parseInt(`${third}${third}`, 16);\n    a = parseInt(`${fourth}${fourth}`, 16) / 255;\n  } else {\n    r = parseInt(hex.slice(0, 2), 16);\n    g = parseInt(hex.slice(2, 4), 16);\n    b = parseInt(hex.slice(4, 6), 16);\n    a = parseInt(hex.slice(6, 8), 16) / 255;\n  }\n  return isNaN(a) ? { r, g, b } : { r, g, b, a };\n}\nconst enumify = (x) => x;\nconst CSSColorMode = enumify({\n  HEX: \"hex\",\n  HEXA: \"hexa\",\n  RGB_CSS: \"rgb-css\",\n  RGBA_CSS: \"rgba-css\",\n  HSL_CSS: \"hsl-css\",\n  HSLA_CSS: \"hsla-css\"\n});\nconst ObjectColorMode = enumify({\n  RGB: \"rgb\",\n  RGBA: \"rgba\",\n  HSL: \"hsl\",\n  HSLA: \"hsla\",\n  HSV: \"hsv\",\n  HSVA: \"hsva\"\n});\nfunction parseMode(colorValue) {\n  if (typeof colorValue === \"string\") {\n    if (colorValue.startsWith(\"#\")) {\n      const { length } = colorValue;\n      if (length === 4 || length === 7) {\n        return CSSColorMode.HEX;\n      }\n      if (length === 5 || length === 9) {\n        return CSSColorMode.HEXA;\n      }\n    }\n    if (colorValue.startsWith(\"rgba(\")) {\n      return CSSColorMode.RGBA_CSS;\n    }\n    if (colorValue.startsWith(\"rgb(\")) {\n      return CSSColorMode.RGB_CSS;\n    }\n    if (colorValue.startsWith(\"hsl(\")) {\n      return CSSColorMode.HSL_CSS;\n    }\n    if (colorValue.startsWith(\"hsla(\")) {\n      return CSSColorMode.HSLA_CSS;\n    }\n  }\n  if (typeof colorValue === \"object\") {\n    if (hasChannels(colorValue, \"r\", \"g\", \"b\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.RGBA : ObjectColorMode.RGB;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"l\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSLA : ObjectColorMode.HSL;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"v\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSVA : ObjectColorMode.HSV;\n    }\n  }\n  return null;\n}\nfunction hasChannels(colorObject, ...channels) {\n  return channels.every((channel) => channel && colorObject && `${channel}` in colorObject);\n}\nfunction colorEqual(value1, value2) {\n  return value1?.rgb().array().toString() === value2?.rgb().array().toString();\n}\nfunction alphaCompatible(mode) {\n  return mode === CSSColorMode.HEXA || mode === CSSColorMode.RGBA_CSS || mode === CSSColorMode.HSLA_CSS || mode === ObjectColorMode.RGBA || mode === ObjectColorMode.HSLA || mode === ObjectColorMode.HSVA;\n}\nfunction toAlphaMode(mode) {\n  const alphaMode = mode === CSSColorMode.HEX ? CSSColorMode.HEXA : mode === CSSColorMode.RGB_CSS ? CSSColorMode.RGBA_CSS : mode === CSSColorMode.HSL_CSS ? CSSColorMode.HSLA_CSS : mode === ObjectColorMode.RGB ? ObjectColorMode.RGBA : mode === ObjectColorMode.HSL ? ObjectColorMode.HSLA : mode === ObjectColorMode.HSV ? ObjectColorMode.HSVA : mode;\n  return alphaMode;\n}\nfunction toNonAlphaMode(mode) {\n  const nonAlphaMode = mode === CSSColorMode.HEXA ? CSSColorMode.HEX : mode === CSSColorMode.RGBA_CSS ? CSSColorMode.RGB_CSS : mode === CSSColorMode.HSLA_CSS ? CSSColorMode.HSL_CSS : mode === ObjectColorMode.RGBA ? ObjectColorMode.RGB : mode === ObjectColorMode.HSLA ? ObjectColorMode.HSL : mode === ObjectColorMode.HSVA ? ObjectColorMode.HSV : mode;\n  return nonAlphaMode;\n}\nconst borderWidthInPx = 1;\nconst inlineSizeBorderTotalWidth = borderWidthInPx * 2;\nfunction getSliderWidth(availableWidth, activeStaticDimensions, hasAlpha) {\n  const previewWidth = hasAlpha ? STATIC_DIMENSIONS[\"l\"].preview.size : activeStaticDimensions.preview.size;\n  const effectiveWidth = availableWidth - inlineSizeBorderTotalWidth;\n  const inlineSpaceAroundElements = activeStaticDimensions.gap * 3;\n  return Math.max(effectiveWidth - inlineSpaceAroundElements - previewWidth, 0);\n}\nfunction getColorFieldDimensions(availableWidth) {\n  const colorFieldAspectRatio = 1.8;\n  const effectiveWidth = availableWidth - inlineSizeBorderTotalWidth;\n  return {\n    width: Math.max(effectiveWidth, 0),\n    height: Math.max(Math.floor(effectiveWidth / colorFieldAspectRatio), 0)\n  };\n}\nexport {\n  CSSColorMode as C,\n  DEFAULT_COLOR as D,\n  HSV_LIMITS as H,\n  ICONS as I,\n  OPACITY_LIMITS as O,\n  RGB_LIMITS as R,\n  STATIC_DIMENSIONS as S,\n  isLonghandHex as a,\n  isShorthandHex as b,\n  alphaToOpacity as c,\n  hexChar as d,\n  getColorFieldDimensions as e,\n  DEFAULT_STORAGE_KEY_PREFIX as f,\n  getSliderWidth as g,\n  hexify as h,\n  isValidHex as i,\n  alphaCompatible as j,\n  colorEqual as k,\n  normalizeColor as l,\n  CSS as m,\n  normalizeHex as n,\n  opacityToAlpha as o,\n  parseMode as p,\n  toNonAlphaMode as q,\n  rgbToHex as r,\n  HUE_LIMIT_CONSTRAINED as s,\n  toAlphaMode as t,\n  normalizeAlpha as u,\n  SCOPE_SIZE as v,\n  hexToRGB as w\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { css, html, svg, nothing } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport Color from \"color\";\nimport { a as slotChangeHasAssignedElement } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nimport { h as hexify } from \"../../chunks/utils.js\";\nconst CSS = {\n  imageContainer: \"image-container\",\n  container: \"container\",\n  selectable: \"selectable\",\n  nonInteractive: \"non-interactive\",\n  selected: \"selected\",\n  internalSvgContainer: \"internal-svg-container\",\n  internalSvgDisabled: \"internal-svg-disabled\",\n  internalSvgEmpty: \"internal-svg-empty\",\n  swatch: \"swatch\",\n  checker: \"checker\",\n  noColorSwatch: \"swatch--no-color\"\n};\nconst SLOTS = {\n  image: \"image\"\n};\nconst checkerSquareSize = 4;\nconst CHECKER_DIMENSIONS = {\n  squareSize: checkerSquareSize,\n  size: checkerSquareSize * 2\n};\nconst IDS = {\n  checker: \"checker\",\n  shape: \"shape\",\n  swatchRect: \"swatch-rect\",\n  swatchSolid: \"swatch-solid\",\n  swatchTransparent: \"swatch-transparent\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block;--calcite-internal-swatch-inset: var(--calcite-spacing-xxs)}:host([scale=s]) .container{--calcite-internal-swatch-size: var(--calcite-spacing-xl)}:host([scale=m]) .container{--calcite-internal-swatch-size: var(--calcite-spacing-xxl)}:host([scale=l]) .container{--calcite-internal-swatch-size: var(--calcite-spacing-xxxl)}.container{position:relative;box-sizing:border-box;justify-content:center;overflow:hidden;outline-color:transparent;font-size:var(--calcite-internal-swatch-font-size, var(--calcite-font-size));block-size:var(--calcite-internal-swatch-size, auto);inline-size:var(--calcite-internal-swatch-size, auto);min-inline-size:var(--calcite-internal-swatch-size, auto);border-radius:var(--calcite-swatch-corner-radius, 0)}.container:not(.non-interactive):hover{cursor:pointer;box-shadow:0 0 0 var(--calcite-border-width-md) var(--calcite-color-border-2)}.container.selectable{cursor:pointer}.container:not(.non-interactive):focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.swatch{position:absolute;display:inline-flex;overflow:hidden;z-index:calc(var(--calcite-z-index) + 1);block-size:var(--calcite-internal-swatch-size, auto);inline-size:var(--calcite-internal-swatch-size, auto);min-inline-size:var(--calcite-internal-swatch-size, auto);border-radius:var(--calcite-swatch-corner-radius, 0)}:host([selected]) .swatch{inset:var(--calcite-internal-swatch-inset);block-size:calc(var(--calcite-internal-swatch-size, auto) - 2 * var(--calcite-internal-swatch-inset));inline-size:calc(var(--calcite-internal-swatch-size, auto) - 2 * var(--calcite-internal-swatch-inset));min-inline-size:calc(var(--calcite-internal-swatch-size, auto) - 2 * var(--calcite-internal-swatch-inset))}:host([selected]) .container{box-shadow:inset 0 0 0 var(--calcite-border-width-md) var(--calcite-color-text-1),inset 0 0 0 var(--calcite-border-width-lg) var(--calcite-color-foreground-1)}:host([selected]) .image-container{inset:var(--calcite-internal-swatch-inset)}.image-container{position:absolute;display:inline-flex;overflow:hidden;z-index:calc(var(--calcite-z-index) + 2);inset:var(--calcite-spacing-px);display:flex;align-items:center;justify-content:center;pointer-events:none;border-radius:var(--calcite-swatch-corner-radius, 0)}.internal-svg-container{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:calc(var(--calcite-z-index) + 2)}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}:host([selected]) #swatch-rect,:host([selected]) #swatch-solid,:host([selected]) #swatch-transparent{stroke-width:0}#swatch-rect,#swatch-solid,#swatch-transparent{stroke:var(--calcite-color-text-1);stroke-width:var(--calcite-border-width-md);stroke-opacity:.3;rx:var(--calcite-swatch-corner-radius)}.internal-svg-disabled{stroke:#6a6a6a;fill:#fff}.internal-svg-empty{stroke:var(--calcite-color-status-danger);stroke-width:3}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Swatch extends LitElement {\n  constructor() {\n    super();\n    this.containerEl = createRef();\n    this.focusSetter = useSetFocus()(this);\n    this.hasImage = false;\n    this.disabled = false;\n    this.interactive = false;\n    this.scale = \"m\";\n    this.selected = false;\n    this.selectionMode = \"none\";\n    this.calciteInternalSwatchKeyEvent = createEvent({ cancelable: false });\n    this.calciteInternalSwatchSelect = createEvent({ cancelable: false });\n    this.calciteInternalSyncSelectedSwatches = createEvent({ cancelable: false });\n    this.calciteSwatchSelect = createEvent({ cancelable: false });\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { hasImage: [16, {}, { state: true }], color: 1, disabled: [7, {}, { reflect: true, type: Boolean }], interactive: [5, {}, { type: Boolean }], label: 1, parentSwatchGroup: [0, {}, { attribute: false }], scale: [3, {}, { reflect: true }], selected: [7, {}, { reflect: true, type: Boolean }], selectionMode: 1, value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => {\n      return this.el;\n    }, options);\n  }\n  async load() {\n    this.handleColorChange(this.color);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selected\") && this.hasUpdated) {\n      this.watchSelected(this.selected);\n    }\n    if (changes.has(\"color\")) {\n      this.handleColorChange(this.color);\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  loaded() {\n    if (this.selectionMode !== \"none\" && this.interactive && this.selected) {\n      this.handleSelectionPropertyChange(this.selected);\n    }\n  }\n  watchSelected(selected) {\n    if (this.selectionMode === \"none\") {\n      return;\n    }\n    this.handleSelectionPropertyChange(selected);\n  }\n  keyDownHandler(event) {\n    if (event.target === this.el) {\n      switch (event.key) {\n        case \" \":\n        case \"Enter\":\n          this.handleEmittingEvent();\n          event.preventDefault();\n          break;\n        case \"ArrowRight\":\n        case \"ArrowLeft\":\n        case \"Home\":\n        case \"End\":\n          this.calciteInternalSwatchKeyEvent.emit(event);\n          event.preventDefault();\n          break;\n      }\n    }\n  }\n  handleSlotImageChange(event) {\n    this.hasImage = slotChangeHasAssignedElement(event);\n  }\n  handleEmittingEvent() {\n    if (this.interactive) {\n      this.calciteSwatchSelect.emit();\n    }\n  }\n  handleSelectionPropertyChange(selected) {\n    if (this.selectionMode === \"single\") {\n      this.calciteInternalSyncSelectedSwatches.emit();\n    }\n    const selectedInParent = this.parentSwatchGroup.selectedItems.includes(this.el);\n    if (!selectedInParent && selected && this.selectionMode !== \"multiple\") {\n      this.calciteInternalSwatchSelect.emit();\n    }\n    if (this.selectionMode !== \"single\") {\n      this.calciteInternalSyncSelectedSwatches.emit();\n    }\n  }\n  handleColorChange(color) {\n    this.internalColor = color ? Color(color) : null;\n  }\n  renderSwatchImage() {\n    return html`<div class=${safeClassMap(CSS.imageContainer)}><slot name=${SLOTS.image} @slotchange=${this.handleSlotImageChange}></slot></div>`;\n  }\n  renderEmptyDisplay() {\n    const scale = this.scale === \"s\" ? \"12\" : this.scale === \"m\" ? \"16\" : \"20\";\n    return html`<div class=${safeClassMap(CSS.internalSvgContainer)}><svg fill=none height=${scale} viewBox=${`0 0 ${scale} ${scale}`} width=${scale} xmlns=http://www.w3.org/2000/svg>${svg`<path class=${safeClassMap(CSS.internalSvgEmpty)} d=${`M${scale} 0L0 ${scale}`} />`}</svg></div>`;\n  }\n  renderDisabledDisplay() {\n    const svgSmMdPath = html`<svg fill=none height=14 viewBox=\"0 0 14 14\" width=14 xmlns=http://www.w3.org/2000/svg>${svg`<path class=${safeClassMap(CSS.internalSvgDisabled)} d=\"M7 0.5C10.5899 0.5 13.5 3.41015 13.5 7C13.5 10.5899 10.5899 13.5 7 13.5C3.41015 13.5 0.5 10.5899 0.5 7C0.5 3.41015 3.41015 0.5 7 0.5ZM4.78906 10.917C5.44221 11.2866 6.19529 11.5 7 11.5C9.48528 11.5 11.5 9.48528 11.5 7C11.5 6.19529 11.2866 5.44221 10.917 4.78906L4.78906 10.917ZM7 2.5C4.51472 2.5 2.5 4.51472 2.5 7C2.5 7.95644 2.79808 8.84235 3.30664 9.57129L9.57129 3.30664C8.84235 2.79808 7.95644 2.5 7 2.5Z\" />`}</svg>`;\n    const svgLgPath = html`<svg fill=none height=18 viewBox=\"0 0 18 18\" width=18 xmlns=http://www.w3.org/2000/svg>${svg`<path class=${safeClassMap(CSS.internalSvgDisabled)} d=\"M9 0.5C13.6944 0.5 17.5 4.30558 17.5 9C17.5 13.6944 13.6944 17.5 9 17.5C4.30558 17.5 0.5 13.6944 0.5 9C0.5 4.30558 4.30558 0.5 9 0.5ZM5.78125 14.2588C6.71828 14.8337 7.81941 15.167 9 15.167C12.4058 15.167 15.167 12.4058 15.167 9C15.167 7.81941 14.8337 6.71828 14.2588 5.78125L5.78125 14.2588ZM9 2.83301C5.59424 2.83301 2.83301 5.59424 2.83301 9C2.83301 10.3817 3.28731 11.6565 4.05469 12.6846L12.6846 4.05469C11.6565 3.28731 10.3817 2.83301 9 2.83301Z\" />`}</svg>`;\n    return html`<div class=${safeClassMap(CSS.internalSvgContainer)}>${this.scale === \"l\" ? svgLgPath : svgSmMdPath}</div>`;\n  }\n  renderSwatch() {\n    const { internalColor } = this;\n    const borderRadius = \"0\";\n    const isEmpty = !internalColor;\n    const commonSwatchProps = {\n      height: \"100%\",\n      rx: borderRadius,\n      width: \"100%\"\n    };\n    if (isEmpty) {\n      return svg`<clipPath id=${IDS.shape}><rect height=100% rx=${borderRadius} width=100% /></clipPath>${this.renderSwatchRect({\n        clipPath: `inset(0 round \"${borderRadius}\")`,\n        ...commonSwatchProps\n      })}<line clip-path=url(#shape) x1=100% x2=0 y1=0 y2=100% />`;\n    }\n    const alpha = internalColor.alpha();\n    const hex = hexify(internalColor);\n    const hexa = hexify(internalColor, alpha < 1);\n    return svg`<defs><pattern height=${CHECKER_DIMENSIONS.size} id=${IDS.checker} patternUnits=userSpaceOnUse width=${CHECKER_DIMENSIONS.size} x=0 y=0><rect class=${safeClassMap(CSS.checker)} height=${CHECKER_DIMENSIONS.squareSize} width=${CHECKER_DIMENSIONS.squareSize} x=0 y=0 /><rect class=${safeClassMap(CSS.checker)} height=${CHECKER_DIMENSIONS.squareSize} width=${CHECKER_DIMENSIONS.squareSize} x=${CHECKER_DIMENSIONS.squareSize} y=${CHECKER_DIMENSIONS.squareSize} /></pattern></defs>${this.renderSwatchRect({\n      fill: \"url(#checker)\",\n      rx: commonSwatchProps.rx,\n      height: commonSwatchProps.height,\n      width: commonSwatchProps.width\n    })}${this.renderSwatchRect({\n      clipPath: alpha < 1 ? \"polygon(100% 0, 0 0, 0 100%)\" : `inset(0 round \"${borderRadius}\")`,\n      fill: hex,\n      id: IDS.swatchSolid,\n      ...commonSwatchProps\n    })}${alpha < 1 ? this.renderSwatchRect({\n      clipPath: \"polygon(100% 0, 100% 100%, 0 100%)\",\n      fill: hexa,\n      id: IDS.swatchTransparent,\n      key: \"opacity-fill\",\n      ...commonSwatchProps\n    }) : null}`;\n  }\n  renderSwatchRect({ clipPath, fill, height, key, rx, stroke, strokeWidth, width, id }) {\n    return keyed(key, svg`<rect clip-path=${clipPath ?? nothing} fill=${fill ?? nothing} height=${height ?? nothing} id=${(id ? id : IDS.swatchRect) ?? nothing} rx=${rx ?? nothing} stroke=${stroke ?? nothing} stroke-width=${strokeWidth ?? nothing} width=${width ?? nothing} />`);\n  }\n  render() {\n    const { disabled } = this;\n    const disableInteraction = disabled || !disabled && !this.interactive;\n    const role = this.selectionMode === \"multiple\" && this.interactive ? \"checkbox\" : this.selectionMode !== \"none\" && this.interactive ? \"radio\" : this.interactive ? \"button\" : \"presentation\";\n    const isEmpty = !this.internalColor;\n    const classes = {\n      [CSS.swatch]: true,\n      [CSS.noColorSwatch]: isEmpty || this.hasImage && !this.internalColor\n    };\n    return InteractiveContainer({ disabled, children: html`<div .ariaChecked=${this.selectionMode !== \"none\" && this.interactive ? this.selected : void 0} .ariaLabel=${role !== \"presentation\" ? this.label : \"\"} class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.selectable]: this.selectionMode !== \"none\",\n      [CSS.selected]: this.selected,\n      [CSS.nonInteractive]: !this.interactive\n    })} @click=${this.handleEmittingEvent} .role=${role} .tabIndex=${disableInteraction ? -1 : 0} title=${this.label ?? nothing} ${ref(this.containerEl)}>${this.renderSwatchImage()}${!this.internalColor && !this.hasImage && this.renderEmptyDisplay() || \"\"}${this.disabled && this.renderDisabledDisplay() || \"\"}<svg class=${safeClassMap(classes)} role=presentation xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg></div>` });\n  }\n}\ncustomElement(\"calcite-swatch\", Swatch);\nexport {\n  Swatch\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport Color from \"color\";\nimport { css, html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { createRef, ref } from \"lit/directives/ref.js\";\nimport { n as normalizeHex, h as hexify, i as isValidHex, a as isLonghandHex, b as isShorthandHex, r as rgbToHex, o as opacityToAlpha, c as alphaToOpacity, O as OPACITY_LIMITS, d as hexChar } from \"../../chunks/utils.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nconst CSS = {\n  container: \"container\",\n  hexInput: \"hex-input\",\n  opacityInput: \"opacity-input\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}.hex-input{--calcite-input-text-background-color: var(--calcite-color-picker-input-background-color);--calcite-input-text-border-color: var(--calcite-color-picker-input-border-color);--calcite-input-text-text-color: var(--calcite-color-picker-input-text-color);--calcite-input-prefix-background-color: var(--calcite-color-picker-input-prefix-background-color);--calcite-input-prefix-text-color: var(--calcite-color-picker-input-prefix-text-color)}.opacity-input{--calcite-input-number-background-color: var(--calcite-color-picker-input-background-color);--calcite-input-number-border-color: var(--calcite-color-picker-input-border-color);--calcite-input-number-text-color: var(--calcite-color-picker-input-text-color);--calcite-input-suffix-background-color: var(--calcite-color-picker-input-suffix-background-color);--calcite-input-suffix-text-color: var(--calcite-color-picker-input-suffix-text-color)}:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`;\nconst DEFAULT_COLOR = Color();\nclass ColorPickerHexInput extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.hexInputRef = createRef();\n    this.opacityInputRef = createRef();\n    this.focusSetter = useSetFocus()(this);\n    this.internalColor = DEFAULT_COLOR;\n    this.alphaChannel = false;\n    this.allowEmpty = false;\n    this.hexLabel = \"Hex\";\n    this.scale = \"m\";\n    this.value = normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel), this.alphaChannel, true);\n    this.calciteColorPickerHexInputChange = createEvent({ cancelable: false });\n  }\n  static {\n    this.properties = { internalColor: [16, {}, { state: true }], alphaChannel: [5, {}, { type: Boolean }], allowEmpty: [5, {}, { type: Boolean }], hexLabel: 1, messages: [0, {}, { attribute: false }], numberingSystem: 1, scale: [3, {}, { reflect: true }], value: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => this.hexInputRef.value, options);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.previousNonNullValue = this.value;\n    const { allowEmpty, alphaChannel, value } = this;\n    if (value) {\n      const normalized = normalizeHex(value, alphaChannel);\n      if (isValidHex(normalized, alphaChannel)) {\n        this.internalSetValue(normalized, normalized, false);\n      }\n      return;\n    }\n    if (allowEmpty) {\n      this.internalSetValue(void 0, void 0, false);\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"value\") && (this.hasUpdated || this.value !== normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel), this.alphaChannel, true))) {\n      this.internalSetValue(this.value, changes.get(\"value\"), false);\n    }\n  }\n  onHexInputBlur() {\n    const node = this.hexInputRef.value;\n    const inputValue = node.value;\n    const hex = `#${inputValue}`;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    const isLonghand = isLonghandHex(hex);\n    const anyShorthand = isShorthandHex(hex, true) || isShorthandHex(hex, false);\n    if (anyShorthand) {\n      this.onHexInputChange();\n    }\n    if (willClearValue || isValidHex(hex) && isLonghand) {\n      return;\n    }\n    node.value = allowEmpty && !internalColor ? \"\" : this.formatHexForInternalInput(rgbToHex(\n      // always display hex input in RRGGBB format\n      internalColor.object()\n    ));\n  }\n  onOpacityInputBlur() {\n    const node = this.opacityInputRef.value;\n    const inputValue = node.value;\n    const { allowEmpty, internalColor } = this;\n    const willClearValue = allowEmpty && !inputValue;\n    if (willClearValue) {\n      return;\n    }\n    node.value = allowEmpty && !internalColor ? \"\" : this.formatOpacityForInternalInput(internalColor);\n  }\n  onOpacityInputInput() {\n    this.onOpacityInputChange();\n  }\n  onHexInputChange() {\n    const nodeValue = this.hexInputRef.value.value;\n    let value = nodeValue;\n    if (value) {\n      const normalized = normalizeHex(value, false);\n      const preserveExistingAlpha = isValidHex(normalized) && this.alphaChannel;\n      if (preserveExistingAlpha && this.internalColor) {\n        const alphaHex = normalizeHex(this.internalColor.hexa(), true).slice(-2);\n        value = `${normalized + alphaHex}`;\n      }\n    }\n    this.internalSetValue(value, this.value);\n  }\n  onOpacityInputChange() {\n    const node = this.opacityInputRef.value;\n    let value;\n    if (!node.value) {\n      value = node.value;\n    } else {\n      const alpha = opacityToAlpha(Number(node.value));\n      value = this.internalColor?.alpha(alpha).hexa();\n    }\n    this.internalSetValue(value, this.value);\n  }\n  onInputFocus(event) {\n    const focusTarget = event.type === \"calciteInternalInputTextFocus\" ? this.hexInputRef : this.opacityInputRef;\n    focusTarget.value.selectText();\n  }\n  onHexInputInput() {\n    const hexInputValue = `#${this.hexInputRef.value.value}`;\n    const oldValue = this.value;\n    if (isValidHex(hexInputValue, this.alphaChannel) && isLonghandHex(hexInputValue, this.alphaChannel)) {\n      this.internalSetValue(hexInputValue, oldValue);\n    }\n  }\n  onInputKeyDown(event) {\n    const { altKey, ctrlKey, metaKey, shiftKey } = event;\n    const { alphaChannel, hexInputRef, internalColor, value } = this;\n    const { key } = event;\n    const composedPath = event.composedPath();\n    if (key === \"Tab\" && isShorthandHex(value, this.alphaChannel) || key === \"Enter\") {\n      if (composedPath.includes(hexInputRef.value)) {\n        this.onHexInputChange();\n      } else {\n        this.onOpacityInputChange();\n      }\n      if (key === \"Enter\") {\n        event.preventDefault();\n      }\n      return;\n    }\n    const isNudgeKey = key === \"ArrowDown\" || key === \"ArrowUp\";\n    const oldValue = this.value;\n    if (isNudgeKey) {\n      if (!value) {\n        this.internalSetValue(this.previousNonNullValue, oldValue);\n        event.preventDefault();\n        return;\n      }\n      const direction = key === \"ArrowUp\" ? 1 : -1;\n      const bump = shiftKey ? 10 : 1;\n      this.internalSetValue(hexify(this.nudgeRGBChannels(internalColor, bump * direction, composedPath.includes(hexInputRef.value) ? \"rgb\" : \"a\"), alphaChannel), oldValue);\n      event.preventDefault();\n      return;\n    }\n    const withModifiers = altKey || ctrlKey || metaKey;\n    const singleChar = key.length === 1;\n    const validHexChar = hexChar.test(key);\n    if (singleChar && !withModifiers && !validHexChar) {\n      event.preventDefault();\n    }\n  }\n  onHexInputPaste(event) {\n    const hex = event.clipboardData.getData(\"text\");\n    if (isValidHex(hex, this.alphaChannel) && isLonghandHex(hex, this.alphaChannel)) {\n      event.preventDefault();\n      this.hexInputRef.value.value = hex.slice(1);\n      this.internalSetValue(hex, this.value);\n    }\n  }\n  internalSetValue(value, oldValue, emit = true) {\n    if (value) {\n      const { alphaChannel } = this;\n      const normalized = normalizeHex(value, alphaChannel, alphaChannel);\n      if (isValidHex(normalized, alphaChannel)) {\n        const { internalColor: currentColor } = this;\n        const nextColor = Color(normalized);\n        const normalizedLonghand = normalizeHex(hexify(nextColor, alphaChannel), alphaChannel);\n        const changed = !currentColor || normalizedLonghand !== normalizeHex(hexify(currentColor, alphaChannel), alphaChannel);\n        this.internalColor = nextColor;\n        this.previousNonNullValue = normalizedLonghand;\n        this.value = normalizedLonghand;\n        if (changed && emit) {\n          this.calciteColorPickerHexInputChange.emit();\n        }\n        return;\n      }\n    } else if (this.allowEmpty) {\n      this.internalColor = void 0;\n      this.value = void 0;\n      if (emit) {\n        this.calciteColorPickerHexInputChange.emit();\n      }\n      return;\n    }\n    this.value = oldValue;\n  }\n  formatHexForInternalInput(hex) {\n    return hex ? hex.replace(\"#\", \"\").slice(0, 6) : \"\";\n  }\n  formatOpacityForInternalInput(color) {\n    return color ? `${alphaToOpacity(color.alpha())}` : \"\";\n  }\n  nudgeRGBChannels(color, amount, context) {\n    let nudgedChannels;\n    const channels = color.array();\n    const rgbChannels = channels.slice(0, 3);\n    if (context === \"rgb\") {\n      const nudgedRGBChannels = rgbChannels.map((channel) => channel + amount);\n      nudgedChannels = [\n        ...nudgedRGBChannels,\n        this.alphaChannel ? channels[3] : void 0\n      ];\n    } else {\n      const nudgedAlpha = opacityToAlpha(alphaToOpacity(color.alpha()) + amount);\n      nudgedChannels = [...rgbChannels, nudgedAlpha];\n    }\n    return Color(nudgedChannels);\n  }\n  render() {\n    const { alphaChannel, hexLabel, internalColor, messages, scale, value } = this;\n    const hexInputValue = this.formatHexForInternalInput(value);\n    const opacityInputValue = this.formatOpacityForInternalInput(internalColor);\n    const inputScale = scale === \"l\" ? \"m\" : \"s\";\n    return html`<div class=${safeClassMap(CSS.container)}><calcite-input-text class=${safeClassMap(CSS.hexInput)} .label=${messages?.hex || hexLabel} .maxLength=${this.alphaChannel ? 8 : 6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${inputScale} .value=${hexInputValue} ${ref(this.hexInputRef)}></calcite-input-text>${alphaChannel ? keyed(\"opacity-input\", html`<calcite-input-number class=${safeClassMap(CSS.opacityInput)} .label=${messages?.opacity} .max=${OPACITY_LIMITS.max} max-length=3 .min=${OPACITY_LIMITS.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${inputScale} suffix-text=% .value=${opacityInputValue} ${ref(this.opacityInputRef)}></calcite-input-number>`) : null}</div>`;\n  }\n}\ncustomElement(\"calcite-color-picker-hex-input\", ColorPickerHexInput);\nexport {\n  ColorPickerHexInput\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html } from \"lit\";\nimport { LitElement, safeClassMap } from \"@arcgis/lumina\";\nimport { createRef, ref } from \"lit/directives/ref.js\";\nimport { s as slotChangeGetAssignedElements, e as getSlotAssignedElements } from \"../../chunks/dom.js\";\nconst CSS = {\n  section: \"section\"\n};\nconst SLOTS = {\n  titleGroup: \"title-group\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tabs extends LitElement {\n  constructor() {\n    super();\n    this.slotRef = createRef();\n    this.tabs = [];\n    this.titles = [];\n    this.bordered = false;\n    this.layout = \"inline\";\n    this.position = \"top\";\n    this.scale = \"m\";\n    this.listen(\"calciteInternalTabNavSlotChange\", this.calciteInternalTabNavSlotChangeHandler);\n  }\n  static {\n    this.properties = { tabs: [16, {}, { state: true }], titles: [16, {}, { state: true }], bordered: [5, {}, { type: Boolean }], layout: [3, {}, { reflect: true }], position: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateItems();\n  }\n  load() {\n    this.updateItems();\n  }\n  willUpdate(changes) {\n    if (changes.has(\"position\") && (this.hasUpdated || this.position !== \"top\") || changes.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) {\n      this.updateItems();\n    }\n    if ((changes.has(\"titles\") || changes.has(\"tabs\")) && this.hasUpdated && this.titles?.length > 0 && this.tabs?.length > 0) {\n      this.updateAriaSettings();\n      this.updateItems();\n    }\n  }\n  calciteInternalTabNavSlotChangeHandler(event) {\n    event.stopPropagation();\n    if (event.detail.length !== this.titles.length) {\n      this.titles = event.detail;\n    }\n  }\n  defaultSlotChangeHandler(event) {\n    this.tabs = slotChangeGetAssignedElements(event, \"calcite-tab\");\n  }\n  async updateAriaSettings() {\n    await this.componentOnReady();\n    if (!this.slotRef.value) {\n      return;\n    }\n    let tabIds;\n    let titleIds;\n    const tabs = getSlotAssignedElements(this.slotRef.value, \"calcite-tab\");\n    if (tabs.some((el) => el.tab) || this.titles.some((el) => el.tab)) {\n      tabIds = tabs.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n      titleIds = this.titles.sort((a, b) => a.tab.localeCompare(b.tab)).map((el) => el.id);\n    } else {\n      const tabDomIndexes = await Promise.all(tabs.map((el) => el.getTabIndex()));\n      const titleDomIndexes = await Promise.all(this.titles.map((el) => el.getTabIndex()));\n      tabIds = tabDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = tabs[registryIndex].id;\n        return ids;\n      }, []);\n      titleIds = titleDomIndexes.reduce((ids, indexInDOM, registryIndex) => {\n        ids[indexInDOM] = this.titles[registryIndex].id;\n        return ids;\n      }, []);\n    }\n    tabs.forEach((el) => el._updateAriaInfo(tabIds, titleIds));\n    this.titles.forEach((el) => el._updateAriaInfo(tabIds, titleIds));\n  }\n  updateItems() {\n    const { position, scale } = this;\n    const nav = this.el.querySelector(\"calcite-tab-nav\");\n    if (nav) {\n      nav.position = position;\n      nav.scale = scale;\n    }\n    Array.from(this.el.querySelectorAll(\"calcite-tab\")).forEach((tab) => {\n      if (tab.parentElement === this.el) {\n        tab.scale = scale;\n      }\n    });\n    Array.from(this.el.querySelectorAll(\"calcite-tab-nav > calcite-tab-title\")).forEach((title) => {\n      title.position = position;\n      title.scale = scale;\n    });\n  }\n  render() {\n    return html`<slot name=${SLOTS.titleGroup}></slot><section class=${safeClassMap(CSS.section)}><slot @slotchange=${this.defaultSlotChangeHandler} ${ref(this.slotRef)}></slot></section>`;\n  }\n}\ncustomElement(\"calcite-tabs\", Tabs);\nexport {\n  Tabs\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { C as CSS_UTILITY, c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit/directives/ref.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { c as calciteSize24, a as calciteSize32, b as calciteSize44 } from \"../../chunks/core.js\";\nimport { css, html } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { g as getElementDir, f as filterDirectChildren, d as focusElementInGroup } from \"../../chunks/dom.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nconst ICON = {\n  chevronRight: \"chevron-right\",\n  chevronLeft: \"chevron-left\"\n};\nconst CSS = {\n  container: \"container\",\n  containerHasEndTabTitleOverflow: \"container--end-overflow\",\n  containerHasStartTabTitleOverflow: \"container--start-overflow\",\n  scrollButton: \"scroll-button\",\n  scrollButtonContainer: \"scroll-button-container\",\n  scrollBackwardContainerButton: \"scroll-button-container--backward\",\n  scrollForwardContainerButton: \"scroll-button-container--forward\",\n  tabTitleSlotWrapper: \"tab-titles-slot-wrapper\",\n  scale: (scale) => `scale-${scale}`,\n  position: (position) => `position-${position}`\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}:host([bordered]):not([selected]) .container{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) calcite-button{--calcite-button-border-color: var(--calcite-tab-border-color, var(--calcite-color-border-1))}.scale-s{--calcite-internal-tab-nav-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.container--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--start-overflow.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%)}.container::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.container,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-button-text-color: var(--calcite-tab-text-color, var(--calcite-color-text-3));--calcite-button-background-color: var(--calcite-color-transparent);--calcite-offset-invert-focus: 1;block-size:var(--calcite-container-size-content-fluid)}.scroll-button-container calcite-button:hover .scroll-button-container calcite-button:focus{--calcite-button-background-color: var(--calcite-color-transparent-hover)}.scroll-button-container calcite-button:active{--calcite-button-background-color: var(--calcite-color-transparent-press)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));opacity:.5;content:\"\";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;\nclass TabNav extends LitElement {\n  constructor() {\n    super();\n    this.effectiveDir = \"ltr\";\n    this.lastScrollWheelAxis = \"x\";\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.updateScrollingState();\n    });\n    this.makeFirstVisibleTabClosable = false;\n    this.messages = useT9n();\n    this.hasOverflowingEndTabTitle = false;\n    this.hasOverflowingStartTabTitle = false;\n    this.bordered = false;\n    this.layout = \"inline\";\n    this.position = \"bottom\";\n    this.scale = \"m\";\n    this.selectedTitle = null;\n    this.calciteInternalTabChange = createEvent({ cancelable: false });\n    this.calciteInternalTabNavSlotChange = createEvent();\n    this.calciteTabChange = createEvent({ cancelable: false });\n    this.listen(\"calciteInternalTabsFocusPrevious\", this.focusPreviousTabHandler);\n    this.listen(\"calciteInternalTabsFocusNext\", this.focusNextTabHandler);\n    this.listen(\"calciteInternalTabsFocusFirst\", this.focusFirstTabHandler);\n    this.listen(\"calciteInternalTabsFocusLast\", this.focusLastTabHandler);\n    this.listen(\"calciteInternalTabsActivate\", this.internalActivateTabHandler);\n    this.listen(\"calciteInternalTabsClose\", this.internalCloseTabHandler);\n    this.listen(\"calciteInternalTabTitleRegister\", this.updateTabTitles);\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.globalInternalTabChangeHandler);\n  }\n  static {\n    this.properties = { hasOverflowingEndTabTitle: [16, {}, { state: true }], hasOverflowingStartTabTitle: [16, {}, { state: true }], selectedTabId: [16, {}, { state: true }], bordered: [7, {}, { reflect: true, type: Boolean }], layout: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], position: 1, scale: 1, selectedTitle: [0, {}, { attribute: false }], storageId: [3, {}, { reflect: true }], syncId: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n    this.resizeObserver?.observe(this.el);\n  }\n  async load() {\n    const storageKey = `calcite-tab-nav-${this.storageId}`;\n    if (localStorage && this.storageId && localStorage.getItem(storageKey)) {\n      const storedTab = JSON.parse(localStorage.getItem(storageKey));\n      this.selectedTabId = storedTab;\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selectedTitle\") && (this.hasUpdated || this.selectedTitle !== null)) {\n      this.calciteInternalTabChange.emit({\n        tab: this.selectedTabId\n      });\n    }\n    if (changes.has(\"selectedTabId\")) {\n      this.selectedTabIdChanged();\n    }\n    const { parentTabsEl } = this;\n    this.layout = parentTabsEl?.layout;\n    this.bordered = parentTabsEl?.bordered;\n    this.effectiveDir = getElementDir(this.el);\n  }\n  loaded() {\n    this.scrollTabTitleIntoView(this.selectedTitle, \"instant\");\n    if (this.tabTitles.length && this.tabTitles.every((title) => !title.selected) && !this.selectedTabId) {\n      this.tabTitles[0].getTabIdentifier().then((tab) => {\n        this.calciteInternalTabChange.emit({\n          tab\n        });\n      });\n    }\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.resizeObserver?.disconnect();\n  }\n  get enabledTabTitles() {\n    return filterDirectChildren(this.el, \"calcite-tab-title:not([disabled])\").filter((tabTitle) => !tabTitle.closed);\n  }\n  get scrollerButtonWidth() {\n    const { scale } = this;\n    return parseInt(scale === \"s\" ? calciteSize24 : scale === \"m\" ? calciteSize32 : calciteSize44);\n  }\n  get tabTitles() {\n    return filterDirectChildren(this.el, \"calcite-tab-title\");\n  }\n  focusPreviousTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"previous\");\n  }\n  focusNextTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"next\");\n  }\n  focusFirstTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"first\");\n  }\n  focusLastTabHandler(event) {\n    this.handleTabFocus(event, event.target, \"last\");\n  }\n  internalActivateTabHandler(event) {\n    const activatedTabTitle = event.target;\n    const currentSelectedTabTitle = this.selectedTitle;\n    this.selectedTabId = event.detail.tab ? event.detail.tab : this.getIndexOfTabTitle(activatedTabTitle);\n    event.stopPropagation();\n    this.selectedTitle = activatedTabTitle;\n    if (currentSelectedTabTitle?.id !== activatedTabTitle.id && event.detail.userTriggered) {\n      this.calciteTabChange.emit();\n    }\n    this.scrollTabTitleIntoView(activatedTabTitle);\n  }\n  scrollTabTitleIntoView(activatedTabTitle, behavior = \"smooth\") {\n    if (!activatedTabTitle) {\n      return;\n    }\n    requestAnimationFrame(() => {\n      const isLTR = this.effectiveDir === \"ltr\";\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitleBounds = activatedTabTitle.getBoundingClientRect();\n      const scrollPosition = tabTitleContainer.scrollLeft;\n      const overflowingStartTabTitle = isLTR ? this.hasOverflowingStartTabTitle : this.hasOverflowingEndTabTitle;\n      const overflowingEndTabTitle = isLTR ? this.hasOverflowingEndTabTitle : this.hasOverflowingStartTabTitle;\n      if (tabTitleBounds.left < containerBounds.left + (overflowingStartTabTitle ? this.scrollerButtonWidth : 0)) {\n        const left = scrollPosition + (tabTitleBounds.left - containerBounds.left) - this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      } else if (tabTitleBounds.right > containerBounds.right - (overflowingEndTabTitle ? this.scrollerButtonWidth : 0)) {\n        const left = scrollPosition + (tabTitleBounds.right - containerBounds.right) + this.scrollerButtonWidth;\n        tabTitleContainer.scrollTo({ left, behavior });\n      }\n    });\n  }\n  internalCloseTabHandler(event) {\n    const closedTabTitleEl = event.target;\n    this.handleTabTitleClose(closedTabTitleEl);\n    event.stopPropagation();\n  }\n  async updateTabTitles(event) {\n    if (event.target.selected) {\n      this.selectedTabId = event.detail;\n      this.selectedTitle = await this.getTabTitleById(this.selectedTabId);\n    }\n  }\n  globalInternalTabChangeHandler(event) {\n    if (this.syncId && event.target !== this.el && event.target.syncId === this.syncId && this.selectedTabId !== event.detail.tab) {\n      this.selectedTabId = event.detail.tab;\n    }\n    event.stopPropagation();\n  }\n  async selectedTabIdChanged() {\n    await this.componentOnReady();\n    if (localStorage && this.storageId && this.selectedTabId !== void 0 && this.selectedTabId !== null) {\n      localStorage.setItem(`calcite-tab-nav-${this.storageId}`, JSON.stringify(this.selectedTabId));\n    }\n    this.calciteInternalTabChange.emit({\n      tab: this.selectedTabId\n    });\n  }\n  onTabTitleWheel(event) {\n    event.preventDefault();\n    const { deltaX, deltaY } = event;\n    const x = Math.abs(deltaX);\n    const y = Math.abs(deltaY);\n    let scrollBy;\n    if (x === y) {\n      scrollBy = this.lastScrollWheelAxis === \"x\" ? deltaX : deltaY;\n    } else if (x > y) {\n      scrollBy = deltaX;\n      this.lastScrollWheelAxis = \"x\";\n    } else {\n      scrollBy = deltaY;\n      this.lastScrollWheelAxis = \"y\";\n    }\n    const scrollByX = (this.effectiveDir === \"rtl\" ? -1 : 1) * scrollBy;\n    event.currentTarget.scrollBy(scrollByX, 0);\n  }\n  onSlotChange() {\n    this.intersectionObserver?.disconnect();\n    const tabTitles = this.tabTitles;\n    tabTitles.forEach((child) => {\n      this.intersectionObserver?.observe(child);\n    });\n    const visibleTabTitlesIndices = this.getVisibleTabTitlesIndices(tabTitles);\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n    if (totalVisibleTabTitles > 1 && this.makeFirstVisibleTabClosable) {\n      tabTitles[visibleTabTitlesIndices[0]].closable = true;\n      this.makeFirstVisibleTabClosable = false;\n    }\n    this.calciteInternalTabNavSlotChange.emit(tabTitles);\n  }\n  storeTabTitleWrapperRef(el) {\n    if (!el) {\n      return;\n    }\n    this.tabTitleContainerEl = el;\n    this.intersectionObserver = createObserver(\"intersection\", () => this.updateScrollingState(), {\n      root: el,\n      threshold: [0, 0.5, 1]\n    });\n  }\n  updateScrollingState() {\n    const tabTitleContainer = this.tabTitleContainerEl;\n    if (!tabTitleContainer) {\n      return;\n    }\n    let isOverflowStart;\n    let isOverflowEnd;\n    const scrollPosition = tabTitleContainer.scrollLeft;\n    const visibleWidth = tabTitleContainer.clientWidth;\n    const totalContentWidth = tabTitleContainer.scrollWidth;\n    if (this.effectiveDir === \"ltr\") {\n      isOverflowStart = scrollPosition > 0;\n      isOverflowEnd = scrollPosition + visibleWidth < totalContentWidth;\n    } else {\n      isOverflowStart = scrollPosition < 0;\n      isOverflowEnd = scrollPosition !== -(totalContentWidth - visibleWidth);\n    }\n    this.hasOverflowingStartTabTitle = isOverflowStart;\n    this.hasOverflowingEndTabTitle = isOverflowEnd;\n  }\n  scrollToTabTitles(direction) {\n    requestAnimationFrame(() => {\n      const tabTitleContainer = this.tabTitleContainerEl;\n      const containerBounds = tabTitleContainer.getBoundingClientRect();\n      const tabTitles = Array.from(this.el.querySelectorAll(\"calcite-tab-title\"));\n      const { effectiveDir } = this;\n      if (direction === \"forward\") {\n        tabTitles.reverse();\n      }\n      let closestToEdge = null;\n      tabTitles.forEach((tabTitle) => {\n        const tabTitleBounds = tabTitle.getBoundingClientRect();\n        const containerEndX = containerBounds.x + containerBounds.width;\n        const tabTitleEndX = tabTitleBounds.x + tabTitleBounds.width;\n        if (direction === \"forward\" && effectiveDir === \"ltr\" || direction === \"backward\" && effectiveDir === \"rtl\") {\n          const afterContainerEnd = tabTitleBounds.x > containerEndX;\n          if (afterContainerEnd) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerEnd = tabTitleEndX > containerEndX && tabTitleBounds.x > containerBounds.x;\n            if (crossingContainerEnd) {\n              closestToEdge = tabTitle;\n            }\n          }\n        } else {\n          const beforeContainerStart = tabTitleEndX < containerBounds.x;\n          if (beforeContainerStart) {\n            closestToEdge = tabTitle;\n          } else {\n            const crossingContainerStart = tabTitleEndX < containerEndX && tabTitleBounds.x < containerBounds.x;\n            if (crossingContainerStart) {\n              closestToEdge = tabTitle;\n            }\n          }\n        }\n      });\n      if (closestToEdge) {\n        const { scrollerButtonWidth } = this;\n        const offsetAdjustment = direction === \"forward\" && effectiveDir === \"ltr\" || direction === \"backward\" && effectiveDir === \"rtl\" ? -scrollerButtonWidth : closestToEdge.offsetWidth - tabTitleContainer.clientWidth + scrollerButtonWidth;\n        const scrollTo = closestToEdge.offsetLeft + offsetAdjustment;\n        tabTitleContainer.scrollTo({\n          left: scrollTo,\n          behavior: \"smooth\"\n        });\n      }\n    });\n  }\n  scrollToNextTabTitles() {\n    this.scrollToTabTitles(\"forward\");\n  }\n  scrollToPreviousTabTitles() {\n    this.scrollToTabTitles(\"backward\");\n  }\n  handleTabFocus(event, el, destination) {\n    const focused = focusElementInGroup(this.enabledTabTitles, el, destination);\n    this.scrollTabTitleIntoView(focused, \"instant\");\n    event.stopPropagation();\n  }\n  getIndexOfTabTitle(el, tabTitles = this.tabTitles) {\n    return tabTitles.indexOf(el);\n  }\n  onTabTitleScroll() {\n    this.updateScrollingState();\n  }\n  async getTabTitleById(id) {\n    return Promise.all(this.tabTitles.map((el) => el.getTabIdentifier())).then((ids) => {\n      return this.tabTitles[ids.indexOf(id)];\n    });\n  }\n  getVisibleTabTitlesIndices(tabTitles) {\n    return tabTitles.reduce((tabTitleIndices, tabTitle, index) => !tabTitle.closed ? [...tabTitleIndices, index] : tabTitleIndices, []);\n  }\n  handleTabTitleClose(closedTabTitleEl) {\n    const { tabTitles } = this;\n    const selectionModified = closedTabTitleEl.selected;\n    const visibleTabTitlesIndices = this.getVisibleTabTitlesIndices(tabTitles);\n    const totalVisibleTabTitles = visibleTabTitlesIndices.length;\n    if (totalVisibleTabTitles === 1 && tabTitles[visibleTabTitlesIndices[0]].closable) {\n      this.makeFirstVisibleTabClosable = true;\n      tabTitles[visibleTabTitlesIndices[0]].closable = false;\n      this.selectedTabId = visibleTabTitlesIndices[0];\n      if (selectionModified) {\n        tabTitles[visibleTabTitlesIndices[0]].activateTab();\n      }\n    } else if (totalVisibleTabTitles > 1) {\n      const closedTabTitleIndex = tabTitles.findIndex((el) => el === closedTabTitleEl);\n      const nextTabTitleIndex = visibleTabTitlesIndices.find((value) => value > closedTabTitleIndex);\n      if (this.selectedTabId === closedTabTitleIndex) {\n        this.selectedTabId = nextTabTitleIndex ? nextTabTitleIndex : totalVisibleTabTitles - 1;\n        tabTitles[this.selectedTabId].activateTab();\n      }\n    }\n    requestAnimationFrame(() => {\n      tabTitles[this.selectedTabId].focus();\n    });\n  }\n  render() {\n    this.el.role = \"tablist\";\n    return html`<div class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.containerHasStartTabTitleOverflow]: !!this.hasOverflowingStartTabTitle,\n      [CSS.containerHasEndTabTitleOverflow]: !!this.hasOverflowingEndTabTitle,\n      [CSS.scale(this.scale)]: true,\n      [CSS.position(this.position)]: true,\n      [CSS_UTILITY.rtl]: this.effectiveDir === \"rtl\"\n    })}>${this.renderScrollButton(\"start\")}<div class=${safeClassMap({\n      [CSS.tabTitleSlotWrapper]: true\n    })} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${ref(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton(\"end\")}</div>`;\n  }\n  renderScrollButton(overflowDirection) {\n    const { bordered, messages, hasOverflowingStartTabTitle, hasOverflowingEndTabTitle, scale } = this;\n    const isEnd = overflowDirection === \"end\";\n    return keyed(overflowDirection, html`<div class=${safeClassMap({\n      [CSS.scrollButtonContainer]: true,\n      [CSS.scrollBackwardContainerButton]: !isEnd,\n      [CSS.scrollForwardContainerButton]: isEnd\n    })} .hidden=${isEnd && !hasOverflowingEndTabTitle || !isEnd && !hasOverflowingStartTabTitle}><calcite-button .appearance=${bordered ? \"outline-fill\" : \"transparent\"} .ariaLabel=${isEnd ? messages.nextTabTitles : messages.previousTabTitles} class=${safeClassMap({\n      [CSS.scrollButton]: true\n    })} icon-flip-rtl=both .iconStart=${isEnd ? ICON.chevronRight : ICON.chevronLeft} kind=neutral @click=${isEnd ? this.scrollToNextTabTitles : this.scrollToPreviousTabTitles} .scale=${scale} tabindex=-1></calcite-button></div>`);\n  }\n}\ncustomElement(\"calcite-tab-nav\", TabNav);\nexport {\n  TabNav\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { d as focusElementInGroup, s as slotChangeGetAssignedElements } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nconst CSS = {\n  container: \"container\"\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.container{display:flex;flex-wrap:wrap;gap:var(--calcite-swatch-group-space, var(--calcite-spacing-sm))}:host([scale=s]) .container{gap:var(--calcite-swatch-group-space, var(--calcite-spacing-xs))}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;\nclass SwatchGroup extends LitElement {\n  constructor() {\n    super();\n    this.items = [];\n    this.slotRefEl = createRef();\n    this.focusSetter = useSetFocus()(this);\n    this.disabled = false;\n    this.scale = \"m\";\n    this.selectedItems = [];\n    this.selectionMode = \"none\";\n    this.calciteSwatchGroupSelect = createEvent({ cancelable: false });\n    this.listen(\"calciteInternalSwatchKeyEvent\", this.calciteInternalSwatchKeyEventListener);\n    this.listen(\"calciteSwatchSelect\", this.calciteSwatchSelectListener);\n    this.listen(\"calciteInternalSwatchSelect\", this.calciteInternalSwatchSelectListener);\n    this.listen(\"calciteInternalSyncSelectedSwatches\", this.calciteInternalSyncSelectedSwatches);\n  }\n  static {\n    this.properties = { disabled: [7, {}, { reflect: true, type: Boolean }], label: 1, scale: [3, {}, { reflect: true }], selectedItems: [0, {}, { attribute: false }], selectionMode: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => {\n      return this.el;\n    }, options);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selectionMode\") && (this.hasUpdated || this.selectionMode !== \"none\")) {\n      this.updateItems();\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  calciteInternalSwatchKeyEventListener(event) {\n    if (event.composedPath().includes(this.el)) {\n      const interactiveItems = this.items?.filter((el) => !el.disabled);\n      switch (event.detail.key) {\n        case \"ArrowRight\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"next\");\n          break;\n        case \"ArrowLeft\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"previous\");\n          break;\n        case \"Home\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"first\");\n          break;\n        case \"End\":\n          focusElementInGroup(interactiveItems, event.detail.target, \"last\");\n          break;\n      }\n    }\n    event.stopPropagation();\n  }\n  calciteSwatchSelectListener(event) {\n    if (event.composedPath().includes(this.el)) {\n      this.setSelectedItems(true, event.target);\n    }\n    event.stopPropagation();\n  }\n  calciteInternalSwatchSelectListener(event) {\n    if (event.composedPath().includes(this.el)) {\n      this.setSelectedItems(false, event.target);\n    }\n    event.stopPropagation();\n  }\n  calciteInternalSyncSelectedSwatches(event) {\n    if (event.composedPath().includes(this.el)) {\n      this.updateSelectedItems();\n      if (this.selectionMode === \"single\" && this.selectedItems.length > 1) {\n        this.setSelectedItems(false, event.target);\n      }\n    }\n    event.stopPropagation();\n  }\n  updateItems(event) {\n    const itemsFromSlot = this.slotRefEl.value?.assignedElements({ flatten: true }).filter((el) => el?.matches(\"calcite-swatch\"));\n    this.items = !event ? itemsFromSlot : slotChangeGetAssignedElements(event);\n    if (this.items?.length < 1) {\n      return;\n    }\n    this.items?.forEach((el) => {\n      el.interactive = true;\n      el.scale = this.scale;\n      el.selectionMode = this.selectionMode;\n      el.parentSwatchGroup = this.el;\n    });\n    this.setSelectedItems(false);\n  }\n  updateSelectedItems() {\n    this.selectedItems = this.items?.filter((el) => el.selected);\n  }\n  setSelectedItems(emit, elToMatch) {\n    if (elToMatch) {\n      this.items?.forEach((el) => {\n        const matchingEl = elToMatch === el;\n        switch (this.selectionMode) {\n          case \"multiple\":\n            if (matchingEl) {\n              el.selected = !el.selected;\n            }\n            break;\n          case \"single\":\n            el.selected = matchingEl ? !el.selected : false;\n            break;\n          case \"single-persist\":\n            el.selected = !!matchingEl;\n            break;\n        }\n      });\n    }\n    this.updateSelectedItems();\n    if (emit) {\n      this.calciteSwatchGroupSelect.emit();\n    }\n  }\n  render() {\n    const role = this.selectionMode === \"none\" || this.selectionMode === \"multiple\" ? \"group\" : \"radiogroup\";\n    const { disabled } = this;\n    return InteractiveContainer({ disabled, children: html`<div .ariaLabel=${this.label} class=${safeClassMap(CSS.container)} .role=${role}><slot @slotchange=${this.updateItems} ${ref(this.slotRefEl)}></slot></div>` });\n  }\n}\ncustomElement(\"calcite-swatch-group\", SwatchGroup);\nexport {\n  SwatchGroup\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport { css, isServer, html } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, safeClassMap, setAttribute } from \"@arcgis/lumina\";\nimport { n as nodeListToArray, g as getElementDir, t as toAriaBoolean } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { c as createObserver, u as updateRefObserver } from \"../../chunks/observers.js\";\nimport { g as getIconScale } from \"../../chunks/component.js\";\nimport { X as XButton } from \"../../chunks/XButton.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nconst CSS = {\n  container: \"container\",\n  containerBottom: \"container--bottom\",\n  content: \"content\",\n  contentHasText: \"content--has-text\",\n  iconEnd: \"icon-end\",\n  iconPresent: \"icon-present\",\n  iconStart: \"icon-start\",\n  titleIcon: \"calcite-tab-title--icon\",\n  scale: (scale) => `scale-${scale}`,\n  selectedIndicator: \"selected-indicator\"\n};\nconst idPrefix = \"calcite-tab-title\";\nconst IDS = {\n  host: (id) => `${idPrefix}-${id}`\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .x-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .x-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .x-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-background-color, transparent)}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;content:\"\"}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([selected]:focus) .selected-indicator{block-size:4px}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text .icon-start,.content--has-text .calcite-tab-title--icon.icon-start{color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-start .icon-end,.content--has-text .calcite-tab-title--icon.icon-end{color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.x-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs));color:var(--calcite-tab-close-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}.x-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus)}.x-button:focus,.x-button:hover,.x-button:active{color:var(--calcite-tab-close-icon-color-press, var(--calcite-color-text-1));background-color:var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container{border-color:transparent;border-inline-width:var(--calcite-spacing-px);border-inline-style:solid}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container .x-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .x-button:focus,:host([bordered]) .container .x-button:hover,:host([bordered]) .container .x-button:active{box-shadow:0 2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom{border-block-start-style:solid;border-block-start-width:1px}:host([bordered]) .container.container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([bordered]) .container.container--bottom .x-button{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}:host([bordered]) .container.container--bottom .x-button:focus,:host([bordered]) .container.container--bottom .x-button:hover,:host([bordered]) .container.container--bottom .x-button:active{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom .x-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container:not(.container--bottom){border-block-end-style:solid;border-block-end-width:1px}:host([bordered]) .container:not(.container--bottom) .x-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:host(:not([selected])) .container .x-button{box-shadow:0 2px 0 0 transparent}:host([bordered]) .container:host(:not([selected])):host(:hover) .container:not(.container--bottom){border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .selected-indicator{box-shadow:inset 0 var(--calcite-internal-tab-shadow-length) var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) :not(.container--bottom){--calcite-internal-tab-shadow-length: 1px}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .container--bottom{--calcite-internal-tab-shadow-length: -1px}:host([bordered]) .container:hover{background-color:var(--calcite-tab-background-color-hover, var(--calcite-color-foreground-2));border-block-end-color:var(--calcite-color-border-1)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator,:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-tab-accent-color-press, var(--calcite-color-brand))}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-1))}:host([selected][bordered]) .container{border-inline-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([selected][bordered]) .container:after{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host(:focus) .container{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.x-button{z-index:var(--calcite-z-index)}.selected-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;\nclass TabTitle extends LitElement {\n  constructor() {\n    super();\n    this.closeButtonRef = createRef();\n    this.guid = IDS.host(guid());\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateHasText());\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.calciteInternalTabIconChanged.emit();\n    });\n    this.messages = useT9n();\n    this.hasText = false;\n    this.bordered = false;\n    this.closable = false;\n    this.closed = false;\n    this.disabled = false;\n    this.position = \"top\";\n    this.scale = \"m\";\n    this.selected = false;\n    this.calciteInternalTabIconChanged = createEvent({ cancelable: false });\n    this.calciteInternalTabTitleRegister = createEvent({ cancelable: false });\n    this.calciteInternalTabsActivate = createEvent({ cancelable: false });\n    this.calciteInternalTabsClose = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusFirst = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusLast = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusNext = createEvent({ cancelable: false });\n    this.calciteInternalTabsFocusPrevious = createEvent({ cancelable: false });\n    this.calciteTabsActivate = createEvent({ cancelable: false });\n    this.calciteTabsClose = createEvent({ cancelable: false });\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.internalTabChangeHandler);\n    this.listen(\"click\", this.onClick);\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { controls: [16, {}, { state: true }], hasText: [16, {}, { state: true }], bordered: [7, {}, { reflect: true, type: Boolean }], closable: [7, {}, { reflect: true, type: Boolean }], closed: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], iconEnd: [3, {}, { reflect: true }], iconFlipRtl: [3, {}, { reflect: true }], iconStart: [3, {}, { reflect: true }], layout: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], position: 1, scale: 1, selected: [7, {}, { reflect: true, type: Boolean }], tab: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async activateTab(userTriggered = true) {\n    if (this.disabled || this.closed) {\n      return;\n    }\n    const payload = { tab: this.tab, userTriggered };\n    this.calciteInternalTabsActivate.emit(payload);\n    if (userTriggered) {\n      requestAnimationFrame(() => this.calciteTabsActivate.emit());\n    }\n  }\n  async getTabIdentifier() {\n    return this.tab ? this.tab : this.getTabIndex();\n  }\n  async getTabIndex() {\n    return Array.prototype.indexOf.call(nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab-title\")), this.el);\n  }\n  _updateAriaInfo(tabIds = [], titleIds = []) {\n    this.controls = tabIds[titleIds.indexOf(this.el.id)] || null;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.setupTextContentObserver();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n  async load() {\n    if (!isServer) {\n      this.updateHasText();\n    }\n    if (this.tab && this.selected) {\n      this.activateTab(false);\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"selected\") && (this.hasUpdated || this.selected !== false)) {\n      this.selectedHandler();\n    }\n    if (this.parentTabsEl) {\n      this.layout = this.parentTabsEl.layout;\n      this.bordered = this.parentTabsEl.bordered;\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  async loaded() {\n    this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier());\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.mutationObserver?.disconnect();\n    document.body?.dispatchEvent(new CustomEvent(\"calciteTabTitleUnregister\", {\n      detail: this.el\n    }));\n    this.resizeObserver?.disconnect();\n  }\n  selectedHandler() {\n    if (this.selected) {\n      this.activateTab(false);\n    }\n  }\n  internalTabChangeHandler(event) {\n    const targetTabsEl = event.composedPath().find((el) => el.tagName === \"CALCITE-TABS\");\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n  onClick() {\n    this.activateTab();\n  }\n  keyDownHandler(event) {\n    switch (event.key) {\n      case \" \":\n      case \"Enter\":\n        if (!event.composedPath().includes(this.closeButtonRef.value)) {\n          this.activateTab();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowRight\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusNext.emit();\n        } else {\n          this.calciteInternalTabsFocusPrevious.emit();\n        }\n        break;\n      case \"ArrowLeft\":\n        event.preventDefault();\n        if (getElementDir(this.el) === \"ltr\") {\n          this.calciteInternalTabsFocusPrevious.emit();\n        } else {\n          this.calciteInternalTabsFocusNext.emit();\n        }\n        break;\n      case \"Home\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusFirst.emit();\n        break;\n      case \"End\":\n        event.preventDefault();\n        this.calciteInternalTabsFocusLast.emit();\n        break;\n    }\n  }\n  closeClickHandler() {\n    this.closeTabTitleAndNotify();\n  }\n  updateHasText() {\n    this.hasText = this.el.textContent.trim().length > 0;\n  }\n  setContainerRef(el) {\n    updateRefObserver(this.resizeObserver, this.containerEl, el);\n    this.containerEl = el;\n  }\n  setupTextContentObserver() {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n  }\n  closeTabTitleAndNotify() {\n    this.closed = true;\n    this.calciteInternalTabsClose.emit({ tab: this.tab });\n    this.calciteTabsClose.emit();\n  }\n  render() {\n    const { el, closed } = this;\n    const id = el.id || this.guid;\n    const iconStartEl = html`<calcite-icon class=${safeClassMap({ [CSS.titleIcon]: true, [CSS.iconStart]: true })} .flipRtl=${this.iconFlipRtl === \"start\" || this.iconFlipRtl === \"both\"} .icon=${this.iconStart} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    const iconEndEl = html`<calcite-icon class=${safeClassMap({ [CSS.titleIcon]: true, [CSS.iconEnd]: true })} .flipRtl=${this.iconFlipRtl === \"end\" || this.iconFlipRtl === \"both\"} .icon=${this.iconEnd} .scale=${getIconScale(this.scale)}></calcite-icon>`;\n    setAttribute(this.el, \"aria-controls\", this.controls);\n    this.el.ariaSelected = toAriaBoolean(this.selected);\n    setAttribute(this.el, \"id\", id);\n    this.el.role = \"tab\";\n    setAttribute(this.el, \"tabIndex\", this.selected && !this.disabled ? 0 : -1);\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap({\n      [CSS.container]: true,\n      [CSS.containerBottom]: this.position === \"bottom\",\n      [CSS.iconPresent]: !!this.iconStart || !!this.iconEnd,\n      [CSS.scale(this.scale)]: true\n    })} .hidden=${closed} ${ref(this.setContainerRef)}><div class=${safeClassMap({ [CSS.content]: true, [CSS.contentHasText]: this.hasText })}>${this.iconStart ? iconStartEl : null}<slot></slot>${this.iconEnd ? iconEndEl : null}</div>${this.renderCloseButton()}<div class=${safeClassMap(CSS.selectedIndicator)}></div></div>` });\n  }\n  renderCloseButton() {\n    const { closable, messages } = this;\n    return closable ? keyed(\"close-button\", XButton({ disabled: false, focusable: true, label: messages.close, onClick: this.closeClickHandler, ref: this.closeButtonRef, round: false, scale: this.scale, title: messages.close })) : null;\n  }\n}\ncustomElement(\"calcite-tab-title\", TabTitle);\nexport {\n  TabTitle\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { css, html } from \"lit\";\nimport { LitElement, setAttribute, safeClassMap } from \"@arcgis/lumina\";\nimport { n as nodeListToArray } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nconst CSS = {\n  container: \"container\",\n  content: \"content\",\n  scale: (scale) => `scale-${scale}`\n};\nconst IDS = {\n  tabTitleId: (id) => `calcite-tab-title-${id}`\n};\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tab extends LitElement {\n  constructor() {\n    super();\n    this.guid = IDS.tabTitleId(guid());\n    this.scale = \"m\";\n    this.selected = false;\n    this.listenOn(document.body, \"calciteInternalTabChange\", this.internalTabChangeHandler);\n  }\n  static {\n    this.properties = { labeledBy: [16, {}, { state: true }], scale: 1, selected: [7, {}, { reflect: true, type: Boolean }], tab: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  async getTabIndex() {\n    return Array.prototype.indexOf.call(nodeListToArray(this.el.parentElement.children).filter((el) => el.matches(\"calcite-tab\")), this.el);\n  }\n  _updateAriaInfo(tabIds = [], titleIds = []) {\n    this.labeledBy = titleIds[tabIds.indexOf(this.el.id)] || null;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.parentTabsEl = this.el.closest(\"calcite-tabs\");\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.body?.dispatchEvent(new CustomEvent(\"calciteTabUnregister\", {\n      detail: this.el\n    }));\n  }\n  internalTabChangeHandler(event) {\n    const targetTabsEl = event.composedPath().find((el) => el.tagName === \"CALCITE-TABS\");\n    if (targetTabsEl !== this.parentTabsEl) {\n      return;\n    }\n    if (this.tab) {\n      this.selected = this.tab === event.detail.tab;\n    } else {\n      this.getTabIndex().then((index) => {\n        this.selected = index === event.detail.tab;\n      });\n    }\n    event.stopPropagation();\n  }\n  render() {\n    const id = this.el.id || this.guid;\n    setAttribute(this.el, \"aria-labelledby\", this.labeledBy);\n    setAttribute(this.el, \"id\", id);\n    return html`<div class=${safeClassMap({ [CSS.container]: true, [CSS.scale(this.scale)]: true })} role=tabpanel .tabIndex=${this.selected ? 0 : -1}><section class=${safeClassMap(CSS.content)}><slot></slot></section></div>`;\n  }\n}\ncustomElement(\"calcite-tab\", Tab);\nexport {\n  Tab\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.3.3 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { repeat } from \"lit/directives/repeat.js\";\nimport { keyed } from \"lit/directives/keyed.js\";\nimport Color from \"color\";\nimport { throttle } from \"es-toolkit\";\nimport { css, html, nothing } from \"lit\";\nimport { LitElement, createEvent, safeClassMap, safeStyleMap } from \"@arcgis/lumina\";\nimport { createRef, ref } from \"lit/directives/ref.js\";\nimport { i as isPrimaryPointerButton, g as getElementDir } from \"../../chunks/dom.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { i as isActivationKey } from \"../../chunks/key.js\";\nimport { c as clamp, r as remap, a as closeToRangeEdge } from \"../../chunks/math.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { u as useCancelable } from \"../../chunks/useCancelable.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { u as useSetFocus } from \"../../chunks/useSetFocus.js\";\nimport { D as DEFAULT_COLOR, C as CSSColorMode, g as getSliderWidth, e as getColorFieldDimensions, S as STATIC_DIMENSIONS, n as normalizeHex, h as hexify, p as parseMode, f as DEFAULT_STORAGE_KEY_PREFIX, j as alphaCompatible, k as colorEqual, l as normalizeColor, O as OPACITY_LIMITS, R as RGB_LIMITS, H as HSV_LIMITS, m as CSS, o as opacityToAlpha, t as toAlphaMode, q as toNonAlphaMode, s as HUE_LIMIT_CONSTRAINED, u as normalizeAlpha, c as alphaToOpacity, v as SCOPE_SIZE, I as ICONS } from \"../../chunks/utils.js\";\nconst styles = css`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}calcite-input-number{--calcite-input-number-background-color: var(--calcite-color-picker-input-background-color);--calcite-input-number-border-color: var(--calcite-color-picker-input-border-color);--calcite-input-number-text-color: var(--calcite-color-picker-input-text-color);--calcite-input-prefix-background-color: var(--calcite-color-picker-input-prefix-background-color);--calcite-input-prefix-text-color: var(--calcite-color-picker-input-prefix-text-color);--calcite-input-suffix-background-color: var(--calcite-color-picker-input-suffix-background-color);--calcite-input-suffix-text-color: var(--calcite-color-picker-input-suffix-text-color)}calcite-button{--calcite-button-text-color: var(--calcite-color-picker-action-text-color);--calcite-button-text-color-press: var(--calcite-color-picker-action-text-color-press)}calcite-button:hover,calcite-button:focus{--calcite-button-text-color: var(--calcite-color-picker-action-text-color-hover)}calcite-button:active{--calcite-button-text-color: var(--calcite-color-picker-action-text-color-press)}calcite-tabs{--calcite-tab-border-color: var(--calcite-color-picker-tab-border-color);--calcite-tab-accent-color-press: var(--calcite-color-picker-tab-accent-color);--calcite-swatch-corner-radius: var(--calcite-color-picker-swatch-corner-radius);--calcite-tab-text-color: var(--calcite-color-picker-tab-text-color)}calcite-tab-title:hover{--calcite-color-text-1: var(--calcite-color-picker-tab-text-color-hover)}calcite-swatch{--calcite-swatch-corner-radius: var(--calcite-color-picker-swatch-corner-radius)}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: var(--calcite-spacing-sm)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: var(--calcite-spacing-lg);font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-picker-border-color, var(--calcite-color-border-1));background-color:var(--calcite-color-picker-background-color, var(--calcite-color-foreground-1));border-radius:var(--calcite-color-picker-corner-radius, var(--calcite-corner-radius-none));box-shadow:var(--calcite-color-picker-shadow, var(--calcite-shadow-none))}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none;border-radius:var(--calcite-color-picker-corner-radius, var(--calcite-corner-radius-none)) var(--calcite-color-picker-corner-radius, var(--calcite-corner-radius-none)) var(--calcite-corner-radius-none) var(--calcite-corner-radius-none)}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-picker-text-color, var(--calcite-color-text-1))}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index=\"3\"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index=\"3\"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index=\"3\"]{min-inline-size:88px}.saved-colors-buttons{display:flex}.swatch-group{margin-block-start:var(--calcite-color-picker-spacing)}:host([hidden]){display:none}[hidden]{display:none}`;\nconst throttleFor60FpsInMs = 16;\nclass ColorPicker extends LitElement {\n  constructor() {\n    super();\n    this._color = DEFAULT_COLOR;\n    this.colorFieldScopeRef = createRef();\n    this.hueScopeRef = createRef();\n    this.internalColorUpdateContext = null;\n    this.isActiveChannelInputEmpty = false;\n    this.mode = CSSColorMode.HEX;\n    this.opacityScopeRef = createRef();\n    this.resizeObserver = createObserver(\"resize\", (entries) => this.resizeCanvas(entries));\n    this.shiftKeyChannelAdjustment = 0;\n    this.upOrDownArrowKeyTracker = null;\n    this._valueWasSet = false;\n    this.messages = useT9n({ blocking: true });\n    this.captureColorFieldColor = (x, y, skipEqual = true) => {\n      const { width, height } = this.dynamicDimensions.colorField;\n      const saturation = Math.round(HSV_LIMITS.s / width * x);\n      const value = Math.round(HSV_LIMITS.v / height * (height - y));\n      this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(saturation).value(value), skipEqual);\n    };\n    this.cancelable = useCancelable()(this);\n    this.drawColorControls = throttle((type = \"all\") => {\n      if ((type === \"all\" || type === \"color-field\") && this.colorFieldRenderingContext) {\n        this.drawColorField();\n      }\n      if ((type === \"all\" || type === \"hue-slider\") && this.hueSliderRenderingContext) {\n        this.drawHueSlider();\n      }\n      if (this.alphaChannel && (type === \"all\" || type === \"opacity-slider\") && this.opacitySliderRenderingContext) {\n        this.drawOpacitySlider();\n      }\n    }, throttleFor60FpsInMs);\n    this.globalPointerMoveHandler = (event) => {\n      const { activeCanvasInfo, el } = this;\n      if (!el.isConnected || !activeCanvasInfo) {\n        return;\n      }\n      const { context, bounds } = activeCanvasInfo;\n      let samplingX;\n      let samplingY;\n      const { clientX, clientY } = event;\n      if (context.canvas.matches(\":hover\")) {\n        samplingX = clientX - bounds.x;\n        samplingY = clientY - bounds.y;\n      } else {\n        if (clientX < bounds.x + bounds.width && clientX > bounds.x) {\n          samplingX = clientX - bounds.x;\n        } else if (clientX < bounds.x) {\n          samplingX = 0;\n        } else {\n          samplingX = bounds.width;\n        }\n        if (clientY < bounds.y + bounds.height && clientY > bounds.y) {\n          samplingY = clientY - bounds.y;\n        } else if (clientY < bounds.y) {\n          samplingY = 0;\n        } else {\n          samplingY = bounds.height;\n        }\n      }\n      if (context === this.colorFieldRenderingContext) {\n        this.captureColorFieldColor(samplingX, samplingY, false);\n      } else if (context === this.hueSliderRenderingContext) {\n        this.captureHueSliderColor(samplingX);\n      } else if (context === this.opacitySliderRenderingContext) {\n        this.captureOpacitySliderValue(samplingX);\n      }\n    };\n    this.globalPointerUpHandler = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      const previouslyDragging = this.activeCanvasInfo;\n      this.activeCanvasInfo = null;\n      this.drawColorControls();\n      if (previouslyDragging) {\n        this.calciteColorPickerChange.emit();\n      }\n    };\n    this.resizeCanvas = throttle((entries) => {\n      if (!this.hasUpdated) {\n        return;\n      }\n      const [first] = entries;\n      const availableWidth = Math.floor(first.contentBoxSize[0].inlineSize);\n      if (this.dynamicDimensions.colorField.width === availableWidth) {\n        return;\n      }\n      this.updateDynamicDimensions(availableWidth);\n      this.updateCanvasSize();\n      this.drawColorControls();\n    }, throttleFor60FpsInMs);\n    this.updateDynamicDimensions = (width) => {\n      const sliderDims = {\n        width: getSliderWidth(width, this.staticDimensions, this.alphaChannel),\n        height: this.staticDimensions.slider.height\n      };\n      this.dynamicDimensions = {\n        colorField: getColorFieldDimensions(width),\n        slider: sliderDims\n      };\n    };\n    this.focusSetter = useSetFocus()(this);\n    this.channelMode = \"rgb\";\n    this.channels = this.toChannels(DEFAULT_COLOR);\n    this.staticDimensions = STATIC_DIMENSIONS.m;\n    this.savedColors = [];\n    this.allowEmpty = false;\n    this.alphaChannel = false;\n    this.channelsDisabled = false;\n    this.clearable = false;\n    this.disabled = false;\n    this.fieldDisabled = false;\n    this.format = \"auto\";\n    this.hexDisabled = false;\n    this.savedDisabled = false;\n    this.scale = \"m\";\n    this.calciteColorPickerChange = createEvent({ cancelable: false });\n    this.calciteColorPickerInput = createEvent({ cancelable: false });\n    this.listen(\"keydown\", this.handleChannelKeyUpOrDown, { capture: true });\n    this.listen(\"keyup\", this.handleChannelKeyUpOrDown, { capture: true });\n  }\n  static {\n    this.properties = { channelMode: [16, {}, { state: true }], channels: [16, {}, { state: true }], colorFieldScopeLeft: [16, {}, { state: true }], colorFieldScopeTop: [16, {}, { state: true }], staticDimensions: [16, {}, { state: true }], hueScopeLeft: [16, {}, { state: true }], opacityScopeLeft: [16, {}, { state: true }], savedColors: [16, {}, { state: true }], scopeOrientation: [16, {}, { state: true }], allowEmpty: [7, {}, { reflect: true, type: Boolean }], alphaChannel: [5, {}, { type: Boolean }], channelsDisabled: [5, {}, { type: Boolean }], clearable: [7, {}, { reflect: true, type: Boolean }], color: [0, {}, { attribute: false }], disabled: [7, {}, { reflect: true, type: Boolean }], fieldDisabled: [7, {}, { reflect: true, type: Boolean }], format: [3, {}, { reflect: true }], hexDisabled: [5, {}, { type: Boolean }], messageOverrides: [0, {}, { attribute: false }], numberingSystem: [3, {}, { reflect: true }], savedDisabled: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], storageId: [3, {}, { reflect: true }], value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  get color() {\n    return this._color;\n  }\n  set color(color) {\n    const oldColor = this._color;\n    this._color = color;\n    this.handleColorChange(color, oldColor);\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    const oldValue = this._value;\n    this._value = value;\n    this.handleValueChange(value, oldValue);\n    this._valueWasSet = true;\n  }\n  async setFocus(options) {\n    return this.focusSetter(() => this.el, options);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.observeResize();\n    this.cancelable.add([this.drawColorControls, this.resizeCanvas]);\n  }\n  async load() {\n    if (!this._valueWasSet) {\n      this._value ??= normalizeHex(hexify(DEFAULT_COLOR, this.alphaChannel));\n    }\n    this.handleAllowEmptyOrClearableChange();\n    const { isClearable, color, format, value } = this;\n    const willSetNoColor = isClearable && !value;\n    const parsedMode = parseMode(value);\n    const valueIsCompatible = willSetNoColor || format === \"auto\" && parsedMode || format === parsedMode;\n    const initialColor = willSetNoColor ? null : valueIsCompatible ? this.colorFromValue(value, isClearable, parsedMode) : color;\n    if (!valueIsCompatible) {\n      this.showIncompatibleColorWarning(value, format);\n    }\n    this.setMode(format, false);\n    this.internalColorSet(initialColor, false, \"initial\");\n    this.updateStaticDimensions(this.scale);\n    this.updateDynamicDimensions(STATIC_DIMENSIONS[this.scale].minWidth);\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId && localStorage.getItem(storageKey)) {\n      this.savedColors = JSON.parse(localStorage.getItem(storageKey));\n    }\n  }\n  willUpdate(changes) {\n    if (changes.has(\"allowEmpty\") && (this.hasUpdated || this.allowEmpty !== false) || changes.has(\"clearable\") && (this.hasUpdated || this.clearable !== false)) {\n      this.handleAllowEmptyOrClearableChange();\n    }\n    if (changes.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== false)) {\n      this.handleAlphaChannelChange(this.alphaChannel);\n    }\n    if (this.hasUpdated && (changes.has(\"alphaChannel\") && this.alphaChannel !== false || changes.has(\"staticDimensions\") && this.staticDimensions !== STATIC_DIMENSIONS.m)) {\n      this.handleAlphaChannelDimensionsChange();\n    }\n    if (changes.has(\"alphaChannel\") && (this.hasUpdated || this.alphaChannel !== false) || changes.has(\"format\") && (this.hasUpdated || this.format !== \"auto\")) {\n      this.handleFormatOrAlphaChannelChange();\n    }\n    if (changes.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) {\n      this.handleScaleChange(this.scale);\n    }\n  }\n  updated() {\n    updateHostInteraction(this);\n  }\n  loaded() {\n    this.handleAlphaChannelDimensionsChange();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.removeEventListener(\"pointerup\", this.globalPointerUpHandler);\n    this.resizeObserver?.disconnect();\n  }\n  get baseColorFieldColor() {\n    return this.color || this.previousColor || DEFAULT_COLOR;\n  }\n  get effectiveSliderWidth() {\n    return this.dynamicDimensions.slider.width;\n  }\n  observeResize() {\n    this.resizeObserver?.observe(this.el);\n  }\n  handleAllowEmptyOrClearableChange() {\n    this.isClearable = this.clearable || this.allowEmpty;\n  }\n  handleAlphaChannelChange(alphaChannel) {\n    const { format } = this;\n    if (alphaChannel && format !== \"auto\" && !alphaCompatible(format)) {\n      console.warn(`ignoring alphaChannel as the current format (${format}) does not support alpha`);\n      this.alphaChannel = false;\n    }\n  }\n  handleAlphaChannelDimensionsChange() {\n    this.drawColorControls();\n  }\n  handleColorChange(color, oldColor) {\n    this.drawColorControls();\n    this.updateChannelsFromColor(color);\n    this.previousColor = oldColor;\n  }\n  handleFormatOrAlphaChannelChange() {\n    this.setMode(this.format);\n    this.internalColorSet(this.color, false, \"internal\");\n  }\n  handleScaleChange(scale = \"m\") {\n    this.updateStaticDimensions(scale);\n    this.updateCanvasSize();\n    this.drawColorControls();\n  }\n  handleValueChange(value, oldValue) {\n    const { isClearable, format } = this;\n    const checkMode = !isClearable || value;\n    let modeChanged = false;\n    if (checkMode) {\n      const nextMode = parseMode(value);\n      if (!nextMode || format !== \"auto\" && nextMode !== format) {\n        this.showIncompatibleColorWarning(value, format);\n        this._value = oldValue;\n        return;\n      }\n      modeChanged = this.mode !== nextMode;\n      this.setMode(nextMode, this.internalColorUpdateContext === null);\n    }\n    const dragging = this.activeCanvasInfo;\n    if (this.internalColorUpdateContext === \"initial\") {\n      return;\n    }\n    if (this.internalColorUpdateContext === \"user-interaction\") {\n      this.calciteColorPickerInput.emit();\n      if (!dragging) {\n        this.calciteColorPickerChange.emit();\n      }\n      return;\n    }\n    const color = this.colorFromValue(value, isClearable, this.mode);\n    const colorChanged = !colorEqual(color, this.color);\n    if (modeChanged || colorChanged) {\n      this.internalColorSet(color, this.alphaChannel && !(this.mode.endsWith(\"a\") || this.mode.endsWith(\"a-css\")) || this.internalColorUpdateContext === \"internal\", \"internal\");\n    }\n  }\n  colorFromValue(value, clearable = false, mode) {\n    if (clearable && !value) {\n      return null;\n    }\n    return Color(value != null && typeof value === \"object\" && alphaCompatible(mode) ? normalizeColor(value) : value);\n  }\n  handleTabActivate(event) {\n    this.channelMode = event.currentTarget.getAttribute(\"data-color-mode\");\n    this.updateChannelsFromColor(this.color);\n  }\n  handleColorFieldScopeKeyDown(event) {\n    const { key } = event;\n    const arrowKeyToXYOffset = {\n      ArrowUp: { x: 0, y: -10 },\n      ArrowRight: { x: 10, y: 0 },\n      ArrowDown: { x: 0, y: 10 },\n      ArrowLeft: { x: -10, y: 0 }\n    };\n    if (arrowKeyToXYOffset[key]) {\n      event.preventDefault();\n      this.scopeOrientation = key === \"ArrowDown\" || key === \"ArrowUp\" ? \"vertical\" : \"horizontal\";\n      this.captureColorFieldColor(this.colorFieldScopeLeft + arrowKeyToXYOffset[key].x || 0, this.colorFieldScopeTop + arrowKeyToXYOffset[key].y || 0, false);\n    }\n  }\n  handleHueScopeKeyDown(event) {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 1,\n      ArrowRight: 1,\n      ArrowDown: -1,\n      ArrowLeft: -1\n    };\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const hue = this.baseColorFieldColor.hue();\n      const color = this.baseColorFieldColor.hue(hue + delta);\n      this.internalColorSet(color, false);\n    }\n  }\n  handleHexInputChange(event) {\n    event.stopPropagation();\n    const { isClearable, color } = this;\n    const input = event.target;\n    const hex = input.value;\n    if (isClearable && !hex) {\n      this.internalColorSet(null);\n      return;\n    }\n    const normalizedHex = color && normalizeHex(hexify(color, alphaCompatible(this.mode)));\n    if (hex !== normalizedHex) {\n      this.internalColorSet(Color(hex));\n    }\n  }\n  handleSavedColorSelect(event) {\n    const swatch = event.currentTarget;\n    this.internalColorSet(Color(swatch.color));\n  }\n  handleChannelInput(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const isAlphaChannel = channelIndex === 3;\n    const limit = isAlphaChannel ? OPACITY_LIMITS.max : this.channelMode === \"rgb\" ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]] : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n    let inputValue;\n    if (!input.value) {\n      inputValue = \"\";\n      this.isActiveChannelInputEmpty = true;\n      this.upOrDownArrowKeyTracker = null;\n    } else {\n      const value = Number(input.value);\n      const adjustedValue = value + this.shiftKeyChannelAdjustment;\n      const clamped = clamp(adjustedValue, 0, limit);\n      inputValue = clamped.toString();\n    }\n    input.value = inputValue;\n    if (inputValue !== \"\" && this.shiftKeyChannelAdjustment !== 0) {\n      this.handleChannelChange(event);\n    } else if (inputValue !== \"\") {\n      this.handleChannelChange(event);\n    }\n  }\n  handleChannelBlur(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels];\n    const restoreValueDueToEmptyInput = !input.value && !this.isClearable;\n    if (restoreValueDueToEmptyInput) {\n      input.value = channels[channelIndex]?.toString();\n    }\n  }\n  handleChannelFocus(event) {\n    const input = event.currentTarget;\n    input.selectText();\n  }\n  handleChannelKeyUpOrDown(event) {\n    this.shiftKeyChannelAdjustment = 0;\n    const { key } = event;\n    if (key !== \"ArrowUp\" && key !== \"ArrowDown\" || !event.composedPath().some((node) => node.classList?.contains(CSS.channel))) {\n      return;\n    }\n    const { shiftKey } = event;\n    event.preventDefault();\n    if (!this.color) {\n      this.internalColorSet(this.previousColor);\n      event.stopPropagation();\n      return;\n    }\n    const complementaryBump = 9;\n    this.shiftKeyChannelAdjustment = key === \"ArrowUp\" && shiftKey ? complementaryBump : key === \"ArrowDown\" && shiftKey ? -complementaryBump : 0;\n    if (key === \"ArrowUp\") {\n      this.upOrDownArrowKeyTracker = \"up\";\n    }\n    if (key === \"ArrowDown\") {\n      this.upOrDownArrowKeyTracker = \"down\";\n    }\n  }\n  getChannelInputLimit(channelIndex) {\n    return this.channelMode === \"rgb\" ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]] : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n  }\n  handleChannelChange(event) {\n    const input = event.currentTarget;\n    const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n    const channels = [...this.channels];\n    const shouldClearChannels = this.isClearable && !input.value;\n    if (shouldClearChannels) {\n      this.channels = [null, null, null, null];\n      this.internalColorSet(null);\n      return;\n    }\n    const isAlphaChannel = channelIndex === 3;\n    if (this.isActiveChannelInputEmpty && this.upOrDownArrowKeyTracker) {\n      input.value = this.upOrDownArrowKeyTracker === \"up\" ? (channels[channelIndex] + 1 <= this.getChannelInputLimit(channelIndex) ? channels[channelIndex] + 1 : this.getChannelInputLimit(channelIndex)).toString() : (channels[channelIndex] - 1 >= 0 ? channels[channelIndex] - 1 : 0).toString();\n      this.isActiveChannelInputEmpty = false;\n      this.upOrDownArrowKeyTracker = null;\n    }\n    const value = input.value ? Number(input.value) : channels[channelIndex];\n    channels[channelIndex] = isAlphaChannel ? opacityToAlpha(value) : value;\n    this.updateColorFromChannels(channels);\n  }\n  handleSavedColorKeyDown(event) {\n    if (isActivationKey(event.key)) {\n      event.preventDefault();\n      this.handleSavedColorSelect(event);\n    }\n  }\n  handleColorFieldPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.colorFieldRenderingContext, this.captureColorFieldColor, this.colorFieldScopeRef.value);\n  }\n  focusScope(focusEl) {\n    requestAnimationFrame(() => {\n      focusEl.focus();\n    });\n  }\n  handleHueSliderPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.hueSliderRenderingContext, this.captureHueSliderColor, this.hueScopeRef.value);\n  }\n  handleOpacitySliderPointerDown(event) {\n    this.handleCanvasControlPointerDown(event, this.opacitySliderRenderingContext, this.captureOpacitySliderValue, this.opacityScopeRef.value);\n  }\n  handleCanvasControlPointerDown(event, renderingContext, captureValue, scopeNode) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    window.addEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    window.addEventListener(\"pointerup\", this.globalPointerUpHandler, {\n      once: true\n    });\n    this.activeCanvasInfo = {\n      context: renderingContext,\n      bounds: renderingContext.canvas.getBoundingClientRect()\n    };\n    captureValue.call(this, event.offsetX, event.offsetY);\n    this.focusScope(scopeNode);\n  }\n  handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n    }\n  }\n  showIncompatibleColorWarning(value, format) {\n    console.warn(`ignoring color value (${value}) as it is not compatible with the current format (${format})`);\n  }\n  setMode(format, warn = true) {\n    const mode = format === \"auto\" ? this.mode : format;\n    this.mode = this.ensureCompatibleMode(mode, warn);\n  }\n  ensureCompatibleMode(mode, warn) {\n    const { alphaChannel } = this;\n    const isAlphaCompatible = alphaCompatible(mode);\n    if (alphaChannel && !isAlphaCompatible) {\n      const alphaMode = toAlphaMode(mode);\n      if (warn) {\n        console.warn(`setting format to (${alphaMode}) as the provided one (${mode}) does not support alpha`);\n      }\n      return alphaMode;\n    }\n    if (!alphaChannel && isAlphaCompatible) {\n      const nonAlphaMode = toNonAlphaMode(mode);\n      if (warn) {\n        console.warn(`setting format to (${nonAlphaMode}) as the provided one (${mode}) does not support alpha`);\n      }\n      return nonAlphaMode;\n    }\n    return mode;\n  }\n  captureHueSliderColor(x) {\n    const hue = HUE_LIMIT_CONSTRAINED / this.effectiveSliderWidth * x;\n    this.internalColorSet(this.baseColorFieldColor.hue(hue), false);\n  }\n  captureOpacitySliderValue(x) {\n    const alpha = opacityToAlpha(OPACITY_LIMITS.max / this.effectiveSliderWidth * x);\n    this.internalColorSet(this.baseColorFieldColor.alpha(alpha), false);\n  }\n  internalColorSet(color, skipEqual = true, context = \"user-interaction\") {\n    if (skipEqual && colorEqual(color, this.color)) {\n      return;\n    }\n    this.internalColorUpdateContext = context;\n    this.color = color;\n    this.value = this.toValue(color);\n    this.internalColorUpdateContext = null;\n  }\n  toValue(color, format = this.mode) {\n    if (!color) {\n      return null;\n    }\n    const hexMode = \"hex\";\n    if (format.includes(hexMode)) {\n      const hasAlpha = format === CSSColorMode.HEXA;\n      return normalizeHex(hexify(color.round(), hasAlpha), hasAlpha);\n    }\n    if (format.includes(\"-css\")) {\n      const value = color[format.replace(\"-css\", \"\").replace(\"a\", \"\")]().round().string();\n      const needToInjectAlpha = (format.endsWith(\"a\") || format.endsWith(\"a-css\")) && color.alpha() === 1;\n      if (needToInjectAlpha) {\n        const model = value.slice(0, 3);\n        const values = value.slice(4, -1);\n        return `${model}a(${values}, ${color.alpha()})`;\n      }\n      return value;\n    }\n    const colorObject = (\n      /* Color() does not support hsva, hsla nor rgba, so we use the non-alpha mode */\n      color[toNonAlphaMode(format)]().round().object()\n    );\n    if (format.endsWith(\"a\")) {\n      return normalizeAlpha(colorObject);\n    }\n    return colorObject;\n  }\n  getSliderCapSpacing() {\n    const { staticDimensions: { slider: { height }, thumb: { radius } } } = this;\n    return radius * 2 - height;\n  }\n  updateStaticDimensions(scale = \"m\") {\n    this.staticDimensions = STATIC_DIMENSIONS[scale];\n  }\n  deleteColor() {\n    const colorToDelete = hexify(this.color, this.alphaChannel);\n    const inStorage = this.savedColors.indexOf(colorToDelete) > -1;\n    if (!inStorage) {\n      return;\n    }\n    const savedColors = this.savedColors.filter((color) => color !== colorToDelete);\n    this.savedColors = savedColors;\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  }\n  saveColor() {\n    const colorToSave = hexify(this.color, this.alphaChannel);\n    const alreadySaved = this.savedColors.indexOf(colorToSave) > -1;\n    if (alreadySaved) {\n      return;\n    }\n    const savedColors = [...this.savedColors, colorToSave];\n    this.savedColors = savedColors;\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId) {\n      localStorage.setItem(storageKey, JSON.stringify(savedColors));\n    }\n  }\n  drawColorField() {\n    const context = this.colorFieldRenderingContext;\n    const { width, height } = this.dynamicDimensions.colorField;\n    context.fillStyle = this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string();\n    context.fillRect(0, 0, width, height);\n    const whiteGradient = context.createLinearGradient(0, 0, width, 0);\n    whiteGradient.addColorStop(0, \"rgba(255,255,255,1)\");\n    whiteGradient.addColorStop(1, \"rgba(255,255,255,0)\");\n    context.fillStyle = whiteGradient;\n    context.fillRect(0, 0, width, height);\n    const blackGradient = context.createLinearGradient(0, 0, 0, height);\n    blackGradient.addColorStop(0, \"rgba(0,0,0,0)\");\n    blackGradient.addColorStop(1, \"rgba(0,0,0,1)\");\n    context.fillStyle = blackGradient;\n    context.fillRect(0, 0, width, height);\n    this.drawActiveColorFieldColor();\n  }\n  setCanvasContextSize(canvas, { height, width }) {\n    if (!canvas) {\n      return;\n    }\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    canvas.width = width * devicePixelRatio;\n    canvas.height = height * devicePixelRatio;\n    canvas.style.height = `${height}px`;\n    canvas.style.width = `${width}px`;\n    const context = canvas.getContext(\"2d\");\n    context.scale(devicePixelRatio, devicePixelRatio);\n  }\n  initColorField(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.colorFieldRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"color-field\");\n    this.drawColorControls();\n  }\n  initHueSlider(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.hueSliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"hue-slider\");\n    this.drawHueSlider();\n  }\n  initOpacitySlider(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.opacitySliderRenderingContext = canvas.getContext(\"2d\");\n    this.updateCanvasSize(\"opacity-slider\");\n    this.drawOpacitySlider();\n  }\n  updateCanvasSize(context = \"all\") {\n    const { dynamicDimensions, staticDimensions } = this;\n    if (context === \"all\" || context === \"color-field\") {\n      this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas, dynamicDimensions.colorField);\n    }\n    const adjustedSliderDimensions = {\n      width: this.effectiveSliderWidth,\n      height: staticDimensions.slider.height + (staticDimensions.thumb.radius - dynamicDimensions.slider.height / 2) * 2\n    };\n    if (context === \"all\" || context === \"hue-slider\") {\n      this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n    if (context === \"all\" || context === \"opacity-slider\") {\n      this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas, adjustedSliderDimensions);\n    }\n  }\n  drawActiveColorFieldColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv();\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const { width, height } = this.dynamicDimensions.colorField;\n    const x = hsvColor.saturationv() / (HSV_LIMITS.s / width);\n    const y = height - hsvColor.value() / (HSV_LIMITS.v / height);\n    requestAnimationFrame(() => {\n      this.colorFieldScopeLeft = x;\n      this.colorFieldScopeTop = y;\n    });\n    this.drawThumb(this.colorFieldRenderingContext, radius, x, y, hsvColor, false);\n  }\n  drawThumb(context, radius, x, y, color, applyAlpha) {\n    const startAngle = 0;\n    const endAngle = 2 * Math.PI;\n    const outlineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, startAngle, endAngle);\n    context.fillStyle = \"#fff\";\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = outlineWidth;\n    context.stroke();\n    if (applyAlpha && color.alpha() < 1) {\n      const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n      context.beginPath();\n      context.arc(x, y, radius - 3, startAngle, endAngle);\n      context.fillStyle = pattern;\n      context.fill();\n    }\n    context.globalCompositeOperation = \"source-atop\";\n    context.beginPath();\n    context.arc(x, y, radius - 3, startAngle, endAngle);\n    const alpha = applyAlpha ? color.alpha() : 1;\n    context.fillStyle = color.rgb().alpha(alpha).string();\n    context.fill();\n    context.globalCompositeOperation = \"source-over\";\n  }\n  drawActiveHueSliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv().saturationv(100).value(100);\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const width = this.effectiveSliderWidth;\n    const x = hsvColor.hue() / (HUE_LIMIT_CONSTRAINED / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n    requestAnimationFrame(() => {\n      this.hueScopeLeft = sliderBoundX;\n    });\n    this.drawThumb(this.hueSliderRenderingContext, radius, sliderBoundX, y, hsvColor, false);\n  }\n  drawHueSlider() {\n    const context = this.hueSliderRenderingContext;\n    const { staticDimensions: { slider: { height }, thumb: { radius: thumbRadius } } } = this;\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n    const gradient = context.createLinearGradient(0, 0, width, 0);\n    const hueSliderColorStopKeywords = [\n      \"red\",\n      \"yellow\",\n      \"lime\",\n      \"cyan\",\n      \"blue\",\n      \"magenta\",\n      \"#ff0004\"\n    ];\n    const offset = 1 / (hueSliderColorStopKeywords.length - 1);\n    let currentOffset = 0;\n    hueSliderColorStopKeywords.forEach((keyword) => {\n      gradient.addColorStop(currentOffset, Color(keyword).string());\n      currentOffset += offset;\n    });\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n    this.drawSliderPath(context, height, width, x, y);\n    context.fillStyle = gradient;\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n    this.drawActiveHueSliderColor();\n  }\n  drawOpacitySlider() {\n    const context = this.opacitySliderRenderingContext;\n    const { baseColorFieldColor: previousColor, staticDimensions: { slider: { height }, thumb: { radius: thumbRadius } } } = this;\n    const x = 0;\n    const y = thumbRadius - height / 2;\n    const width = this.effectiveSliderWidth;\n    context.clearRect(0, 0, width, height + this.getSliderCapSpacing() * 2);\n    const gradient = context.createLinearGradient(0, y, width, 0);\n    const startColor = previousColor.rgb().alpha(0);\n    const midColor = previousColor.rgb().alpha(0.5);\n    const endColor = previousColor.rgb().alpha(1);\n    gradient.addColorStop(0, startColor.string());\n    gradient.addColorStop(0.5, midColor.string());\n    gradient.addColorStop(1, endColor.string());\n    this.drawSliderPath(context, height, width, x, y);\n    const pattern = context.createPattern(this.getCheckeredBackgroundPattern(), \"repeat\");\n    context.fillStyle = pattern;\n    context.fill();\n    context.fillStyle = gradient;\n    context.fill();\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\n    context.lineWidth = 1;\n    context.stroke();\n    this.drawActiveOpacitySliderColor();\n  }\n  drawSliderPath(context, height, width, x, y) {\n    const radius = height / 2 + 1;\n    context.beginPath();\n    context.moveTo(x + radius, y);\n    context.lineTo(x + width - radius, y);\n    context.quadraticCurveTo(x + width, y, x + width, y + radius);\n    context.lineTo(x + width, y + height - radius);\n    context.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    context.lineTo(x + radius, y + height);\n    context.quadraticCurveTo(x, y + height, x, y + height - radius);\n    context.lineTo(x, y + radius);\n    context.quadraticCurveTo(x, y, x + radius, y);\n    context.closePath();\n  }\n  getCheckeredBackgroundPattern() {\n    if (this.checkerPattern) {\n      return this.checkerPattern;\n    }\n    const pattern = document.createElement(\"canvas\");\n    pattern.width = 10;\n    pattern.height = 10;\n    const patternContext = pattern.getContext(\"2d\");\n    patternContext.fillStyle = \"#ccc\";\n    patternContext.fillRect(0, 0, 10, 10);\n    patternContext.fillStyle = \"#fff\";\n    patternContext.fillRect(0, 0, 5, 5);\n    patternContext.fillRect(5, 5, 5, 5);\n    this.checkerPattern = pattern;\n    return pattern;\n  }\n  drawActiveOpacitySliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color;\n    const { staticDimensions: { thumb: { radius } } } = this;\n    const width = this.effectiveSliderWidth;\n    const x = alphaToOpacity(hsvColor.alpha()) / (OPACITY_LIMITS.max / width);\n    const y = radius;\n    const sliderBoundX = this.getSliderBoundX(x, width, radius);\n    requestAnimationFrame(() => {\n      this.opacityScopeLeft = sliderBoundX;\n    });\n    this.drawThumb(this.opacitySliderRenderingContext, radius, sliderBoundX, y, hsvColor, true);\n  }\n  getSliderBoundX(x, width, radius) {\n    const closeToEdge = closeToRangeEdge(x, width, radius);\n    return closeToEdge === 0 ? x : closeToEdge === -1 ? remap(x, 0, width, radius, radius * 2) : remap(x, 0, width, width - radius * 2, width - radius);\n  }\n  handleOpacityScopeKeyDown(event) {\n    const modifier = event.shiftKey ? 10 : 1;\n    const { key } = event;\n    const arrowKeyToXOffset = {\n      ArrowUp: 0.01,\n      ArrowRight: 0.01,\n      ArrowDown: -0.01,\n      ArrowLeft: -0.01\n    };\n    if (arrowKeyToXOffset[key]) {\n      event.preventDefault();\n      const delta = arrowKeyToXOffset[key] * modifier;\n      const alpha = this.baseColorFieldColor.alpha();\n      const color = this.baseColorFieldColor.alpha(alpha + delta);\n      this.internalColorSet(color, false);\n    }\n  }\n  updateColorFromChannels(channels) {\n    this.internalColorSet(Color(channels, this.channelMode));\n  }\n  updateChannelsFromColor(color) {\n    this.channels = color ? this.toChannels(color) : [null, null, null, null];\n  }\n  toChannels(color) {\n    const { channelMode } = this;\n    const channels = color[channelMode]().round().array();\n    if (channels.length === 3) {\n      channels.push(1);\n    }\n    return channels;\n  }\n  getAdjustedScopePosition(left, top) {\n    return [left - SCOPE_SIZE / 2, top - SCOPE_SIZE / 2];\n  }\n  render() {\n    const { channelsDisabled, color, colorFieldScopeLeft, colorFieldScopeTop, staticDimensions: { thumb: { radius: thumbRadius } }, fieldDisabled, hexDisabled, hueScopeLeft, messages, alphaChannel, opacityScopeLeft, savedColors, savedDisabled, scale, scopeOrientation } = this;\n    const sliderWidth = this.effectiveSliderWidth;\n    const selectedColorInHex = color ? hexify(color, alphaChannel) : null;\n    const hueTop = thumbRadius;\n    const hueLeft = hueScopeLeft ?? sliderWidth * DEFAULT_COLOR.hue() / HSV_LIMITS.h;\n    const opacityTop = thumbRadius;\n    const opacityLeft = opacityScopeLeft ?? sliderWidth * alphaToOpacity(DEFAULT_COLOR.alpha()) / OPACITY_LIMITS.max;\n    const noColor = color === void 0;\n    const vertical = scopeOrientation === \"vertical\";\n    const [adjustedColorFieldScopeLeft, adjustedColorFieldScopeTop] = this.getAdjustedScopePosition(colorFieldScopeLeft, colorFieldScopeTop);\n    const [adjustedHueScopeLeft, adjustedHueScopeTop] = this.getAdjustedScopePosition(hueLeft, hueTop);\n    const [adjustedOpacityScopeLeft, adjustedOpacityScopeTop] = this.getAdjustedScopePosition(opacityLeft, opacityTop);\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div class=${safeClassMap(CSS.container)}>${fieldDisabled ? null : html`<div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap(CSS.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${ref(this.initColorField)}></canvas><div .ariaLabel=${vertical ? messages.value : messages.saturation} .ariaValueMax=${vertical ? HSV_LIMITS.v : HSV_LIMITS.s} aria-valuemin=0 .ariaValueNow=${(vertical ? color?.saturationv() : color?.value()) || \"0\"} class=${safeClassMap({ [CSS.scope]: true, [CSS.colorFieldScope]: true })} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedColorFieldScopeTop || 0}px`,\n      left: `${adjustedColorFieldScopeLeft || 0}px`\n    })} tabindex=0 ${ref(this.colorFieldScopeRef)}></div></div>`}<div class=${safeClassMap(CSS.previewAndSliders)}><calcite-swatch class=${safeClassMap(CSS.preview)} .color=${selectedColorInHex} .label=${selectedColorInHex} .scale=${this.alphaChannel ? \"l\" : this.scale}></calcite-swatch><div class=${safeClassMap(CSS.sliders)}><div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap({ [CSS.slider]: true, [CSS.hueSlider]: true })} @pointerdown=${this.handleHueSliderPointerDown} ${ref(this.initHueSlider)}></canvas><div .ariaLabel=${messages.hue} .ariaValueMax=${HSV_LIMITS.h} aria-valuemin=0 .ariaValueNow=${color?.round().hue() || DEFAULT_COLOR.round().hue()} class=${safeClassMap({ [CSS.scope]: true, [CSS.hueScope]: true })} @keydown=${this.handleHueScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedHueScopeTop}px`,\n      left: `${adjustedHueScopeLeft}px`\n    })} tabindex=0 ${ref(this.hueScopeRef)}></div></div>${alphaChannel ? html`<div class=${safeClassMap(CSS.controlAndScope)}><canvas class=${safeClassMap({ [CSS.slider]: true, [CSS.opacitySlider]: true })} @pointerdown=${this.handleOpacitySliderPointerDown} ${ref(this.initOpacitySlider)}></canvas><div .ariaLabel=${messages.opacity} .ariaValueMax=${OPACITY_LIMITS.max} .ariaValueMin=${OPACITY_LIMITS.min} .ariaValueNow=${(color || DEFAULT_COLOR).round().alpha()} class=${safeClassMap({ [CSS.scope]: true, [CSS.opacityScope]: true })} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${safeStyleMap({\n      top: `${adjustedOpacityScopeTop}px`,\n      left: `${adjustedOpacityScopeLeft}px`\n    })} tabindex=0 ${ref(this.opacityScopeRef)}></div></div>` : null}</div></div>${hexDisabled && channelsDisabled ? null : html`<div class=${safeClassMap({\n      [CSS.controlSection]: true,\n      [CSS.section]: true\n    })}><div class=${safeClassMap(CSS.hexAndChannelsGroup)}>${hexDisabled ? null : html`<div class=${safeClassMap(CSS.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${alphaChannel} class=${safeClassMap(CSS.control)} .messages=${messages} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${scale} .value=${selectedColorInHex}></calcite-color-picker-hex-input></div>`}${channelsDisabled ? null : html`<calcite-tabs class=${safeClassMap({\n      [CSS.colorModeContainer]: true,\n      [CSS.splitSection]: true\n    })} .scale=${scale === \"l\" ? \"m\" : \"s\"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle(\"rgb\")}${this.renderChannelsTabTitle(\"hsv\")}</calcite-tab-nav>${this.renderChannelsTab(\"rgb\")}${this.renderChannelsTab(\"hsv\")}</calcite-tabs>`}</div></div>`}${savedDisabled ? null : html`<div class=${safeClassMap({ [CSS.savedColorsSection]: true, [CSS.section]: true })}><div class=${safeClassMap(CSS.header)}><label>${messages.saved}</label><div class=${safeClassMap(CSS.savedColorsButtons)}><calcite-button appearance=transparent class=${safeClassMap(CSS.deleteColor)} .disabled=${noColor} .iconStart=${ICONS.minus} kind=neutral .label=${messages.deleteColor} @click=${this.deleteColor} .scale=${scale} type=button></calcite-button><calcite-button appearance=transparent class=${safeClassMap(CSS.saveColor)} .disabled=${noColor} .iconStart=${ICONS.plus} kind=neutral .label=${messages.saveColor} @click=${this.saveColor} .scale=${scale} type=button></calcite-button></div></div>${savedColors.length > 0 ? html`<calcite-swatch-group class=${safeClassMap(CSS.swatchGroup)} .label=${messages.saved} .scale=${scale} selection-mode=none>${repeat(savedColors, (color2) => color2, (color2) => html`<calcite-swatch class=${safeClassMap(CSS.savedColor)} .color=${color2} .label=${color2} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${scale} tabindex=0></calcite-swatch>`)}</calcite-swatch-group>` : null}</div>`}</div>` });\n  }\n  renderChannelsTabTitle(channelMode) {\n    const { channelMode: activeChannelMode, messages } = this;\n    const selected = channelMode === activeChannelMode;\n    const label = channelMode === \"rgb\" ? messages.rgb : messages.hsv;\n    return keyed(channelMode, html`<calcite-tab-title class=${safeClassMap(CSS.colorMode)} data-color-mode=${channelMode ?? nothing} @calciteTabsActivate=${this.handleTabActivate} .selected=${selected}>${label}</calcite-tab-title>`);\n  }\n  renderChannelsTab(channelMode) {\n    const { isClearable, channelMode: activeChannelMode, channels, messages, alphaChannel } = this;\n    const selected = channelMode === activeChannelMode;\n    const isRgb = channelMode === \"rgb\";\n    const channelAriaLabels = isRgb ? [messages.red, messages.green, messages.blue] : [messages.hue, messages.saturation, messages.value];\n    const direction = getElementDir(this.el);\n    const channelsToRender = alphaChannel ? channels : channels.slice(0, 3);\n    return keyed(channelMode, html`<calcite-tab class=${safeClassMap(CSS.control)} .selected=${selected}><div class=${safeClassMap(CSS.channels)} dir=ltr>${channelsToRender.map((channelValue, index) => {\n      const isAlphaChannel = index === 3;\n      if (isAlphaChannel) {\n        channelValue = isClearable && !channelValue ? channelValue : alphaToOpacity(channelValue);\n      }\n      return this.renderChannel(channelValue, index, channelAriaLabels[index], direction, isAlphaChannel ? \"%\" : \"\");\n    })}</div></calcite-tab>`);\n  }\n  renderChannel(value, index, ariaLabel, direction, suffix) {\n    return keyed(index, html`<calcite-input-number class=${safeClassMap(CSS.channel)} data-channel-index=${index ?? nothing} dir=${direction ?? nothing} .label=${ariaLabel} lang=${this.messages._lang ?? nothing} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${this.scale === \"l\" ? \"m\" : \"s\"} style=${safeStyleMap({\n      marginLeft: index > 0 && !(this.scale === \"s\" && this.alphaChannel && index === 3) ? \"-1px\" : \"\"\n    })} .suffixText=${suffix} .value=${value?.toString()}></calcite-input-number>`);\n  }\n}\ncustomElement(\"calcite-color-picker\", ColorPicker);\nexport {\n  ColorPicker\n};\n","function debounce(func, debounceMs, { signal, edges } = {}) {\n    let pendingThis = undefined;\n    let pendingArgs = null;\n    const leading = edges != null && edges.includes('leading');\n    const trailing = edges == null || edges.includes('trailing');\n    const invoke = () => {\n        if (pendingArgs !== null) {\n            func.apply(pendingThis, pendingArgs);\n            pendingThis = undefined;\n            pendingArgs = null;\n        }\n    };\n    const onTimerEnd = () => {\n        if (trailing) {\n            invoke();\n        }\n        cancel();\n    };\n    let timeoutId = null;\n    const schedule = () => {\n        if (timeoutId != null) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = null;\n            onTimerEnd();\n        }, debounceMs);\n    };\n    const cancelTimer = () => {\n        if (timeoutId !== null) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n        }\n    };\n    const cancel = () => {\n        cancelTimer();\n        pendingThis = undefined;\n        pendingArgs = null;\n    };\n    const flush = () => {\n        invoke();\n    };\n    const debounced = function (...args) {\n        if (signal?.aborted) {\n            return;\n        }\n        pendingThis = this;\n        pendingArgs = args;\n        const isFirstCall = timeoutId == null;\n        schedule();\n        if (leading && isFirstCall) {\n            invoke();\n        }\n    };\n    debounced.schedule = schedule;\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    signal?.addEventListener('abort', cancel, { once: true });\n    return debounced;\n}\n\nexport { debounce };\n","import { debounce } from './debounce.mjs';\n\nfunction throttle(func, throttleMs, { signal, edges = ['leading', 'trailing'] } = {}) {\n    let pendingAt = null;\n    const debounced = debounce(function (...args) {\n        pendingAt = Date.now();\n        func.apply(this, args);\n    }, throttleMs, { signal, edges });\n    const throttled = function (...args) {\n        if (pendingAt == null) {\n            pendingAt = Date.now();\n        }\n        if (Date.now() - pendingAt >= throttleMs) {\n            pendingAt = Date.now();\n            func.apply(this, args);\n            debounced.cancel();\n            debounced.schedule();\n            return;\n        }\n        debounced.apply(this, args);\n    };\n    throttled.cancel = debounced.cancel;\n    throttled.flush = debounced.flush;\n    return throttled;\n}\n\nexport { throttle };\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {ChildPart, noChange} from '../lit-html.js';\nimport {directive, Directive, PartInfo, PartType} from '../directive.js';\nimport {\n  insertPart,\n  getCommittedValue,\n  removePart,\n  setCommittedValue,\n  setChildPartValue,\n} from '../directive-helpers.js';\n\nexport type KeyFn<T> = (item: T, index: number) => unknown;\nexport type ItemTemplate<T> = (item: T, index: number) => unknown;\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map<unknown, number>();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\nclass RepeatDirective extends Directive {\n  private _itemKeys?: unknown[];\n\n  constructor(partInfo: PartInfo) {\n    super(partInfo);\n    if (partInfo.type !== PartType.CHILD) {\n      throw new Error('repeat() can only be used in text expressions');\n    }\n  }\n\n  private _getValuesAndKeys<T>(\n    items: Iterable<T>,\n    keyFnOrTemplate: KeyFn<T> | ItemTemplate<T>,\n    template?: ItemTemplate<T>\n  ) {\n    let keyFn: KeyFn<T> | undefined;\n    if (template === undefined) {\n      template = keyFnOrTemplate;\n    } else if (keyFnOrTemplate !== undefined) {\n      keyFn = keyFnOrTemplate as KeyFn<T>;\n    }\n    const keys = [];\n    const values = [];\n    let index = 0;\n    for (const item of items) {\n      keys[index] = keyFn ? keyFn(item, index) : index;\n      values[index] = template!(item, index);\n      index++;\n    }\n    return {\n      values,\n      keys,\n    };\n  }\n\n  render<T>(items: Iterable<T>, template: ItemTemplate<T>): Array<unknown>;\n  render<T>(\n    items: Iterable<T>,\n    keyFn: KeyFn<T> | ItemTemplate<T>,\n    template: ItemTemplate<T>\n  ): Array<unknown>;\n  render<T>(\n    items: Iterable<T>,\n    keyFnOrTemplate: KeyFn<T> | ItemTemplate<T>,\n    template?: ItemTemplate<T>\n  ) {\n    return this._getValuesAndKeys(items, keyFnOrTemplate, template).values;\n  }\n\n  override update<T>(\n    containerPart: ChildPart,\n    [items, keyFnOrTemplate, template]: [\n      Iterable<T>,\n      KeyFn<T> | ItemTemplate<T>,\n      ItemTemplate<T>,\n    ]\n  ) {\n    // Old part & key lists are retrieved from the last update (which may\n    // be primed by hydration)\n    const oldParts = getCommittedValue(\n      containerPart\n    ) as Array<ChildPart | null>;\n    const {values: newValues, keys: newKeys} = this._getValuesAndKeys(\n      items,\n      keyFnOrTemplate,\n      template\n    );\n\n    // We check that oldParts, the committed value, is an Array as an\n    // indicator that the previous value came from a repeat() call. If\n    // oldParts is not an Array then this is the first render and we return\n    // an array for lit-html's array handling to render, and remember the\n    // keys.\n    if (!Array.isArray(oldParts)) {\n      this._itemKeys = newKeys;\n      return newValues;\n    }\n\n    // In SSR hydration it's possible for oldParts to be an array but for us\n    // to not have item keys because the update() hasn't run yet. We set the\n    // keys to an empty array. This will cause all oldKey/newKey comparisons\n    // to fail and execution to fall to the last nested brach below which\n    // reuses the oldPart.\n    const oldKeys = (this._itemKeys ??= []);\n\n    // New part list will be built up as we go (either reused from\n    // old parts or created for new keys in this update). This is\n    // saved in the above cache at the end of the update.\n    const newParts: ChildPart[] = [];\n\n    // Maps from key to index for current and previous update; these\n    // are generated lazily only when needed as a performance\n    // optimization, since they are only required for multiple\n    // non-contiguous changes in the list, which are less common.\n    let newKeyToIndexMap!: Map<unknown, number>;\n    let oldKeyToIndexMap!: Map<unknown, number>;\n\n    // Head and tail pointers to old parts and new values\n    let oldHead = 0;\n    let oldTail = oldParts.length - 1;\n    let newHead = 0;\n    let newTail = newValues.length - 1;\n\n    // Overview of O(n) reconciliation algorithm (general approach\n    // based on ideas found in ivi, vue, snabbdom, etc.):\n    //\n    // * We start with the list of old parts and new values (and\n    //   arrays of their respective keys), head/tail pointers into\n    //   each, and we build up the new list of parts by updating\n    //   (and when needed, moving) old parts or creating new ones.\n    //   The initial scenario might look like this (for brevity of\n    //   the diagrams, the numbers in the array reflect keys\n    //   associated with the old parts or new values, although keys\n    //   and parts/values are actually stored in parallel arrays\n    //   indexed using the same head/tail pointers):\n    //\n    //      oldHead v                 v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n    //                                      item order\n    //      newHead ^                 ^ newTail\n    //\n    // * Iterate old & new lists from both sides, updating,\n    //   swapping, or removing parts at the head/tail locations\n    //   until neither head nor tail can move.\n    //\n    // * Example below: keys at head pointers match, so update old\n    //   part 0 in-place (no need to move it) and record part 0 in\n    //   the `newParts` list. The last thing we do is advance the\n    //   `oldHead` and `newHead` pointers (will be reflected in the\n    //   next diagram).\n    //\n    //      oldHead v                 v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n    //                                      & newHead\n    //      newHead ^                 ^ newTail\n    //\n    // * Example below: head pointers don't match, but tail\n    //   pointers do, so update part 6 in place (no need to move\n    //   it), and record part 6 in the `newParts` list. Last,\n    //   advance the `oldTail` and `oldHead` pointers.\n    //\n    //         oldHead v              v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n    //                                      & newTail\n    //         newHead ^              ^ newTail\n    //\n    // * If neither head nor tail match; next check if one of the\n    //   old head/tail items was removed. We first need to generate\n    //   the reverse map of new keys to index (`newKeyToIndexMap`),\n    //   which is done once lazily as a performance optimization,\n    //   since we only hit this case if multiple non-contiguous\n    //   changes were made. Note that for contiguous removal\n    //   anywhere in the list, the head and tails would advance\n    //   from either end and pass each other before we get to this\n    //   case and removals would be handled in the final while loop\n    //   without needing to generate the map.\n    //\n    // * Example below: The key at `oldTail` was removed (no longer\n    //   in the `newKeyToIndexMap`), so remove that part from the\n    //   DOM and advance just the `oldTail` pointer.\n    //\n    //         oldHead v           v oldTail\n    //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n    //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n    //         newHead ^           ^ newTail\n    //\n    // * Once head and tail cannot move, any mismatches are due to\n    //   either new or moved items; if a new key is in the previous\n    //   \"old key to old index\" map, move the old part to the new\n    //   location, otherwise create and insert a new part. Note\n    //   that when moving an old part we null its position in the\n    //   oldParts array if it lies between the head and tail so we\n    //   know to skip it when the pointers get there.\n    //\n    // * Example below: neither head nor tail match, and neither\n    //   were removed; so find the `newHead` key in the\n    //   `oldKeyToIndexMap`, and move that old part's DOM into the\n    //   next head position (before `oldParts[oldHead]`). Last,\n    //   null the part in the `oldPart` array since it was\n    //   somewhere in the remaining oldParts still to be scanned\n    //   (between the head and tail pointers) so that we know to\n    //   skip that old part on future iterations.\n    //\n    //         oldHead v        v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n    //                                      newHead\n    //         newHead ^           ^ newTail\n    //\n    // * Note that for moves/insertions like the one above, a part\n    //   inserted at the head pointer is inserted before the\n    //   current `oldParts[oldHead]`, and a part inserted at the\n    //   tail pointer is inserted before `newParts[newTail+1]`. The\n    //   seeming asymmetry lies in the fact that new parts are\n    //   moved into place outside in, so to the right of the head\n    //   pointer are old parts, and to the right of the tail\n    //   pointer are new parts.\n    //\n    // * We always restart back from the top of the algorithm,\n    //   allowing matching and simple updates in place to\n    //   continue...\n    //\n    // * Example below: the head pointers once again match, so\n    //   simply update part 1 and record it in the `newParts`\n    //   array.  Last, advance both head pointers.\n    //\n    //         oldHead v        v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n    //                                      & newHead\n    //            newHead ^        ^ newTail\n    //\n    // * As mentioned above, items that were moved as a result of\n    //   being stuck (the final else clause in the code below) are\n    //   marked with null, so we always advance old pointers over\n    //   these so we're comparing the next actual old value on\n    //   either end.\n    //\n    // * Example below: `oldHead` is null (already placed in\n    //   newParts), so advance `oldHead`.\n    //\n    //            oldHead v     v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n    //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n    //               newHead ^     ^ newTail\n    //\n    // * Note it's not critical to mark old parts as null when they\n    //   are moved from head to tail or tail to head, since they\n    //   will be outside the pointer range and never visited again.\n    //\n    // * Example below: Here the old tail key matches the new head\n    //   key, so the part at the `oldTail` position and move its\n    //   DOM to the new head position (before `oldParts[oldHead]`).\n    //   Last, advance `oldTail` and `newHead` pointers.\n    //\n    //               oldHead v  v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n    //                                     advance oldTail & newHead\n    //               newHead ^     ^ newTail\n    //\n    // * Example below: Old and new head keys match, so update the\n    //   old head part in place, and advance the `oldHead` and\n    //   `newHead` pointers.\n    //\n    //               oldHead v oldTail\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n    //                                      newHead\n    //                  newHead ^  ^ newTail\n    //\n    // * Once the new or old pointers move past each other then all\n    //   we have left is additions (if old list exhausted) or\n    //   removals (if new list exhausted). Those are handled in the\n    //   final while loops at the end.\n    //\n    // * Example below: `oldHead` exceeded `oldTail`, so we're done\n    //   with the main loop.  Create the remaining part and insert\n    //   it at the new head position, and the update is complete.\n    //\n    //                   (oldHead > oldTail)\n    //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n    //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n    //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n    //                     newHead ^ newTail\n    //\n    // * Note that the order of the if/else clauses is not\n    //   important to the algorithm, as long as the null checks\n    //   come first (to ensure we're always working on valid old\n    //   parts) and that the final else clause comes last (since\n    //   that's where the expensive moves occur). The order of\n    //   remaining clauses is just a simple guess at which cases\n    //   will be most common.\n    //\n    // * Note, we could calculate the longest\n    //   increasing subsequence (LIS) of old items in new position,\n    //   and only move those not in the LIS set. However that costs\n    //   O(nlogn) time and adds a bit more code, and only helps\n    //   make rare types of mutations require fewer moves. The\n    //   above handles removes, adds, reversal, swaps, and single\n    //   moves of contiguous items in linear time, in the minimum\n    //   number of moves. As the number of multiple moves where LIS\n    //   might help approaches a random shuffle, the LIS\n    //   optimization becomes less helpful, so it seems not worth\n    //   the code at this point. Could reconsider if a compelling\n    //   case arises.\n\n    while (oldHead <= oldTail && newHead <= newTail) {\n      if (oldParts[oldHead] === null) {\n        // `null` means old part at head has already been used\n        // below; skip\n        oldHead++;\n      } else if (oldParts[oldTail] === null) {\n        // `null` means old part at tail has already been used\n        // below; skip\n        oldTail--;\n      } else if (oldKeys[oldHead] === newKeys[newHead]) {\n        // Old head matches new head; update in place\n        newParts[newHead] = setChildPartValue(\n          oldParts[oldHead]!,\n          newValues[newHead]\n        );\n        oldHead++;\n        newHead++;\n      } else if (oldKeys[oldTail] === newKeys[newTail]) {\n        // Old tail matches new tail; update in place\n        newParts[newTail] = setChildPartValue(\n          oldParts[oldTail]!,\n          newValues[newTail]\n        );\n        oldTail--;\n        newTail--;\n      } else if (oldKeys[oldHead] === newKeys[newTail]) {\n        // Old head matches new tail; update and move to new tail\n        newParts[newTail] = setChildPartValue(\n          oldParts[oldHead]!,\n          newValues[newTail]\n        );\n        insertPart(containerPart, newParts[newTail + 1], oldParts[oldHead]!);\n        oldHead++;\n        newTail--;\n      } else if (oldKeys[oldTail] === newKeys[newHead]) {\n        // Old tail matches new head; update and move to new head\n        newParts[newHead] = setChildPartValue(\n          oldParts[oldTail]!,\n          newValues[newHead]\n        );\n        insertPart(containerPart, oldParts[oldHead]!, oldParts[oldTail]!);\n        oldTail--;\n        newHead++;\n      } else {\n        if (newKeyToIndexMap === undefined) {\n          // Lazily generate key-to-index maps, used for removals &\n          // moves below\n          newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n          oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n        }\n        if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n          // Old head is no longer in new list; remove\n          removePart(oldParts[oldHead]!);\n          oldHead++;\n        } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n          // Old tail is no longer in new list; remove\n          removePart(oldParts[oldTail]!);\n          oldTail--;\n        } else {\n          // Any mismatches at this point are due to additions or\n          // moves; see if we have an old part we can reuse and move\n          // into place\n          const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n          const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n          if (oldPart === null) {\n            // No old part for this value; create a new one and\n            // insert it\n            const newPart = insertPart(containerPart, oldParts[oldHead]!);\n            setChildPartValue(newPart, newValues[newHead]);\n            newParts[newHead] = newPart;\n          } else {\n            // Reuse old part\n            newParts[newHead] = setChildPartValue(oldPart, newValues[newHead]);\n            insertPart(containerPart, oldParts[oldHead]!, oldPart);\n            // This marks the old part as having been used, so that\n            // it will be skipped in the first two checks above\n            oldParts[oldIndex as number] = null;\n          }\n          newHead++;\n        }\n      }\n    }\n    // Add parts for any remaining new values\n    while (newHead <= newTail) {\n      // For all remaining additions, we insert before last new\n      // tail, since old pointers are no longer valid\n      const newPart = insertPart(containerPart, newParts[newTail + 1]);\n      setChildPartValue(newPart, newValues[newHead]);\n      newParts[newHead++] = newPart;\n    }\n    // Remove any remaining unused old parts\n    while (oldHead <= oldTail) {\n      const oldPart = oldParts[oldHead++];\n      if (oldPart !== null) {\n        removePart(oldPart);\n      }\n    }\n\n    // Save order of new parts for next round\n    this._itemKeys = newKeys;\n    // Directly set part value, bypassing it's dirty-checking\n    setCommittedValue(containerPart, newParts);\n    return noChange;\n  }\n}\n\nexport interface RepeatDirectiveFn {\n  <T>(\n    items: Iterable<T>,\n    keyFnOrTemplate: KeyFn<T> | ItemTemplate<T>,\n    template?: ItemTemplate<T>\n  ): unknown;\n  <T>(items: Iterable<T>, template: ItemTemplate<T>): unknown;\n  <T>(\n    items: Iterable<T>,\n    keyFn: KeyFn<T> | ItemTemplate<T>,\n    template: ItemTemplate<T>\n  ): unknown;\n}\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * and removals.\n *\n * The `keyFn` takes two parameters, the item and its index, and returns a unique key value.\n *\n * ```js\n * html`\n *   <ol>\n *     ${repeat(this.items, (item) => item.id, (item, index) => {\n *       return html`<li>${index}: ${item.name}</li>`;\n *     })}\n *   </ol>\n * `\n * ```\n *\n * **Important**: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive(RepeatDirective) as RepeatDirectiveFn;\n\n/**\n * The type of the class that powers this directive. Necessary for naming the\n * directive's return type.\n */\nexport type {RepeatDirective};\n"],"names":["CSS","button","buttonRound","XButton","_ref","disabled","focusable","key","label","onClick","ref","ref$1","round","scale","title","keyed","html","_templateObject","_taggedTemplateLiteral","safeClassMap","scale2","concat","nothing","getIconScale","calciteSize24","calciteSize32","calciteSize44","calciteSize48","guid","map","count","out","i","Math","random","toString","substring","join","clamp","value","min","max","decimalNumberRegex","RegExp","decimalPlaces","match","parseInt","length","getDecimals","parseFloat","split","remap","fromMin","fromMax","toMin","toMax","closeToRangeEdge","range","threshold","useCancelable","makeGenericController","_","controller","resources","Set","onDisconnected","forEach","resource","cancel","add","resourceOrResources","flat","colors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Object","freeze","reverseNames","create","name","colorNames","hasOwn","cs","to","get","number_","hexDouble","string_","toUpperCase","string","model","slice","toLowerCase","hsl","hwb","rgb","hexAlpha","i2","Number","alpha","isNaN","hex","arguments","undefined","percent","r","g","b","a","keyword","_len","Array","_key","reverseKeywords","keys","cssKeywords","convert","channels","labels","hsv","cmyk","xyz","lab","oklab","lch","oklch","ansi16","ansi256","hcg","apple","LAB_FT","srgbNonlinearTransform","c","cc","srgbNonlinearTransformInv","Error","defineProperty","comparativeDistance","x","y","deriveBFS","fromModel","graph","models","conversions","distance","parent","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","args","wrapConversion","toModel","path","fn","cur","conversion","delta","h","s","l","rdif","gdif","bdif","v","diff","diffc","w","lp","cbrt","mp","sp","k","reversed","currentClosestKeyword","currentClosestDistance","POSITIVE_INFINITY","z","t3","t2","t1","smin","lmin","hi","floor","f","p","q","t","vmin","sl","wh","bl","ratio","n","m","ll","aa","bb","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","saturation","ansi","color","mult","trunc","rem","colorString","char","integer","chroma","hue","pure","mg","wrapRaw","wrappedFn","arg0","wrapRounded","_len2","_key2","result","routes","route","routeModels","raw","skippedModels","hashedModelKeys","sort","limiters","Color","object","this","valpha","newArray","prototype","call","zeroArray","splice","indexOf","hashedKeys","JSON","stringify","push","limit","toJSON","places","self","arguments_","percentString","array","unitArray","unitObject","roundToPlace","getset","maxfn","saturationl","lightness","saturationv","wblack","hexa","rgbArray","alphaHex","rgbNumber","luminosity","lum","element","entries","chan","contrast","color2","lum1","lum2","level","contrastRatio","isDark","isLight","negate","lighten","darken","saturate","desaturate","whiten","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","includes","isArray","number","toFixed","roundTo","channel","modifier","DEFAULT_COLOR","DEFAULT_STORAGE_KEY_PREFIX","RGB_LIMITS","HSV_LIMITS","HUE_LIMIT_CONSTRAINED","OPACITY_LIMITS","STATIC_DIMENSIONS","gap","calciteSpacingFixedSm","slider","height","thumb","radius","preview","size","minWidth","calciteSpacingFixedMd","calciteSpacingFixedXl","ICONS","hexChar","shorthandHex","longhandHex","shorthandHexWithAlpha","longhandHexWithAlpha","alphaToOpacity","opacityToAlpha","opacity","isValidHex","hasAlpha","isShorthandHex","isLonghandHex","evaluateHex","pattern","test","normalizeHex","convertFromHexToHexa","startsWith","rgbToHex","hexToRGB","isShorthand","hexify","rChars","numToHex","gChars","bChars","alphaChars","num","padStart","replace","first","second","third","fourth","CSSColorMode","HEX","HEXA","RGB_CSS","RGBA_CSS","HSL_CSS","HSLA_CSS","ObjectColorMode","RGB","RGBA","HSL","HSLA","HSV","HSVA","parseMode","colorValue","hasChannels","colorObject","every","colorEqual","value1","value2","alphaCompatible","mode","toNonAlphaMode","getSliderWidth","availableWidth","activeStaticDimensions","previewWidth","effectiveWidth","borderWidthInPx","inlineSpaceAroundElements","getColorFieldDimensions","width","SLOTS","CHECKER_DIMENSIONS","squareSize","checkerSquareSize","IDS","styles","css","Swatch","LitElement","constructor","super","containerEl","createRef","focusSetter","useSetFocus","hasImage","interactive","selected","selectionMode","calciteInternalSwatchKeyEvent","createEvent","cancelable","calciteInternalSwatchSelect","calciteInternalSyncSelectedSwatches","calciteSwatchSelect","listen","keyDownHandler","setFocus","options","el","load","handleColorChange","willUpdate","changes","has","hasUpdated","watchSelected","updated","updateHostInteraction","loaded","handleSelectionPropertyChange","event","target","handleEmittingEvent","preventDefault","emit","handleSlotImageChange","slotChangeHasAssignedElement","parentSwatchGroup","selectedItems","internalColor","renderSwatchImage","_templateObject2","renderEmptyDisplay","_templateObject3","svg","_templateObject4","renderDisabledDisplay","svgSmMdPath","_templateObject5","_templateObject6","svgLgPath","_templateObject7","_templateObject8","_templateObject9","renderSwatch","borderRadius","commonSwatchProps","rx","_templateObject0","renderSwatchRect","_objectSpread","clipPath","_templateObject1","fill","id","_ref2","stroke","strokeWidth","_templateObject10","render","_this$label","disableInteraction","role","isEmpty","classes","InteractiveContainer","children","_templateObject11","_Swatch","properties","state","reflect","type","Boolean","attribute","customElement","ColorPickerHexInput","hexInputRef","opacityInputRef","alphaChannel","allowEmpty","hexLabel","calciteColorPickerHexInputChange","connectedCallback","previousNonNullValue","normalized","internalSetValue","onHexInputBlur","inputValue","willClearValue","isLonghand","onHexInputChange","formatHexForInternalInput","onOpacityInputBlur","formatOpacityForInternalInput","onOpacityInputInput","onOpacityInputChange","_this$internalColor","onInputFocus","selectText","onHexInputInput","hexInputValue","oldValue","onInputKeyDown","altKey","ctrlKey","metaKey","shiftKey","composedPath","isNudgeKey","direction","bump","nudgeRGBChannels","withModifiers","singleChar","validHexChar","onHexInputPaste","clipboardData","getData","currentColor","nextColor","normalizedLonghand","changed","amount","context","nudgedChannels","rgbChannels","nudgedAlpha","messages","opacityInputValue","inputScale","numberingSystem","_ColorPickerHexInput","Tabs","slotRef","tabs","titles","bordered","layout","position","calciteInternalTabNavSlotChangeHandler","updateItems","_this$titles","_this$tabs","updateAriaSettings","stopPropagation","detail","defaultSlotChangeHandler","slotChangeGetAssignedElements","componentOnReady","tabIds","titleIds","getSlotAssignedElements","some","tab","localeCompare","tabDomIndexes","Promise","all","getTabIndex","titleDomIndexes","reduce","ids","indexInDOM","registryIndex","_updateAriaInfo","nav","querySelector","querySelectorAll","parentElement","_Tabs","ICON","TabNav","effectiveDir","lastScrollWheelAxis","resizeObserver","createObserver","updateScrollingState","makeFirstVisibleTabClosable","useT9n","hasOverflowingEndTabTitle","hasOverflowingStartTabTitle","selectedTitle","calciteInternalTabChange","calciteInternalTabNavSlotChange","calciteTabChange","focusPreviousTabHandler","focusNextTabHandler","focusFirstTabHandler","focusLastTabHandler","internalActivateTabHandler","internalCloseTabHandler","updateTabTitles","listenOn","document","body","globalInternalTabChangeHandler","_this$resizeObserver","parentTabsEl","closest","observe","storageKey","storageId","localStorage","getItem","storedTab","parse","selectedTabId","selectedTabIdChanged","getElementDir","scrollTabTitleIntoView","tabTitles","getTabIdentifier","then","disconnectedCallback","_this$resizeObserver2","disconnect","enabledTabTitles","filterDirectChildren","filter","tabTitle","closed","scrollerButtonWidth","handleTabFocus","activatedTabTitle","currentSelectedTabTitle","getIndexOfTabTitle","userTriggered","behavior","requestAnimationFrame","isLTR","tabTitleContainer","tabTitleContainerEl","containerBounds","getBoundingClientRect","tabTitleBounds","scrollPosition","scrollLeft","overflowingStartTabTitle","overflowingEndTabTitle","left","scrollTo","right","closedTabTitleEl","handleTabTitleClose","getTabTitleById","syncId","setItem","onTabTitleWheel","deltaX","deltaY","abs","scrollBy","scrollByX","currentTarget","onSlotChange","_this$intersectionObs","intersectionObserver","child","_this$intersectionObs2","visibleTabTitlesIndices","getVisibleTabTitlesIndices","closable","storeTabTitleWrapperRef","root","isOverflowStart","isOverflowEnd","visibleWidth","clientWidth","totalContentWidth","scrollWidth","scrollToTabTitles","reverse","closestToEdge","containerEndX","tabTitleEndX","offsetAdjustment","offsetWidth","offsetLeft","scrollToNextTabTitles","scrollToPreviousTabTitles","destination","focused","focusElementInGroup","onTabTitleScroll","tabTitleIndices","index","selectionModified","totalVisibleTabTitles","activateTab","closedTabTitleIndex","findIndex","nextTabTitleIndex","find","focus","CSS_UTILITY","rtl","renderScrollButton","overflowDirection","isEnd","nextTabTitles","previousTabTitles","_TabNav","messageOverrides","SwatchGroup","items","slotRefEl","calciteSwatchGroupSelect","calciteInternalSwatchKeyEventListener","calciteSwatchSelectListener","calciteInternalSwatchSelectListener","_this$items","interactiveItems","setSelectedItems","updateSelectedItems","_this$slotRefEl$value","_this$items2","_this$items3","itemsFromSlot","assignedElements","flatten","matches","_this$items4","elToMatch","_this$items5","matchingEl","_SwatchGroup","TabTitle","closeButtonRef","mutationObserver","updateHasText","calciteInternalTabIconChanged","hasText","calciteInternalTabTitleRegister","calciteInternalTabsActivate","calciteInternalTabsClose","calciteInternalTabsFocusFirst","calciteInternalTabsFocusLast","calciteInternalTabsFocusNext","calciteInternalTabsFocusPrevious","calciteTabsActivate","calciteTabsClose","internalTabChangeHandler","payload","nodeListToArray","controls","setupTextContentObserver","isServer","selectedHandler","_this$mutationObserve","_document$body","dispatchEvent","CustomEvent","tagName","closeClickHandler","closeTabTitleAndNotify","textContent","trim","setContainerRef","updateRefObserver","_this$mutationObserve2","childList","subtree","iconStartEl","iconFlipRtl","iconStart","iconEndEl","iconEnd","setAttribute","ariaSelected","toAriaBoolean","renderCloseButton","close","_TabTitle","Tab","labeledBy","_Tab","ColorPicker","_this","_color","colorFieldScopeRef","hueScopeRef","internalColorUpdateContext","isActiveChannelInputEmpty","opacityScopeRef","resizeCanvas","shiftKeyChannelAdjustment","upOrDownArrowKeyTracker","_valueWasSet","blocking","captureColorFieldColor","skipEqual","dynamicDimensions","colorField","internalColorSet","baseColorFieldColor","drawColorControls","throttle","colorFieldRenderingContext","drawColorField","hueSliderRenderingContext","drawHueSlider","opacitySliderRenderingContext","drawOpacitySlider","globalPointerMoveHandler","activeCanvasInfo","isConnected","bounds","samplingX","samplingY","clientX","clientY","canvas","captureHueSliderColor","captureOpacitySliderValue","globalPointerUpHandler","isPrimaryPointerButton","previouslyDragging","calciteColorPickerChange","contentBoxSize","inlineSize","updateDynamicDimensions","updateCanvasSize","sliderDims","staticDimensions","channelMode","toChannels","savedColors","channelsDisabled","clearable","fieldDisabled","format","hexDisabled","savedDisabled","calciteColorPickerInput","handleChannelKeyUpOrDown","capture","oldColor","_value","handleValueChange","observeResize","_this$_value","handleAllowEmptyOrClearableChange","isClearable","willSetNoColor","parsedMode","valueIsCompatible","initialColor","colorFromValue","showIncompatibleColorWarning","setMode","updateStaticDimensions","handleAlphaChannelChange","handleAlphaChannelDimensionsChange","handleFormatOrAlphaChannelChange","handleScaleChange","window","removeEventListener","previousColor","effectiveSliderWidth","console","warn","updateChannelsFromColor","modeChanged","nextMode","dragging","colorChanged","endsWith","alphaColorObject","_alphaColorObject$a","normalizeColor","handleTabActivate","getAttribute","handleColorFieldScopeKeyDown","arrowKeyToXYOffset","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","scopeOrientation","colorFieldScopeLeft","colorFieldScopeTop","handleHueScopeKeyDown","arrowKeyToXOffset","handleHexInputChange","handleSavedColorSelect","swatch","handleChannelInput","input","channelIndex","adjustedValue","handleChannelChange","handleChannelBlur","_channels$channelInde","handleChannelFocus","_node$classList","classList","contains","getChannelInputLimit","isAlphaChannel","updateColorFromChannels","handleSavedColorKeyDown","isActivationKey","handleColorFieldPointerDown","handleCanvasControlPointerDown","focusScope","focusEl","handleHueSliderPointerDown","handleOpacitySliderPointerDown","renderingContext","captureValue","scopeNode","addEventListener","once","offsetX","offsetY","handleKeyDown","ensureCompatibleMode","isAlphaCompatible","alphaMode","toAlphaMode","nonAlphaMode","toValue","values","_colorObject$alpha","normalizeAlpha","getSliderCapSpacing","deleteColor","colorToDelete","saveColor","colorToSave","fillStyle","fillRect","whiteGradient","createLinearGradient","addColorStop","blackGradient","drawActiveColorFieldColor","setCanvasContextSize","devicePixelRatio","style","getContext","initColorField","initHueSlider","initOpacitySlider","_this$colorFieldRende","adjustedSliderDimensions","_this$hueSliderRender","_this$opacitySliderRe","hsvColor","drawThumb","applyAlpha","endAngle","beginPath","arc","strokeStyle","lineWidth","createPattern","getCheckeredBackgroundPattern","globalCompositeOperation","drawActiveHueSliderColor","sliderBoundX","getSliderBoundX","hueScopeLeft","thumbRadius","gradient","hueSliderColorStopKeywords","offset","currentOffset","clearRect","drawSliderPath","startColor","midColor","endColor","drawActiveOpacitySliderColor","moveTo","lineTo","quadraticCurveTo","closePath","checkerPattern","createElement","patternContext","opacityScopeLeft","closeToEdge","handleOpacityScopeKeyDown","getAdjustedScopePosition","top","SCOPE_SIZE","sliderWidth","selectedColorInHex","hueTop","hueLeft","opacityTop","opacityLeft","noColor","vertical","adjustedColorFieldScopeLeft","adjustedColorFieldScopeTop","adjustedHueScopeLeft","adjustedHueScopeTop","adjustedOpacityScopeLeft","adjustedOpacityScopeTop","safeStyleMap","renderChannelsTabTitle","renderChannelsTab","saved","repeat","activeChannelMode","channelAriaLabels","channelsToRender","channelValue","renderChannel","ariaLabel","suffix","_this$messages$_lang","_lang","marginLeft","_ColorPicker","debounce","func","debounceMs","pendingThis","signal","edges","pendingArgs","leading","trailing","invoke","apply","timeoutId","schedule","clearTimeout","setTimeout","debounced","aborted","isFirstCall","flush","throttleMs","pendingAt","Date","now","throttled","u","generateMap","e","Map","set","CHILD","dt","o","update","_this$ut","d","ut","j"],"sourceRoot":""}